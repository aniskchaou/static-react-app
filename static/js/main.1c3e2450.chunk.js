(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{382:function(e){e.exports=JSON.parse('{"Dashboard":"The Dashboard module is the central hub of the Dentic Clinic Admin application, providing a comprehensive and real-time overview of your clinic\u2019s operations.\\n\\nIt features interactive widgets that display key metrics such as total patients, upcoming and past appointments, staff on duty, and financial summaries including income, expenses, and outstanding balances.\\n\\nThe dashboard also highlights recent activities, such as new patient registrations, completed appointments, and payments received, allowing administrators to monitor clinic performance at a glance.\\n\\nTop lists showcase the most active doctors, most frequent patients, and most prescribed medicaments. Quick action buttons enable users to rapidly add new patients, schedule appointments, or generate reports.\\n\\nThe dashboard is fully customizable, allowing users to rearrange widgets and select which metrics are most relevant to their role. This module is designed to streamline daily management, support data-driven decision-making, and provide instant access to the most important information for running a successful clinic.","Patient Management":"The Patient Management module is designed to provide a complete and organized system for handling all patient-related information.\\n\\nUsers can add new patients, edit existing records, and search for patients using various filters such as name, medical record number, or contact details.\\n\\nEach patient profile includes comprehensive data fields: personal information, contact details, insurance information, blood type, allergies, and emergency contacts.\\n\\nThe module supports detailed medical history tracking, allowing clinicians to record past diagnoses, treatments, surgeries, and chronic conditions. Allergies and current medications can be logged and updated, ensuring safe and effective care.\\n\\nThe system also allows for the upload and storage of patient documents, such as ID scans, insurance cards, and consent forms. All patient information is securely stored and easily accessible for appointments, billing, and reporting.\\n\\nThe module is compliant with healthcare data privacy standards, ensuring that sensitive information is protected at all times.","Doctor Management":"The Doctor Management module enables administrators to efficiently manage all aspects of doctor profiles and schedules.\\n\\nEach doctor profile contains personal and professional information, including specialties, qualifications, certifications, and contact details.\\n\\nThe module allows for the assignment of doctors to specific clinics or departments, and supports the management of their working hours and availability.\\n\\nAdministrators can monitor doctor performance through appointment statistics, patient feedback, and activity logs. Credential tracking ensures that all licenses and certifications are up to date, with automated reminders for renewals.\\n\\nThe module also facilitates communication between doctors and other staff members, supporting collaboration and coordinated patient care. Integration with the appointment system allows for real-time updates to doctor schedules and availability.","Staff Management":"Staff Management provides a centralized system for managing all non-doctor personnel within the clinic.\\n\\nUsers can add, edit, and remove staff profiles, assign roles and permissions, and track employment history.\\n\\nThe module supports onboarding processes, including document uploads, background checks, and training records. Role-based access control ensures that each staff member has appropriate permissions for their responsibilities, enhancing security and workflow efficiency.\\n\\nStaff schedules can be managed and integrated with the clinic\u2019s calendar, ensuring adequate coverage for all shifts. Performance reviews and attendance tracking are also supported, enabling administrators to maintain a high-performing and accountable team.","Clinic Management":"The Clinic Management module centralizes all information related to clinic locations, facilities, and operational details.\\n\\nAdministrators can manage multiple branches, each with its own address, contact information, and working hours.\\n\\nThe module supports the configuration of departments, treatment rooms, and equipment inventories. Public-facing information, such as clinic hours and contact numbers, can be updated to ensure patients always have accurate details.\\n\\nThe system also tracks facility maintenance schedules and compliance with health and safety regulations. Integration with appointment and staff management modules ensures that resources are optimally allocated and that the clinic operates smoothly across all locations.","Appointment Management":"The Appointment Management module streamlines the scheduling, editing, and tracking of all patient appointments.\\n\\nUsers can book new appointments by selecting a patient, doctor, clinic location, date, and time. The system supports both in-person and telemedicine appointments, with options for recurring visits and group sessions.\\n\\nAppointment statuses (Scheduled, Completed, Cancelled, No-Show) are tracked, and automated reminders can be sent to patients and staff via email or SMS.\\n\\nThe module provides a calendar view for easy visualization of daily, weekly, or monthly schedules. Appointment history is maintained for each patient and doctor, supporting continuity of care and performance analysis.\\n\\nThe system also handles appointment conflicts, waitlists, and overbooking scenarios, ensuring efficient use of clinic resources.","Billing & Invoices":"The Billing & Invoices module automates the financial workflow for all patient visits and services.\\n\\nUsers can generate detailed invoices that include itemized charges for consultations, procedures, medicaments, and additional services.\\n\\nThe module supports the application of discounts, taxes, and insurance adjustments. Payment statuses are tracked in real time, and overdue invoices trigger automated reminders.\\n\\nThe system integrates with the Payments module to reconcile received payments and outstanding balances. Users can generate financial reports, export invoices to PDF, and maintain a complete billing history for each patient.\\n\\nThe module is designed to ensure accuracy, transparency, and compliance with accounting standards.","Payments":"The Payments module provides a comprehensive system for tracking all financial transactions related to patient care.\\n\\nUsers can record payments made by cash, credit card, insurance, or other methods. The module tracks outstanding balances, partial payments, and refunds.\\n\\nIntegration with the Billing & Invoices module ensures that all payments are properly reconciled. The system generates payment receipts, supports batch processing, and provides detailed financial reports for analysis.\\n\\nSecurity features ensure that all payment data is encrypted and compliant with financial regulations.","Expenses":"The Expenses module allows administrators to record, categorize, and monitor all clinic expenditures.\\n\\nUsers can log expenses for supplies, equipment, utilities, salaries, and other operational costs. Each expense entry can include supporting documents such as receipts or invoices.\\n\\nThe module supports budget tracking, expense approvals, and recurring payments. Detailed expense reports can be generated by category, date range, or vendor, supporting financial planning and accountability.\\n\\nIntegration with the Payments and Billing modules provides a complete picture of the clinic\u2019s financial health.","Memberships":"The Memberships module enables clinics to offer and manage patient subscription plans.\\n\\nUsers can create multiple membership tiers, each with its own pricing, benefits, and renewal terms. The system tracks active memberships, renewal dates, and payment statuses.\\n\\nPatients can be enrolled in memberships during registration or at any time during their care. The module supports automated renewal reminders, benefit tracking (such as free checkups or discounts), and reporting on membership utilization.\\n\\nThis feature helps clinics build long-term relationships with patients and generate recurring revenue.","Prescription Management":"The Prescription Management module streamlines the process of creating, editing, and viewing patient prescriptions.\\n\\nClinicians can generate digital prescriptions, select medicaments from the clinic\u2019s inventory, and specify dosage, frequency, and duration.\\n\\nThe system tracks each patient\u2019s medication history, monitors for potential drug interactions or allergies, and supports refill management.\\n\\nPrescriptions can be printed, emailed, or sent electronically to partner pharmacies. All prescription data is securely stored and accessible for audits or regulatory compliance.","Medicament Management":"Medicament Management provides a robust inventory system for all medicaments and medical supplies used in the clinic.\\n\\nUsers can add new medicaments, update stock levels, and track expiration dates and batch numbers.\\n\\nThe module supports supplier and manufacturer management, purchase order generation, and stock alerts for low or expiring items.\\n\\nIntegration with the Prescription and Billing modules ensures accurate tracking of medicament usage and costs. Detailed inventory reports help clinics optimize purchasing and reduce waste.","Certificates":"The Certificates module allows clinics to issue, manage, and archive official documents for patients.\\n\\nCommon certificate types include medical certificates, treatment confirmations, and fitness-for-work statements.\\n\\nUsers can generate certificates using customizable templates, print or email them directly to patients, and maintain a searchable archive for future reference.\\n\\nThe module supports digital signatures and compliance with legal documentation standards.","Reports & Analytics":"The Reports & Analytics module provides powerful tools for analyzing clinic performance across multiple dimensions.\\n\\nUsers can generate reports on patient demographics, appointment trends, financial performance, staff productivity, and more.\\n\\nInteractive charts and dashboards allow for real-time monitoring and historical analysis. Reports can be exported in various formats (PDF, Excel) and scheduled for automatic delivery.\\n\\nThis module supports data-driven decision-making and strategic planning.","Contact & Communication":"This module centralizes all tools for communicating with patients and staff.\\n\\nUsers can send appointment reminders, health tips, and announcements via email or SMS. The system logs all communications for audit purposes and supports two-way messaging with patients.\\n\\nOnline forms and chat features can be integrated for patient inquiries and support. The module also facilitates internal communication among staff members, enhancing coordination and patient care.","Settings":"The Settings module allows administrators to customize the platform to fit the clinic\u2019s unique needs.\\n\\nUsers can update their profiles, configure dashboard widgets, manage user accounts and permissions, and set clinic-wide preferences such as working hours, notification settings, and branding.\\n\\nSecurity settings, including password policies and two-factor authentication, are also managed here. The module ensures that the system remains flexible, secure, and aligned with clinic policies.","Help & Documentation":"The Help & Documentation module provides comprehensive resources for users at all levels.\\n\\nAccess user guides, video tutorials, FAQs, and troubleshooting tips directly from the platform. The help center is searchable and regularly updated to reflect new features and best practices.\\n\\nUsers can also contact support or submit feedback to improve the system. This module ensures that all users can maximize the value of the Dentic Clinic Admin application."}')},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t){},492:function(e,t){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},628:function(e,t,a){},629:function(e,t,a){},630:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),i=a.n(n),l=a(56),c=a.n(l),r=(a(423),a.p,a(424),a(425),a(45)),o=a(55);class d{}d.USER_NAME="Admin",d.CONNECTED_USER=!1,d.HTTP_ERR_MESSAGE="",d.USER_DETAIL={},d.DELTE_MSG="Are you sure you want to delete ?",d.SETTINGS_UPDATE_MSG="Your settings has been updated.",d.CREATE_MSG="New item has been created.",d.UPDATE_MSG="item has been updated.",d.REMOVE_MSG="item has been removed.",d.ERR_MSG="An Error Occurred Please Try Again Later",d.DEMO_MODE=!1,d.DEMO_MODE=!0;var j=a(6),b=a.n(j);var m="",h=b.a.create({baseURL:m,headers:{"Content-type":"application/json"}});var u=()=>h.get("/messages"),x=e=>h.delete(`/messages/${e}`),p=()=>h.get("/messages/count");function O(e,t,a){window.createNotification({title:e,message:t,closeOnClick:!0,displayCloseButton:!1,positionClass:"nfc-top-right",onclick:!1,theme:a})({title:e,message:t,closeOnClick:!0,displayCloseButton:!1,positionClass:"nfc-top-right",onclick:!1,theme:a})}var f=a(758),g=a(741),v=a(763),y=a(764),C=a(392),S=a(750),w=a(751);var N={getAllAppointement:()=>h.get("/appointments"),createAppointement:e=>h.post("/appointments",e),editAppointement:(e,t)=>h.put(`/appointments/${e}`,t),getCount:()=>h.get("/appointments/count"),removeAppointement:e=>h.delete(`/appointments/${e}`)},D=a(63);let k="";try{const e=JSON.parse(localStorage.getItem("user"));e&&e.username&&(k=e.username.charAt(0).toUpperCase()+e.username.slice(1))}catch{k=""}const W={name:k||"User",role:"Administrator",avatar:"images/admin.png"},I=e=>{var t;let{connected:a,handleClick:i}=e,l=Object(r.useHistory)(),c=Object(r.useLocation)();const[j,m]=Object(n.useState)(!1),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)([]),[k,I]=Object(n.useState)({input:""}),[P,T]=Object(n.useState)(!1),[A,M]=Object(n.useState)("en"),[R,E]=Object(n.useState)(!0),[q,z]=Object(n.useState)(null),L=()=>z(null),[F,B]=Object(n.useState)(null),$=()=>B(null),[U,_]=Object(n.useState)("online"),G=c.pathname.split("/").filter(Boolean),[V,H]=Object(n.useState)(null),[Y,J]=Object(n.useState)({system:{appName:"App"}});Object(n.useEffect)((()=>{d.DEMO_MODE?fetch("/demo/clinicssettings.json").then((e=>e.json())).then((e=>J(e))).catch((()=>J({system:{appName:"App"}}))):b.a.get("/clinicsettings").then((e=>J(e.data))).catch((()=>J({system:{appName:"App"}})))}),[]);return Object(s.jsx)("div",{id:"right-panel",className:"right-panel"+(P?" dark-mode":""),style:{display:a?"block":"none"},children:Object(s.jsx)("header",{id:"header",className:"header",children:Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",flexWrap:"nowrap",padding:"0 16px",minHeight:64,boxSizing:"border-box"},children:[Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(s.jsxs)("span",{className:"navbar-brand",style:{display:"flex",alignItems:"center",fontWeight:700,fontSize:28,color:"#1976d2",letterSpacing:1,fontFamily:"inherit"},children:[Object(s.jsx)(D.k,{style:{fontSize:32,marginRight:10,color:"#1976d2"}}),(null===Y||void 0===Y||null===(t=Y.system)||void 0===t?void 0:t.appName)||"App"]}),Object(s.jsx)(f.a,{onClick:()=>E((e=>!e)),sx:{ml:1,display:{md:"none"}},children:Object(s.jsx)(D.a,{})})]}),Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1,marginLeft:16,marginRight:16,minWidth:0,overflow:"hidden"},children:[Object(s.jsx)(D.f,{style:{marginRight:8,color:"#1976d2",flexShrink:0}}),Object(s.jsx)("nav",{"aria-label":"breadcrumb",style:{width:"100%",overflow:"hidden"},children:Object(s.jsxs)("ol",{className:"breadcrumb",style:{margin:0,background:"none",padding:0,display:"flex",alignItems:"center",width:"100%",whiteSpace:"nowrap",overflowX:"auto"},children:[Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(o.a,{to:"/",children:"Home"})}),G.map(((e,t)=>Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(o.a,{to:`/${G.slice(0,t+1).join("/")}`,children:e.charAt(0).toUpperCase()+e.slice(1)})},t)))]})})]}),Object(s.jsxs)("div",{className:"header-menu",style:{display:"flex",alignItems:"center",gap:8,flexShrink:0},children:[Object(s.jsxs)(g.a,{value:A,onChange:e=>M(e.target.value),size:"small",sx:{minWidth:90,fontSize:14,background:"#fff"},children:[Object(s.jsx)(v.a,{value:"en",children:"English"},"en"),Object(s.jsx)(v.a,{value:"fr",disabled:!0,children:"Fran\xe7ais"},"fr"),Object(s.jsx)(v.a,{value:"ar",disabled:!0,children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},"ar")]}),Object(s.jsx)("div",{className:"form-inline",style:{marginRight:0},children:Object(s.jsxs)("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),l.replace("/result/"+k.input)},children:[Object(s.jsx)("input",{onChange:e=>{const{name:t,value:a}=e.target;I({...k,[t]:a})},name:"input",value:k.input,onKeyDown:e=>{13===e.keyCode&&l.replace("/result/"+k.input)},className:"form-control mr-sm-2",type:"text",placeholder:"Global Search...","aria-label":"Search",style:{minWidth:140,maxWidth:180}}),Object(s.jsx)("button",{className:"search-close",type:"submit",children:Object(s.jsx)("i",{className:"fa fa-search"})})]})}),Object(s.jsx)(y.a,{title:"Quick Add",children:Object(s.jsx)(f.a,{color:"primary",onClick:e=>B(e.currentTarget),children:Object(s.jsx)(D.h,{})})}),Object(s.jsxs)(C.a,{anchorEl:F,open:Boolean(F),onClose:$,children:[Object(s.jsx)(v.a,{onClick:()=>{$(),l.push("/appointments/add")},children:"Add Appointment"}),Object(s.jsx)(v.a,{onClick:()=>{$(),l.push("/patients/add")},children:"Add Patient"}),Object(s.jsx)(v.a,{onClick:()=>{$(),l.push("/inventory/add")},children:"Add Inventory Item"})]}),Object(s.jsx)(y.a,{title:"Appointments",children:Object(s.jsx)(f.a,{color:"secondary",onClick:e=>{H(e.currentTarget),m(!0),d.DEMO_MODE?fetch("/demo/appointments.json").then((e=>e.json())).then((e=>{p(e),m(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),m(!1)})):N.getAllAppointement().then((e=>{p(e.data),m(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),m(!1)}))},children:Object(s.jsx)(S.a,{badgeContent:null===x||void 0===x?void 0:x.length,color:"error",children:Object(s.jsx)(D.b,{})})})}),Object(s.jsxs)(C.a,{anchorEl:V,open:Boolean(V),onClose:()=>H(null),PaperProps:{style:{minWidth:340,maxHeight:350,overflowY:"auto",paddingBottom:0}},children:[Object(s.jsx)(v.a,{disabled:!0,children:Object(s.jsxs)("strong",{children:["You have ",x.length," Appointments"]})}),j?Object(s.jsx)(v.a,{children:"Loading..."}):0===x.length?Object(s.jsx)(v.a,{children:"No appointments found."}):x.map((e=>Object(s.jsx)(v.a,{style:{whiteSpace:"normal",alignItems:"flex-start",padding:"12px 8px",borderBottom:"1px solid #f0f0f0",background:"#f9f9f9",borderRadius:8,margin:"6px 0"},children:Object(s.jsxs)("div",{style:{width:"100%"},children:[Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:4},children:[Object(s.jsx)("span",{style:{fontWeight:600,fontSize:15,color:"#1976d2",marginRight:8},children:e.patient}),e.status&&Object(s.jsx)("span",{style:{background:"Confirmed"===e.status?"#e8f5e9":"Pending"===e.status?"#fff8e1":"Cancelled"===e.status?"#ffebee":"#e3f2fd",color:"Confirmed"===e.status?"#388e3c":"Pending"===e.status?"#ffa000":"Cancelled"===e.status?"#e53935":"#1976d2",borderRadius:8,padding:"2px 10px",fontSize:13,fontWeight:600,marginLeft:4},children:e.status})]}),e.date&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Date:"})," ",Object(s.jsx)("span",{style:{background:"#e3f2fd",color:"#1976d2",borderRadius:6,padding:"2px 8px",fontSize:13,fontWeight:500},children:new Date(e.date).toLocaleString()})]}),e.startTime&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Start:"})," ",Object(s.jsx)("span",{style:{background:"#fffde7",color:"#fbc02d",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.startTime})]}),e.endTime&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"End:"})," ",Object(s.jsx)("span",{style:{background:"#e1f5fe",color:"#0288d1",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.endTime})]}),e.doctor&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Doctor:"})," ",Object(s.jsx)("span",{style:{background:"#ede7f6",color:"#5e35b1",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.doctor})]}),e.type&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Type:"})," ",Object(s.jsx)("span",{style:{background:"#f3e5f5",color:"#8e24aa",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.type})]}),e.location&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Location:"})," ",Object(s.jsx)("span",{style:{background:"#e0f2f1",color:"#00897b",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.location})]}),e.phone&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Phone:"})," ",Object(s.jsx)("span",{style:{background:"#fce4ec",color:"#ad1457",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.phone})]}),e.reason&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Reason:"})," ",Object(s.jsx)("span",{style:{background:"#fff3e0",color:"#ef6c00",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.reason})]}),e.notes&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Notes:"})," ",Object(s.jsx)("span",{style:{background:"#f3e5f5",color:"#8e24aa",borderRadius:6,padding:"2px 8px",fontSize:13},children:e.notes})]}),e.createdAt&&Object(s.jsxs)("div",{style:{marginBottom:2},children:[Object(s.jsx)("strong",{children:"Created:"})," ",Object(s.jsx)("span",{style:{background:"#ede7f6",color:"#5e35b1",borderRadius:6,padding:"2px 8px",fontSize:13},children:new Date(e.createdAt).toLocaleString()})]}),e.updatedAt&&Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Updated:"})," ",Object(s.jsx)("span",{style:{background:"#fbe9e7",color:"#d84315",borderRadius:6,padding:"2px 8px",fontSize:13},children:new Date(e.updatedAt).toLocaleString()})]})]})},e.id||e.patient)))]}),Object(s.jsx)(y.a,{title:"Help & Support",children:Object(s.jsx)(f.a,{color:"info",component:o.a,to:"/help",children:Object(s.jsx)(D.j,{})})}),Object(s.jsx)(f.a,{onClick:e=>z(e.currentTarget),sx:{ml:1},children:Object(s.jsx)(w.a,{src:W.avatar,alt:W.name})}),Object(s.jsxs)(C.a,{anchorEl:q,open:Boolean(q),onClose:L,children:[Object(s.jsxs)(v.a,{disabled:!0,children:[Object(s.jsx)(w.a,{src:W.avatar,sx:{mr:1}}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{fontWeight:600},children:W.name}),Object(s.jsx)("div",{style:{fontSize:13,color:"#888"},children:W.role})]})]}),Object(s.jsxs)(v.a,{onClick:()=>{L(),l.push("/profile")},children:[Object(s.jsx)(D.m,{style:{marginRight:8}})," My Profile"]}),Object(s.jsxs)(v.a,{onClick:()=>{L(),l.push("/configuration")},children:[Object(s.jsx)(D.e,{style:{marginRight:8}})," Settings"]}),Object(s.jsxs)(v.a,{onClick:()=>{L(),i(!1),localStorage.clear(),l.push("/login")},children:[Object(s.jsx)(D.i,{style:{marginRight:8}})," Log Out"]})]})]})]})})})};I.defaultProps={};var P=I;function T(){let e=[{src:"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"},{src:"assets/js/init.js"},{src:"assets/js/main.js"}];for(let t=0;t<e.length;t++){const a=document.createElement("script");a.src=e[t].src,a.type="text/javascript",a.async=!1,a.charset="utf-8",document.getElementById("root").appendChild(a),console.log(t)}}a(449);let A="";try{const e=JSON.parse(localStorage.getItem("user"));e&&e.username&&(A=e.username.charAt(0).toUpperCase()+e.username.slice(1))}catch{A=""}const M={name:A||"User",role:"Admin",avatar:"images/admin.png"};var R=e=>{let{connected:t,darkMode:a}=e;const[l,c]=Object(n.useState)(2),[d,j]=Object(n.useState)(!1),[b,m]=Object(n.useState)("");Object(r.useLocation)();Object(n.useEffect)((()=>{h()}),[]);const h=()=>{p().then((e=>{c(e.data.message)}))},u=[{section:"Main",items:[{to:"/dashboard",icon:"fa-laptop",label:"Dashboard"},{to:"/Odontogram",icon:"fa-tooth",label:"Odontogram"}]},{section:"Consultations",items:[{dropdown:!0,icon:"fa-calendar",label:"Consultations",children:[{to:"/rendezvous",label:"Appointments",badge:2,icon:"fa-calendar-check"},{to:"/quick-test",label:"Quick tests",icon:"fa-vial"}]}]},{section:"Management",items:[{to:"/patient",icon:"fa-user",label:"Patients"},{to:"/messages",icon:"fa-envelope-open",label:"Messages",badge:l},{to:"/certificate",icon:"fa-certificate",label:"Certificates"},{dropdown:!0,icon:"fa-usd",label:"Finances",children:[{to:"/payment",label:"Payments",icon:"fa-credit-card"},{to:"/expense",label:"Expenses",icon:"fa-money-bill"}]},{dropdown:!0,icon:"fa-hotel",label:"Pharmaceuticals",children:[{to:"/medicaments",label:"Medicaments",icon:"fa-pills"},{to:"/medicament-manufacture",label:"Manufactures",icon:"fa-industry"},{to:"/medicament-category",label:"Categories",icon:"fa-tags"}]},{to:"/prescription",icon:"fa-bars",label:"Prescriptions"}]},{section:"CMS",items:[{dropdown:!0,icon:"fa-bookmark",label:"CMS",children:[{to:"/",label:"Web Front",icon:"fa-screen"},{to:"/aboutus",label:"About Us Page",icon:"fa-home"},{to:"/servicepage",label:"Service Page",icon:"fa-concierge-bell"}]}]},{section:"Analytics",items:[{dropdown:!0,icon:"fa-area-chart",label:"Analytics",children:[{to:"/patient-analytics",label:"Patient",icon:"fa-user-chart"},{to:"/medicament-analytics",label:"Medicament",icon:"fa-chart-bar"}]}]},{section:"Clinic",items:[{dropdown:!0,icon:"fa-medkit",label:"Clinic Management",children:[{to:"/treatment-plan",label:"Treatment Plan",icon:"fa-notes-medical"},{to:"/telemedicine",label:"Telemedicine",icon:"fa-video"},{to:"/staff",label:"Staff",icon:"fa-users"},{to:"/doctor",label:"Doctor",icon:"fa-user-md"},{to:"/clinic",label:"Clinic",icon:"fa-hospital"},{to:"/billing",label:"Billing",icon:"fa-file-invoice-dollar"}]}]},{section:"Diagnostics",items:[{dropdown:!0,icon:"fa-stethoscope",label:"Diagnostics & Treatment",children:[{to:"/procedure",label:"Procedure",icon:"fa-stethoscope"},{to:"/operation",label:"Operation",icon:"fa-syringe"},{to:"/diagnosis",label:"Diagnosis",icon:"fa-diagnoses"},{to:"/dental-imaging",label:"Dental Imaging",icon:"fa-x-ray"}]}]},{section:"Records",items:[{dropdown:!0,icon:"fa-heartbeat",label:"Patient Records",children:[{to:"/dental-membership",label:"Dental Membership",icon:"fa-id-card"},{to:"/insurance",label:"Insurance",icon:"fa-shield-alt"}]}]},{section:"Inventory",items:[{dropdown:!0,icon:"fa-archive",label:"Inventory Management",children:[{to:"/inventory-item",label:"Inventory Item",icon:"fa-boxes"},{to:"/equipment-maintenance",label:"Equipment Maintenance",icon:"fa-tools"}]}]},{section:"Settings",items:[{to:"/configuration",icon:"fa-cogs",label:"Settings"},{to:"/help",icon:"fa-question-circle",label:"Help"}]}],x=d?28:18;return Object(s.jsxs)("aside",{id:"left-panel",className:`left-panel${d?" collapsed":""}${a?" dark-mode":""}`,style:{display:t?"block":"none",width:d?80:250,minWidth:d?80:250,maxWidth:d?80:250,transition:"width 0.2s, min-width 0.2s, max-width 0.2s"},tabIndex:0,onKeyDown:e=>{"Escape"===e.key&&j(!1)},children:[Object(s.jsx)("div",{className:"sidebar-toggle",style:{padding:8,textAlign:"right"},children:Object(s.jsx)("button",{"aria-label":d?"Expand sidebar":"Collapse sidebar",onClick:()=>j(!d),style:{background:"none",border:"none",cursor:"pointer",color:a?"#fff":"#333",fontSize:20},children:Object(s.jsx)("i",{className:"fa "+(d?"fa-chevron-right":"fa-chevron-left")})})}),Object(s.jsxs)("div",{className:"sidebar-profile",style:{display:"flex",alignItems:"center",flexDirection:d?"column":"row",padding:d?"8px 0":"8px 16px",borderBottom:"1px solid #eee"},children:[Object(s.jsx)("img",{src:M.avatar,alt:"avatar",style:{width:38,height:38,borderRadius:"50%",marginRight:d?0:10,marginBottom:d?6:0}}),!d&&Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{fontWeight:600},children:M.name}),Object(s.jsx)("div",{style:{fontSize:13,color:"#888"},children:M.role}),Object(s.jsx)("div",{style:{fontSize:12,color:"#1976d2",fontWeight:500,marginTop:2},children:"Version 1.1.0"})]})]}),Object(s.jsx)("div",{style:{padding:d?"8px 0":"8px 16px",borderBottom:"1px solid #eee"},children:Object(s.jsx)("input",{type:"text",placeholder:"Search menu...",value:b,onChange:e=>m(e.target.value),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid #ccc",fontSize:14}})}),Object(s.jsx)("nav",{className:"navbar navbar-expand-sm navbar-default",style:{width:"100%"},children:Object(s.jsx)("div",{id:"main-menu",className:"main-menu collapse navbar-collapse",children:Object(s.jsx)("ul",{className:"nav navbar-nav",style:{width:"100%"},children:(O=u,b?O.map((e=>({...e,items:e.items.map((e=>{if(e.dropdown){const t=e.children.filter((e=>e.label.toLowerCase().includes(b.toLowerCase())));return t.length>0?{...e,children:t}:null}return e.label.toLowerCase().includes(b.toLowerCase())?e:null})).filter(Boolean)}))).filter((e=>e.items.length>0)):O).map((e=>Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)("li",{className:"nav-section-title",style:{fontWeight:700,fontSize:13,color:"#888",padding:d?"8px 0 4px 0":"12px 16px 4px 16px",borderTop:"1px solid #eee"},children:!d&&e.section}),e.items.map((e=>e.dropdown?Object(s.jsxs)("li",{className:"menu-item-has-children dropdown",children:[Object(s.jsxs)("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",tabIndex:0,title:e.label,style:{display:"flex",alignItems:"center"},children:[Object(s.jsx)("i",{className:`menu-icon fa ${e.icon}`,style:{width:32,textAlign:"center",fontSize:x,transition:"font-size 0.2s"}}),!d&&Object(s.jsx)("span",{children:e.label}),!d&&Object(s.jsx)("i",{className:"fa fa-caret-down",style:{marginLeft:"auto",fontSize:12}})]}),Object(s.jsx)("ul",{className:"sub-menu children dropdown-menu",style:{left:d?60:250},children:e.children.map((e=>Object(s.jsx)("li",{children:Object(s.jsxs)(o.b,{to:e.to,className:e=>{let{isActive:t}=e;return t?"activeNavLink":""},tabIndex:0,title:e.label,style:{display:"flex",alignItems:"center",padding:"6px 0"},children:[!d&&Object(s.jsx)("span",{style:{marginRight:12},children:e.label}),e.badge&&Object(s.jsx)("span",{className:"badge badge-primary",style:{marginLeft:8},children:e.badge})]})},e.to)))})]},e.label):Object(s.jsx)("li",{children:Object(s.jsxs)(o.b,{to:e.to,className:e=>{let{isActive:t}=e;return t?"activeNavLink":""},tabIndex:0,title:e.label,style:{display:"flex",alignItems:"center",padding:"6px 0"},children:[Object(s.jsx)("i",{className:`menu-icon fa ${e.icon||"fa-circle"}`,style:{width:32,textAlign:"center",fontSize:x,transition:"font-size 0.2s",marginRight:d?0:16}}),!d&&Object(s.jsx)("span",{style:{marginRight:12},children:e.label}),e.badge&&Object(s.jsx)("span",{className:"badge badge-primary",style:{marginLeft:8},children:e.badge})]})},e.to)))]},e.section)))})})}),Object(s.jsx)("style",{children:"\n          @media (max-width: 768px) {\n            .left-panel {\n              position: absolute;\n              z-index: 2000;\n              height: 100vh;\n              left: 0;\n              top: 0;\n              background: #fff;\n              box-shadow: 2px 0 8px rgba(0,0,0,0.08);\n            }\n            .left-panel.collapsed {\n              width: 0 !important;\n              min-width: 0 !important;\n              overflow: hidden;\n            }\n          }\n          .left-panel.dark-mode {\n            background: #23272b;\n            color: #fff;\n          }\n          .left-panel .activeNavLink {\n            background: #1976d2;\n            color: #fff !important;\n            border-radius: 4px;\n          }\n          .left-panel .menu-icon {\n            color: #1976d2;\n          }\n          .left-panel.dark-mode .menu-icon {\n            color: #90caf9;\n          }\n          .left-panel .badge-primary {\n            background: #1976d2;\n            color: #fff;\n          }\n        "})]});var O},E=(a(450),a(451),a(452),a(765)),q=a(747),z=a(766),L=a(748),F=a(752),B=a(738),$=a(767),U=a(178),_=a(749),G=a(768),V=a(729),H=a(769),Y=a(770);const J={system:{appName:"Dentic",address:"123 Dentic St",email:"support@dentic.com",showLogo:!1},localisation:{language:"en",dateFormat:"YYYY-MM-DD",currency:"USD",currencySymbol:"$"},openHours:[{day:"Monday",hours:"08:00 - 18:00"},{day:"Tuesday",hours:"08:00 - 18:00"},{day:"Wednesday",hours:"08:00 - 18:00"},{day:"Thursday",hours:"08:00 - 18:00"},{day:"Friday",hours:"08:00 - 18:00"},{day:"Saturday",hours:"09:00 - 14:00"},{day:"Sunday",hours:"Closed"}]},Q="dentic_settings_json",Z="/clinicsettings",X=[{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"MM/DD/YYYY",label:"MM/DD/YYYY"}],K=[{value:"en",label:"English"},{value:"fr",label:"French"},{value:"ar",label:"Arabic"},{value:"es",label:"Spanish"}],ee=[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"MAD",label:"MAD - Moroccan Dirham"}],te=[{value:"$",label:"$"},{value:"\u20ac",label:"\u20ac"},{value:"\xa3",label:"\xa3"},{value:"\u062f.\u0645.",label:"\u062f.\u0645."}],ae=()=>{var e,t,a,i,l,c,r,o,j,m,h,u,x,p,O,f;const[y,C]=Object(n.useState)(J),[S,w]=Object(n.useState)(0),[N,D]=Object(n.useState)({open:!1,section:null}),[k,W]=Object(n.useState)(!1);Object(n.useEffect)((()=>{d.DEMO_MODE?fetch("/demo/clinicssettings.json").then((e=>e.json())).then((e=>{e&&C(e)})).catch((()=>{const e=localStorage.getItem(Q);e&&C(JSON.parse(e))})):b.a.get(Z).then((e=>{e.data&&C(e.data)})).catch((()=>{const e=localStorage.getItem(Q);e&&C(JSON.parse(e))}))}),[]);const I=e=>{C((t=>({...t,[e]:J[e]})))},P=e=>D({open:!0,section:e}),T=()=>D({open:!1,section:null}),A=()=>{var e,t,a,n,i,l,c,r,o;const d=N.section,j=null!==(e=y[d])&&void 0!==e?e:{},b=e=>{const{name:t,value:a,type:s,checked:n}=e.target;C((e=>({...e,[d]:{...e[d],[t]:"checkbox"===s?n:a}})))};if("openHours"===d){const e=(e,t)=>{C((a=>({...a,openHours:a.openHours.map(((a,s)=>s===e?{...a,hours:t}:a))})))};return Object(s.jsx)(E.a,{spacing:2,sx:{mt:1},children:y.openHours.map(((t,a)=>Object(s.jsx)(q.a,{label:t.day,value:t.hours,onChange:t=>e(a,t.target.value),fullWidth:!0},t.day)))})}return Object(s.jsxs)(E.a,{spacing:2,sx:{mt:1},children:["system"===d&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(q.a,{label:"App Name",name:"appName",value:null!==(t=j.appName)&&void 0!==t?t:"",onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Address",name:"address",value:null!==(a=j.address)&&void 0!==a?a:"",onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Email",name:"email",value:null!==(n=j.email)&&void 0!==n?n:"",onChange:b,fullWidth:!0}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",name:"showLogo",checked:null!==(i=j.showLogo)&&void 0!==i&&i,onChange:b}),"Show Logo"]})]}),"localisation"===d&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(z.a,{fullWidth:!0,children:[Object(s.jsx)(L.a,{children:"Language"}),Object(s.jsx)(g.a,{label:"Language",name:"language",value:null!==(l=j.language)&&void 0!==l?l:"",onChange:b,children:K.map((e=>Object(s.jsx)(v.a,{value:e.value,children:e.label},e.value)))})]}),Object(s.jsxs)(z.a,{fullWidth:!0,sx:{mt:2},children:[Object(s.jsx)(L.a,{children:"Date Format"}),Object(s.jsx)(g.a,{label:"Date Format",name:"dateFormat",value:null!==(c=j.dateFormat)&&void 0!==c?c:"",onChange:b,children:X.map((e=>Object(s.jsx)(v.a,{value:e.value,children:e.label},e.value)))})]}),Object(s.jsxs)(z.a,{fullWidth:!0,sx:{mt:2},children:[Object(s.jsx)(L.a,{children:"Currency"}),Object(s.jsx)(g.a,{label:"Currency",name:"currency",value:null!==(r=j.currency)&&void 0!==r?r:"",onChange:b,children:ee.map((e=>Object(s.jsx)(v.a,{value:e.value,children:e.label},e.value)))})]}),Object(s.jsxs)(z.a,{fullWidth:!0,sx:{mt:2},children:[Object(s.jsx)(L.a,{children:"Currency Symbol"}),Object(s.jsx)(g.a,{label:"Currency Symbol",name:"currencySymbol",value:null!==(o=j.currencySymbol)&&void 0!==o?o:"",onChange:b,children:te.map((e=>Object(s.jsx)(v.a,{value:e.value,children:e.label},e.value)))})]})]})]})};return Object(s.jsxs)(F.a,{sx:{maxWidth:900,mx:"auto",p:2,bgcolor:"#fff",borderRadius:2,boxShadow:2},children:[Object(s.jsxs)(E.a,{direction:{xs:"column",md:"row"},spacing:2,children:[Object(s.jsx)(F.a,{sx:{minWidth:220},children:Object(s.jsxs)(B.a,{orientation:"vertical",value:S,onChange:(e,t)=>w(t),"aria-label":"Settings Tabs",variant:"scrollable",sx:{borderRight:1,borderColor:"divider"},children:[Object(s.jsx)($.a,{label:"System"}),Object(s.jsx)($.a,{label:"Localisation"}),Object(s.jsx)($.a,{label:"Open Hours"})]})}),Object(s.jsxs)(F.a,{sx:{flex:1},children:[0===S&&Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"h6",children:"System Settings"}),Object(s.jsx)("hr",{}),Object(s.jsxs)(U.a,{children:["App Title: ",null!==(e=null===y||void 0===y||null===(t=y.system)||void 0===t?void 0:t.appName)&&void 0!==e?e:""]}),Object(s.jsxs)(U.a,{children:["Show logo: ",(M=null!==(a=null===y||void 0===y||null===(i=y.system)||void 0===i?void 0:i.showLogo)&&void 0!==a&&a,M?"Yes":"No")]}),Object(s.jsxs)(U.a,{children:["Address: ",null!==(l=null===y||void 0===y||null===(c=y.system)||void 0===c?void 0:c.address)&&void 0!==l?l:""]}),Object(s.jsxs)(U.a,{children:["Email: ",null!==(r=null===y||void 0===y||null===(o=y.system)||void 0===o?void 0:o.email)&&void 0!==r?r:""]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{variant:"contained",color:"info",onClick:()=>P("system"),children:"Edit"}),Object(s.jsx)(_.a,{variant:"contained",color:"warning",onClick:()=>I("system"),children:"Restore Default"})]})]}),1===S&&Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"h6",children:"Localisation Settings"}),Object(s.jsx)("hr",{}),Object(s.jsxs)(U.a,{children:["Language: ",null!==(j=null===y||void 0===y||null===(m=y.localisation)||void 0===m?void 0:m.language)&&void 0!==j?j:""]}),Object(s.jsxs)(U.a,{children:["Date format: ",null!==(h=null===y||void 0===y||null===(u=y.localisation)||void 0===u?void 0:u.dateFormat)&&void 0!==h?h:""]}),Object(s.jsxs)(U.a,{children:["Currency: ",null!==(x=null===y||void 0===y||null===(p=y.localisation)||void 0===p?void 0:p.currency)&&void 0!==x?x:""]}),Object(s.jsxs)(U.a,{children:["Currency symbol: ",null!==(O=null===y||void 0===y||null===(f=y.localisation)||void 0===f?void 0:f.currencySymbol)&&void 0!==O?O:""]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{variant:"contained",color:"info",onClick:()=>P("localisation"),children:"Edit"}),Object(s.jsx)(_.a,{variant:"contained",color:"warning",onClick:()=>I("localisation"),children:"Restore Default"})]})]}),2===S&&Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"h6",children:"Open Hours"}),Object(s.jsx)("hr",{}),k?Object(s.jsx)(U.a,{children:"Loading..."}):Object(s.jsxs)(F.a,{children:[y.openHours&&y.openHours.map(((e,t)=>Object(s.jsxs)(U.a,{children:[Object(s.jsxs)("b",{children:[e.day,":"]})," ",e.hours]},e.day))),Object(s.jsx)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:Object(s.jsx)(_.a,{variant:"contained",color:"info",onClick:()=>P("openHours"),children:"Edit"})})]})]})]})]}),Object(s.jsxs)(G.a,{open:N.open,onClose:T,maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Settings"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(A,{})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>{b.a.put(Z,y).then((()=>{T()})).catch((()=>{localStorage.setItem(Q,JSON.stringify(y)),T()}))},color:"primary",variant:"contained",children:"Save"}),Object(s.jsx)(_.a,{onClick:T,color:"secondary",children:"Close"})]})]})]});var M};ae.defaultProps={};var se=ae;const ne=()=>Object(s.jsx)("div",{class:"container",children:Object(s.jsx)(se,{})});ne.defaultProps={};var ie=ne,le=(a(453),a(16));a(454);var ce=a(10);const re={indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"right"},title:{display:!1,text:""}}},oe={labels3:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",data:[1,3,4,5,11,3,2],borderColor:"#ffa400",backgroundColor:"#ffa400"}]};var de=()=>h.get("/expenses"),je=e=>h.post("/expenses",e),be=(e,t)=>h.put(`/expenses/${e}`,t),me=e=>h.delete(`/expense/${e}`);var he={getAllCertificate:()=>h.get("/certificates"),createCertificate:e=>h.post("/certificates",e),editCertificate:(e,t)=>h.put(`/certificates/${e}`,t),removeCertificate:e=>h.delete(`/certificates/${e}`),getCount:()=>h.get("/certificates/count"),removeAllCertificates:e=>h.delete("/certificates")};var ue={getAllMedicament:()=>h.get("/medicaments"),createMedicament:e=>h.post("/medicaments",e),editMedicament:(e,t)=>h.put(`/medicaments/${e}`,t),getCount:()=>h.get("/medicaments/count"),getMedicamentByDate:()=>h.get("/medicaments/analytics"),removeMedicament:e=>h.delete(`/medicaments/${e}`)},xe=a(390);a(455);ce.f.register(ce.e,ce.k,ce.m,ce.j,ce.r,ce.s,ce.h,ce.a,ce.c);const pe=["January","February","March","April","May","June","July"],Oe={labels:pe,datasets:[{label:"Dataset 1",data:[1,3,4,5,11,3,2],borderColor:"rgba(255, 99, 132, 0.5)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]},fe={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},ge={bar:{labels:["A","B","C","D"],datasets:[{label:"Bar",data:[12,19,3,5],backgroundColor:"rgba(53, 162, 235, 0.5)"}]},pie:{labels:["A","B","C","D"],datasets:[{label:"Pie",data:[12,19,3,5],backgroundColor:["#1976d2","#388e3c","#fbc02d","#d32f2f"]}]},doughnut:{labels:["A","B","C","D"],datasets:[{label:"Doughnut",data:[12,19,3,5],backgroundColor:["#ff6384","#36a2eb","#cc65fe","#ffce56"]}]},line:{labels:["Jan","Feb","Mar","Apr"],datasets:[{label:"Line",data:[3,5,6,4],borderColor:"#1976d2",backgroundColor:"rgba(25, 118, 210, 0.2)",fill:!0}]},polar:{labels:["A","B","C","D"],datasets:[{label:"Polar",data:[12,19,3,5],backgroundColor:["#1976d2","#388e3c","#fbc02d","#d32f2f"]}]},radar:{labels:["A","B","C","D"],datasets:[{label:"Radar",data:[12,19,3,5],backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)"}]},scatter:{datasets:[{label:"Scatter",data:[{x:1,y:2},{x:2,y:3},{x:3,y:1}],backgroundColor:"rgba(53, 162, 235, 0.5)"}]},bubble:{datasets:[{label:"Bubble",data:[{x:1,y:2,r:10},{x:2,y:3,r:15},{x:3,y:1,r:8}],backgroundColor:"rgba(255, 206, 86, 0.5)"}]},bar2:{labels:["X","Y","Z","W"],datasets:[{label:"Bar2",data:[7,11,5,9],backgroundColor:"rgba(255, 99, 132, 0.5)"}]},pie2:{labels:["X","Y","Z","W"],datasets:[{label:"Pie2",data:[7,11,5,9],backgroundColor:["#0288d1","#7b1fa2","#fbc02d","#388e3c"]}]},doughnut2:{labels:["X","Y","Z","W"],datasets:[{label:"Doughnut2",data:[7,11,5,9],backgroundColor:["#ff6384","#36a2eb","#cc65fe","#ffce56"]}]},line2:{labels:["May","Jun","Jul","Aug"],datasets:[{label:"Line2",data:[8,6,7,5],borderColor:"#d32f2f",backgroundColor:"rgba(211, 47, 47, 0.2)",fill:!0}]},polar2:{labels:["X","Y","Z","W"],datasets:[{label:"Polar2",data:[7,11,5,9],backgroundColor:["#0288d1","#7b1fa2","#fbc02d","#388e3c"]}]},radar2:{labels:["X","Y","Z","W"],datasets:[{label:"Radar2",data:[7,11,5,9],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"}]},scatter2:{datasets:[{label:"Scatter2",data:[{x:2,y:4},{x:3,y:2},{x:4,y:5}],backgroundColor:"rgba(255, 99, 132, 0.5)"}]},bubble2:{datasets:[{label:"Bubble2",data:[{x:2,y:4,r:12},{x:3,y:2,r:10},{x:4,y:5,r:14}],backgroundColor:"rgba(54, 162, 235, 0.5)"}]},bar3:{labels:["M","N","O","P"],datasets:[{label:"Bar3",data:[10,8,12,6],backgroundColor:"rgba(75, 192, 192, 0.5)"}]},pie3:{labels:["M","N","O","P"],datasets:[{label:"Pie3",data:[10,8,12,6],backgroundColor:["#75cdd9","#fbc02d","#d32f2f","#388e3c"]}]},doughnut3:{labels:["M","N","O","P"],datasets:[{label:"Doughnut3",data:[10,8,12,6],backgroundColor:["#ff6384","#36a2eb","#cc65fe","#ffce56"]}]},line3:{labels:["Sep","Oct","Nov","Dec"],datasets:[{label:"Line3",data:[5,9,7,11],borderColor:"#388e3c",backgroundColor:"rgba(56, 142, 60, 0.2)",fill:!0}]}},ve=[{type:le.a,data:ge.bar,title:"Patients by Month"},{type:le.e,data:ge.pie,title:"Patients by Gender"},{type:le.c,data:ge.doughnut,title:"Medicaments by Category"},{type:le.d,data:ge.line,title:"Medicaments Added Over Time"},{type:le.f,data:ge.polar,title:"Appointments by Status"},{type:le.g,data:ge.radar,title:"TestLab Results Distribution"},{type:le.h,data:ge.scatter,title:"Expenses: Amount vs Date"},{type:le.b,data:ge.bubble,title:"Doctors by Specialty"},{type:le.a,data:ge.bar2,title:"Staff by Department"},{type:le.e,data:ge.pie2,title:"Clinics by City"},{type:le.c,data:ge.doughnut2,title:"Membership Types"},{type:le.d,data:ge.line2,title:"Insurance Claims Over Time"},{type:le.f,data:ge.polar2,title:"Expenses by Category"},{type:le.g,data:ge.radar2,title:"Doctor Ratings"},{type:le.h,data:ge.scatter2,title:"Appointments: Duration vs Satisfaction"},{type:le.b,data:ge.bubble2,title:"Staff Attendance"},{type:le.a,data:ge.bar3,title:"Clinic Revenue"},{type:le.e,data:ge.pie3,title:"Insurance Types"},{type:le.c,data:ge.doughnut3,title:"TestLab Types"},{type:le.d,data:ge.line3,title:"Membership Growth"}],ye=()=>{const[e,t]=Object(n.useState)(oe),[a,i]=Object(n.useState)(Oe),[l,c]=Object(n.useState)(Oe),[r,j]=Object(n.useState)(fe),[b,m]=Object(n.useState)([]),[h,u]=Object(n.useState)(0),[x,p]=Object(n.useState)(0),[f,g]=Object(n.useState)(0),[v,y]=Object(n.useState)(0),[C,S]=Object(n.useState)([]),[w,D]=Object(n.useState)([]),[k,W]=Object(n.useState)([]),[I,P]=Object(n.useState)([]),[T,A]=Object(n.useState)([]),[M,R]=Object(n.useState)([]);Object(n.useEffect)((()=>{B(),U(),$(),_(),F(),E(),q(),z(),L(),G(),N.getAllAppointement().then((e=>{D(e.data),console.log(e.data);for(const t of e.data)console.log(t),k.push({title:t.patient,date:t.createdAt});D(k),console.log(w)})).catch((e=>{O("Confirmation",e,"info")})),fetch("/doctors?sort=appointments&limit=5").then((e=>e.json())).then((e=>P(e))).catch((()=>P([]))),fetch("/patients?sort=visits&limit=5").then((e=>e.json())).then((e=>A(e))).catch((()=>A([]))),fetch("/medicaments?sort=sales&limit=5").then((e=>e.json())).then((e=>R(e))).catch((()=>R([])))}),[]);const E=()=>{},q=()=>{N.getCount().then((e=>{p(e.data.appointement)}))},z=()=>{ue.getCount().then((e=>{g(e.data.medicament)}))},L=()=>{he.getCount().then((e=>{u(e.data.certificate)}))},F=()=>{},B=()=>{},$=()=>{},U=()=>{},_=()=>{},G=()=>{},V=[{bg:"#1976d2",color:"#fff"},{bg:"#388e3c",color:"#fff"},{bg:"#fbc02d",color:"#222"},{bg:"#d32f2f",color:"#fff"},{bg:"#0288d1",color:"#fff"},{bg:"#7b1fa2",color:"#fff"},{bg:"#ff9800",color:"#fff"},{bg:"#009688",color:"#fff"},{bg:"#c2185b",color:"#fff"},{bg:"#455a64",color:"#fff"},{bg:"#43a047",color:"#fff"},{bg:"#5d4037",color:"#fff"}],H=[{icon:"fas fa-user-injured",label:"Patients",value:v},{icon:"fas fa-capsules",label:"Medicaments",value:f},{icon:"fas fa-calendar-check",label:"Appointements",value:x},{icon:"fas fa-certificate",label:"Certificates",value:h},{icon:"fas fa-flask",label:"TestLabs",value:12},{icon:"fas fa-money-bill-wave",label:"Expenses",value:8},{icon:"fas fa-user-md",label:"Doctors",value:5},{icon:"fas fa-users",label:"Staff",value:20},{icon:"fas fa-hospital",label:"Clinics",value:3},{icon:"fas fa-id-card",label:"Memberships",value:15},{icon:"fas fa-shield-alt",label:"Insurance",value:7}],Y=w.filter((e=>e.appointmentDate)).map((e=>new Date(e.appointmentDate).toDateString())),J=e=>w.filter((t=>t.appointmentDate&&new Date(t.appointmentDate).toDateString()===e.toDateString())),[Q,Z]=Object(n.useState)(new Date);return Object(s.jsxs)("div",{className:"content",children:[d.DEMO_MODE&&Object(s.jsxs)("div",{style:{background:"#e3f2fd",color:"#1565c0",border:"1px solid #90caf9",borderRadius:8,padding:"14px 20px",marginBottom:24,fontWeight:500,fontSize:15,textAlign:"center"},children:[Object(s.jsx)("i",{className:"fas fa-info-circle",style:{marginRight:8}}),Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Demo Mode:"})," The application is running in presentation mode. Some features are limited or unavailable."]})]}),Object(s.jsx)("div",{className:"row",style:{marginBottom:8},children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"row",style:{display:"flex",flexWrap:"wrap",gap:8},children:H.map(((e,t)=>Object(s.jsx)("div",{className:"col-lg-3 col-md-6",style:{flex:"1 1 220px",minWidth:220,maxWidth:260,marginBottom:8},children:Object(s.jsx)("div",{className:"card",style:{width:"100%",border:"none",borderRadius:16,background:V[t%V.length].bg,color:V[t%V.length].color,boxShadow:"0 4px 24px rgba(25, 118, 210, 0.10)",transition:"transform 0.2s",cursor:"pointer"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-4px) scale(1.03)",onMouseOut:e=>e.currentTarget.style.transform="none",children:Object(s.jsx)("div",{className:"card-body",style:{padding:24},children:Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[Object(s.jsx)("div",{style:{fontSize:36,background:"rgba(255,255,255,0.12)",borderRadius:"50%",width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(s.jsx)("i",{className:e.icon})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{fontSize:28,fontWeight:700,lineHeight:1},children:e.value}),Object(s.jsx)("div",{style:{fontSize:16,opacity:.85},children:e.label})]})]})})})},e.label)))})})}),Object(s.jsx)("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",margin:"24px 0"},children:Object(s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px"},children:ve.map(((e,t)=>Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:e.title}),Object(s.jsx)(e.type,{data:e.data,options:re})]},t)))})}),Object(s.jsxs)("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",margin:"24px 0",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[Object(s.jsx)("h5",{style:{marginBottom:24},children:"Top 5 Lists"}),Object(s.jsxs)("div",{style:{display:"flex",gap:"32px",flexWrap:"wrap"},children:[Object(s.jsxs)("div",{style:{flex:1,minWidth:220,background:"#f8fafc",borderRadius:10,padding:16,boxShadow:"0 1px 4px rgba(25,118,210,0.06)"},children:[Object(s.jsx)("strong",{style:{fontSize:16,color:"#1976d2"},children:"Top 5 Doctors by Appointments"}),Object(s.jsxs)("ol",{style:{marginTop:12,paddingLeft:20},children:[0===I.length&&Object(s.jsx)("li",{style:{color:"#888"},children:"No data"}),I.slice(0,5).map(((e,t)=>Object(s.jsxs)("li",{style:{marginBottom:8},children:[Object(s.jsx)("span",{style:{fontWeight:600},children:e.name||e.fullName||e.doctorName}),Object(s.jsxs)("span",{style:{marginLeft:8,color:"#388e3c",fontSize:13,background:"#e8f5e9",borderRadius:6,padding:"2px 8px"},children:[e.appointmentCount||e.visits||0," appts"]})]},e.id||t)))]})]}),Object(s.jsxs)("div",{style:{flex:1,minWidth:220,background:"#f8fafc",borderRadius:10,padding:16,boxShadow:"0 1px 4px rgba(25,118,210,0.06)"},children:[Object(s.jsx)("strong",{style:{fontSize:16,color:"#388e3c"},children:"Top 5 Patients by Visits"}),Object(s.jsxs)("ol",{style:{marginTop:12,paddingLeft:20},children:[0===T.length&&Object(s.jsx)("li",{style:{color:"#888"},children:"No data"}),T.slice(0,5).map(((e,t)=>Object(s.jsxs)("li",{style:{marginBottom:8},children:[Object(s.jsx)("span",{style:{fontWeight:600},children:e.name||e.fullName||e.patientName}),Object(s.jsxs)("span",{style:{marginLeft:8,color:"#1976d2",fontSize:13,background:"#e3f2fd",borderRadius:6,padding:"2px 8px"},children:[e.visitCount||e.visits||0," visits"]})]},e.id||t)))]})]}),Object(s.jsxs)("div",{style:{flex:1,minWidth:220,background:"#f8fafc",borderRadius:10,padding:16,boxShadow:"0 1px 4px rgba(25,118,210,0.06)"},children:[Object(s.jsx)("strong",{style:{fontSize:16,color:"#d32f2f"},children:"Top 5 Selling Medicaments"}),Object(s.jsxs)("ol",{style:{marginTop:12,paddingLeft:20},children:[0===M.length&&Object(s.jsx)("li",{style:{color:"#888"},children:"No data"}),M.slice(0,5).map(((e,t)=>Object(s.jsxs)("li",{style:{marginBottom:8},children:[Object(s.jsx)("span",{style:{fontWeight:600},children:e.name||e.medicamentName}),Object(s.jsxs)("span",{style:{marginLeft:8,color:"#d32f2f",fontSize:13,background:"#ffebee",borderRadius:6,padding:"2px 8px"},children:[e.salesCount||e.sold||0," sold"]})]},e.id||t)))]})]})]})]}),Object(s.jsxs)("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",margin:"24px 0",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[Object(s.jsx)("h5",{style:{margin:0},children:"Appointments Calendar"}),Object(s.jsx)(o.a,{to:"/rendezvous",style:{textDecoration:"none"},children:Object(s.jsx)("button",{className:"btn btn-primary",style:{fontSize:14,padding:"4px 16px"},children:"View All Appointments"})})]}),Object(s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:32},children:[Object(s.jsx)("div",{style:{minWidth:320,flex:1},children:Object(s.jsx)(xe.a,{value:Q,onClickDay:Z,tileContent:e=>{let{date:t,view:a}=e;return"month"===a&&Y.includes(t.toDateString())?Object(s.jsx)("div",{style:{marginTop:2,width:8,height:8,borderRadius:"50%",background:"#1976d2",marginLeft:"auto",marginRight:"auto"}}):null},tileClassName:e=>{let{date:t,view:a}=e;return"month"===a&&Y.includes(t.toDateString())?"calendar-appointment-day":null},calendarType:"gregory",locale:"en-US"})}),Object(s.jsxs)("div",{style:{flex:2,minWidth:280,maxWidth:500,background:"#f8fafc",borderRadius:12,padding:20,marginLeft:16,boxShadow:"0 1px 4px rgba(25,118,210,0.06)"},children:[Object(s.jsx)("div",{style:{marginBottom:8},children:Object(s.jsx)("strong",{children:J(Q).length>0?`Appointments for ${Q.toLocaleDateString()}`:`No appointments for ${Q.toLocaleDateString()}`})}),Object(s.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:J(Q).map(((e,t)=>Object(s.jsxs)("li",{style:{background:"#fff",borderRadius:8,marginBottom:12,padding:"12px 16px",boxShadow:"0 1px 4px rgba(25,118,210,0.04)",borderLeft:"4px solid #1976d2",display:"flex",flexDirection:"column",gap:4},children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(s.jsx)("span",{style:{fontWeight:600,color:"#1976d2"},children:e.patient||e.patientId}),Object(s.jsx)("span",{style:{background:"Confirmed"===e.status||"Scheduled"===e.status?"#e8f5e9":"Pending"===e.status?"#fff8e1":"Cancelled"===e.status?"#ffebee":"#e3f2fd",color:"Confirmed"===e.status||"Scheduled"===e.status?"#388e3c":"Pending"===e.status?"#ffa000":"Cancelled"===e.status?"#e53935":"#1976d2",borderRadius:8,padding:"2px 10px",fontSize:13,fontWeight:600},children:e.status})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{style:{fontWeight:500},children:"Time:"})," ",Object(s.jsxs)("span",{children:[e.startTime," - ",e.endTime]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{style:{fontWeight:500},children:"Doctor:"})," ",Object(s.jsx)("span",{children:e.doctor||e.doctorId})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{style:{fontWeight:500},children:"Type:"})," ",Object(s.jsx)("span",{children:e.appointmentType})]}),e.reasonForVisit&&Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{style:{fontWeight:500},children:"Reason:"})," ",Object(s.jsx)("span",{children:e.reasonForVisit})]}),e.notes&&Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{style:{fontWeight:500},children:"Notes:"})," ",Object(s.jsx)("span",{children:e.notes})]}),Object(s.jsx)("div",{style:{marginTop:4},children:Object(s.jsx)(o.a,{to:`/rendezvous/${e.id}`,style:{color:"#1976d2",textDecoration:"underline",fontSize:13},children:"View Details"})})]},e.id)))})]})]})]}),Object(s.jsxs)("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",margin:"24px 0",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[Object(s.jsxs)("h5",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:8},children:[Object(s.jsx)("i",{className:"fas fa-heartbeat",style:{color:"#d32f2f",fontSize:22}}),"System Health / Status"]}),Object(s.jsxs)("div",{style:{display:"flex",gap:32,flexWrap:"wrap"},children:[Object(s.jsxs)("div",{style:{flex:1,minWidth:180,background:"#e8f5e9",borderRadius:10,padding:16,display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[Object(s.jsx)("i",{className:"fas fa-server",style:{color:"#388e3c",fontSize:20}}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{fontWeight:600},children:"Backend"}),Object(s.jsx)("div",{style:{color:"#388e3c",fontWeight:500},children:"Online"})]})]}),Object(s.jsxs)("div",{style:{flex:1,minWidth:180,background:"#e3f2fd",borderRadius:10,padding:16,display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[Object(s.jsx)("i",{className:"fas fa-network-wired",style:{color:"#1976d2",fontSize:20}}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{fontWeight:600},children:"API"}),Object(s.jsx)("div",{style:{color:"#1976d2",fontWeight:500},children:"Healthy"})]})]}),Object(s.jsxs)("div",{style:{flex:1,minWidth:180,background:"#fffde7",borderRadius:10,padding:16,display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[Object(s.jsx)("i",{className:"fas fa-clock",style:{color:"#fbc02d",fontSize:20}}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{fontWeight:600},children:"Uptime"}),Object(s.jsx)("div",{style:{color:"#fbc02d",fontWeight:500},children:"99.9%"})]})]})]})]})]})};ye.defaultProps={};var Ce=ye;a(456),a(457);const Se=()=>Object(s.jsx)("div",{className:"ViewAppointment",children:Object(s.jsxs)("table",{class:"table table-striped",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"ID de rendez-vous"}),Object(s.jsx)("th",{scope:"col",children:"A201LPSI"})]})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:"Nom"}),Object(s.jsx)("td",{children:"David"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:" Heure"}),Object(s.jsx)("td",{children:"14h00"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:"Date"}),Object(s.jsx)("td",{children:"11/11/2018"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:"Docteur"}),Object(s.jsx)("td",{children:"Dr Anderson"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:"D\xe9partement"}),Object(s.jsx)("td",{children:"Lorem Ipsum est simplement un faux texte de la norme de l'industrie"})]})]})]})});Se.defaultProps={};var we=Se,Ne=(a(458),a(27));var De={date:"dd",name:"d",amount:"sss",note:"ss",paymenMode:"ss"};var ke={getAllPatients:()=>h.get("/patients"),getPatientById:e=>h.get(`/patients/${e}`),createPatient:e=>h.post("/patients",e),editPatient:(e,t)=>h.put(`/patients/${e}`,t),removePatient:e=>h.delete(`/patients/${e}`),removeAllPatients:()=>h.delete("/patients")};const We=e=>{const t={date:"",patient:"",problem:""},{register:a,handleSubmit:i,errors:l}=Object(Ne.a)(),[c,r]=Object(n.useState)(t),[o,j]=Object(n.useState)([]);Object(n.useEffect)((()=>{b()}),[]);const b=()=>{ke.getAllPatient().then((e=>{console.log(e.data),j(e.data)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},m=e=>{const{name:t,value:a}=e.target;r({...c,[t]:a})};return Object(s.jsx)("div",{className:"AddAppointment",children:Object(s.jsx)("form",{onSubmit:i((a=>{N.createAppointement(a).then((a=>{r(t),O("Confirmation",d.CREATE_MSG,"success"),e.closeModal()}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Date:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("input",{onChange:m,value:c.date,ref:a({required:!0}),type:"date",id:"date",name:"date",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""}),Object(s.jsx)("div",{className:"error text-danger",children:l.date&&De.date})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Patient:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("select",{onChange:m,value:c.patient,ref:a({required:!0}),name:"patient",id:"patient_id",class:"form-control",autocomplete:"off",required:"",children:o.map((e=>Object(s.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.namepatient})))}),Object(s.jsx)("div",{className:"error text-danger",children:l.patient_id&&De.patient})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Problem:"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("textarea",{onChange:m,value:c.problem,ref:a({required:!0}),name:"problem",class:"form-control",rows:"3"}),Object(s.jsx)("div",{className:"error text-danger",children:l.problem&&De.problem})]})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:" col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};We.defaultProps={};var Ie=We;a(459);const Pe=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.event),[r,o]=Object(n.useState)([]);Object(n.useEffect)((()=>{c(e.appointement),b()}),[e.appointement]);const j=e=>{const{name:t,value:a}=e.target;c({...e,[t]:a})},b=()=>{ke.getAllPatient().then((e=>{console.log(e.data),o(e.data)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))};return Object(s.jsx)("form",{onSubmit:a((t=>{console.log(e.appointement),N.editAppointement(e.appointement,t).then((t=>{O("Confirmation",d.UPDATE_MSG,"success"),e.closeModal()}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Date:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:j,value:null===l||void 0===l?void 0:l.datee,ref:t({required:!0}),type:"date",id:"date",name:"date",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Patient:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("select",{onChange:j,value:null===l||void 0===l?void 0:l.patient,ref:t({required:!0}),name:"patient",id:"patient_id",class:"form-control",autocomplete:"off",required:"",children:r.map((e=>Object(s.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.namepatient})))})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Problem:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("textarea",{onChange:j,value:null===l||void 0===l?void 0:l.problem,ref:t({required:!0}),name:"problem",class:"form-control",rows:"3"})})]}),Object(s.jsx)("div",{class:"form-group",children:Object(s.jsx)("div",{class:"col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})};Pe.defaultProps={};var Te=Pe,Ae=a(46),Me=a.n(Ae);var Re={add:"Le patient a \xe9t\xe9 ajout\xe9 avec succ\xe9s",edit:"Le patient a \xe9t\xe9 modifi\xe9 avec succ\xe9s",delete:"Le patient a \xe9t\xe9 supprim\xe9 avec succ\xe9s"},Ee=a(771),qe=a(735),ze=a(740);a(460);const Le=()=>Object(s.jsx)("div",{class:"col-lg-3 col-md-6",children:Object(s.jsx)("div",{class:"card",children:Object(s.jsx)("div",{class:"card-body",children:Object(s.jsxs)("div",{class:"stat-widget-four",children:[Object(s.jsx)("div",{class:"stat-icon dib",children:Object(s.jsx)("i",{class:"ti-stats-up text-muted"})}),Object(s.jsx)("div",{class:"stat-content",children:Object(s.jsxs)("div",{class:"text-left dib",children:[Object(s.jsx)("div",{class:"stat-heading",children:"Daily Sales"}),Object(s.jsx)("div",{class:"stat-text",children:"Total: $76,58,714"})]})})]})})})});Le.defaultProps={};var Fe=Le;const Be=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=(Me()(),Object(n.useRef)(null)),c=Object(n.useRef)(null),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),j()}),[]);const j=()=>{o(!0),N.getAllAppointement().then((e=>{t(e.data),o(!1)})).catch((e=>{O("Error",d.ERR_MSG,"info")}))},b=e=>{l.current.click(),j()},m=e=>{c.current.click(),j()},[h,u]=Object(n.useState)(0),[x,p]=Object(n.useState)([]),[f,g]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[v&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),f&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Appointements"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",d.REMOVE_MSG,"success"),N.removeAppointement(t).then((e=>{j()})).catch((e=>{O("Error",d.ERR_MSG,"warning")})))})(e,x),type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>j(),children:[Object(s.jsx)("i",{class:"fas fa-refresh"})," Reload"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:50},{field:"patient",headerName:"Full Name",width:200},{field:"datee",headerName:"Date",width:150},{field:"email",headerName:"Email",width:200},{field:"telephone",headerName:"Telephone",width:150},{field:"message",headerName:"Problem",width:200},{field:"doctor",headerName:"Doctor",width:180},{field:"status",headerName:"Status",width:120},{field:"time",headerName:"Time",width:120},{field:"created_at",headerName:"Created At",width:180},{field:"updated_at",headerName:"Updated At",width:180}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){u(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}p(t)},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{class:"modal fade",id:"addRendezvous",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"New"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Ie,{closeModal:m})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{ref:c,type:"button",onClick:m,class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editRendezvous",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Te,{appointement:a,closeModal:b})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{ref:l,onClick:b,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewRendezvous",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"View"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(we,{})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})};Be.defaultProps={};var $e=Be,Ue=(a(461),a(137)),_e=a.n(Ue);const Ge=["Yes","No"],Ve=["Active","Expired","Completed","Pending"];var He=e=>{let{closeModal:t,onSuccess:a}=e;const[i,l]=Object(n.useState)({patientId:"",doctorId:"",clinicId:"",medications:[{dosage:"",duration:"",frequency:"",instructions:"",medicationId:"",medicationName:""}],prescriptionDate:"",validUntil:"",refillAllowed:"Yes",refillCount:1,pharmacyId:"",digitalSignature:"",status:"Active"}),[c,r]=Object(n.useState)(!1),[o,d]=Object(n.useState)([]),[j,m]=Object(n.useState)([]),[h,u]=Object(n.useState)([]);Object(n.useEffect)((()=>{b.a.get("/patients").then((e=>d(e.data))).catch((()=>d([]))),b.a.get("/doctors").then((e=>m(e.data))).catch((()=>m([]))),b.a.get("/clinics").then((e=>u(e.data))).catch((()=>u([])))}),[]);const x=(e,t)=>{const{name:a,value:s}=t.target;l((t=>{const n=[...t.medications];return n[e][a]=s,{...t,medications:n}}))},p=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={...i,createdAt:s,updatedAt:s};try{await b.a.post("/prescriptions",n),a&&a(),t&&t()}finally{r(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:i.patientId,onChange:p,fullWidth:!0,margin:"normal",required:!0,children:o.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:i.doctorId,onChange:p,fullWidth:!0,margin:"normal",required:!0,children:j.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:i.clinicId,onChange:p,fullWidth:!0,margin:"normal",required:!0,children:h.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name||e.clinicName||e.id},e.id)))}),Object(s.jsx)(U.a,{variant:"subtitle1",sx:{mt:2},children:"Medications"}),i.medications.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,sx:{mb:1},children:[Object(s.jsx)(q.a,{label:"Medication Name",name:"medicationName",value:e.medicationName,onChange:e=>x(t,e),required:!0}),Object(s.jsx)(q.a,{label:"Medication ID",name:"medicationId",value:e.medicationId,onChange:e=>x(t,e),required:!0}),Object(s.jsx)(q.a,{label:"Dosage",name:"dosage",value:e.dosage,onChange:e=>x(t,e),required:!0}),Object(s.jsx)(q.a,{label:"Duration (days)",name:"duration",type:"number",value:e.duration,onChange:e=>x(t,e),required:!0}),Object(s.jsx)(q.a,{label:"Frequency",name:"frequency",value:e.frequency,onChange:e=>x(t,e),required:!0}),Object(s.jsx)(q.a,{label:"Instructions",name:"instructions",value:e.instructions,onChange:e=>x(t,e)})]},t))),Object(s.jsx)(f.a,{color:"primary",onClick:()=>{l((e=>({...e,medications:[...e.medications,{dosage:"",duration:"",frequency:"",instructions:"",medicationId:"",medicationName:""}]})))},sx:{mb:2},children:Object(s.jsx)(_e.a,{})}),Object(s.jsx)(q.a,{label:"Prescription Date",name:"prescriptionDate",type:"datetime-local",value:i.prescriptionDate,onChange:p,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Valid Until",name:"validUntil",type:"datetime-local",value:i.validUntil,onChange:p,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Refill Allowed",name:"refillAllowed",value:i.refillAllowed,onChange:p,fullWidth:!0,margin:"normal",children:Ge.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Refill Count",name:"refillCount",type:"number",value:i.refillCount,onChange:p,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Pharmacy ID",name:"pharmacyId",value:i.pharmacyId,onChange:p,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Digital Signature",name:"digitalSignature",value:i.digitalSignature,onChange:p,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:p,fullWidth:!0,margin:"normal",children:Ve.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Prescription"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})};a(462);var Ye=e=>h.delete(`/prescriptions/${e}`),Je=e=>h.post("/prescriptions/medicament",e),Qe=(e,t)=>h.get(`/prescriptions/${e}`,t),Ze=(e,t)=>h.get(`/prescriptions/medicament/${e}`,t),Xe=(e,t)=>h.delete(`/prescriptions/medicament/${e}`,t);a(463);const Ke=e=>{const[t,a]=Object(n.useState)({}),[i,l]=Object(n.useState)([]);Object(n.useEffect)((()=>{console.log(e.updatedItem),Qe(e.updatedItem).then((e=>{console.log(e.data),a(e.data)})),Ze(e.updatedItem).then((e=>{console.log(e.data),l(e.data)}))}),[e.updatedItem]);return Object(s.jsxs)("div",{className:"ViewPrescription",children:[Object(s.jsxs)("p",{children:["Patient :",t.patient]}),Object(s.jsxs)("p",{children:["Pression : ",t.pression]}),Object(s.jsxs)("p",{children:["temperature :",t.temperature," "]}),Object(s.jsxs)("p",{children:["Problem : ",t.problem]}),Object(s.jsxs)("p",{children:["Note : ",t.note]}),Object(s.jsxs)("table",{class:"table table-striped",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Medicament"}),Object(s.jsx)("th",{scope:"col",children:"Duration"}),Object(s.jsx)("th",{scope:"col",children:"Dose"}),Object(s.jsx)("th",{})]})}),Object(s.jsx)("tbody",{children:i.map((t=>Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:t.medicament}),Object(s.jsx)("td",{children:t.duration}),Object(s.jsx)("td",{children:t.dose}),Object(s.jsxs)("td",{children:[" ",Object(s.jsxs)("button",{className:"btn btn-danger",onClick:a=>{return s=t.id,void Xe(s).then((t=>{Ze(e.updatedItem).then((e=>{console.log(e.data),l(e.data)}))}));var s},type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash"})," "]})]})]})))})]})]})};Ke.defaultProps={};a(466);const et=()=>Object(s.jsx)("div",{className:"EditPrescription",children:Object(s.jsx)("form",{className:"form-horizontal",method:"post",name:"n_p",enctype:"multipart/form-data","accept-charset":"utf-8",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"panel panel-default panel-form",children:Object(s.jsx)("div",{className:"panel-body",children:Object(s.jsxs)("div",{className:"portlet-body form",children:[Object(s.jsxs)("div",{className:"portlet-title",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"portlet-title",children:Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("select",{className:"form-control",name:"venue_id",required:"",children:[Object(s.jsx)("option",{value:"",children:"--S\xe9lectionnez le lieu--"}),Object(s.jsx)("option",{value:"1",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"D\xe9mo Medical Collage"})})}),Object(s.jsx)("option",{value:"3",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Tour verte"})})}),Object(s.jsx)("option",{value:"4",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Tour de Manan"})})}),"                                                        "]})}),Object(s.jsx)("br",{}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"col-md-12 ",children:Object(s.jsx)("div",{id:"ab"})}),Object(s.jsx)("div",{className:"col-md-6 pid",children:Object(s.jsx)("input",{type:"text",name:"p_id",id:"p_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadNameOne(this.value);",className:"form-control",placeholder:"ID du patient"})}),Object(s.jsxs)("div",{className:"had",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom du patient",name:"name",required:""})}),Object(s.jsx)("input",{type:"hidden",name:"patient_id",required:""}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Num\xe9ro de t\xe9l\xe9phone",name:"phone",required:""})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",name:"birth_date",className:"form-control datepicker1 birth_date hasDatepicker",placeholder:"Date de naissance",required:"",id:"dp1608289767518"})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",name:"age",id:"age",className:"form-control",placeholder:"\xc2ge"})}),Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsxs)("div",{className:"md-radio",children:[Object(s.jsx)("input",{type:"radio",id:"lb1",name:"gender",value:"Male"}),Object(s.jsx)("label",{for:"lb1",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:" Masculin"})})}),Object(s.jsx)("input",{type:"radio",id:"lb2",name:"gender",value:"Female"}),Object(s.jsx)("label",{for:"lb2",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:" Femme"})})})]})})]})]})})})})," ",Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"portlet-title",children:Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"CC du patient",name:"Problem"}),Object(s.jsx)("samp",{})]}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Poids du patient",name:"Weight",value:""})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"PA du patient",name:"Pressure",value:""})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Temp\xe9rature",name:"temperature",value:""})})]})}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"portlet-title",children:Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"L'histoire",name:"history"})}),Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"O / Ex",name:"oex"})}),Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"PD",name:"pd",value:""})})]})})]}),Object(s.jsxs)("div",{className:"portlet-title",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-12 col-md-12",children:Object(s.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:Object(s.jsxs)("td",{colspan:"6",className:"m_add_btn",children:[Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"M\xe9dicament "})}),Object(s.jsxs)("a",{href:"javascript:void(0);",className:"btn btn-primary add_button pull-right",title:"Ajouter le champ",children:[" ",Object(s.jsx)("span",{className:"glyphicon glyphicon-plus"}),Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Ajouter"})})]})]})})}),Object(s.jsxs)("tbody",{children:[Object(s.jsx)("tr",{children:Object(s.jsx)("td",{children:Object(s.jsx)("div",{className:"field_wrapper",children:Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsx)("div",{className:"col-md-6 col-md-12",children:Object(s.jsx)("input",{type:"text",className:"form-control",name:"type[]",placeholder:"Type"})}),Object(s.jsxs)("div",{className:"col-md-3",children:[Object(s.jsx)("input",{type:"hidden",className:"mdcn_value",name:"group_id[]",value:"",id:"search-group_id"}),Object(s.jsx)("input",{type:"text",className:"group_name form-control",name:"group_name[]",id:"search-group",autocomplete:"off",placeholder:"Nom g\xe9n\xe9rique"}),Object(s.jsx)("div",{id:"suggesstion-box"})]}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Mg / ml",name:"mg[]"})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Dose",name:"dose[]"})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"journ\xe9e",name:"day[]"})}),Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"commentaires",name:"comments[]"})}),Object(s.jsx)("a",{href:"javascript:void(0);",className:" btn btn-danger remove_button",title:"Supprimer le champ",children:Object(s.jsx)("i",{class:"fas fa-minus"})})]})})})}),Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colspan:"6",children:Object(s.jsx)("div",{className:"form-group col-md-12",children:Object(s.jsx)("textarea",{placeholder:"Commentaire g\xe9n\xe9ral",name:"prescription_comment",className:"form-control",rows:"2"})})})})]})]})}),Object(s.jsx)("div",{className:"col-sm-6 col-md-12",children:Object(s.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:Object(s.jsxs)("td",{colspan:"6",className:"t_add_btn",children:[Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Tester"})}),Object(s.jsxs)("a",{href:"javascript:void(0);",className:"btn btn-primary add_button1 pull-right",title:"Ajouter le champ",children:[Object(s.jsx)("span",{className:"glyphicon glyphicon-plus"}),Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Ajouter"})})]})]})})}),Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("td",{children:Object(s.jsx)("div",{className:"field_wrapper1",children:Object(s.jsx)("div",{id:"count_test1",children:Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsxs)("div",{className:"col-md-5",children:[Object(s.jsx)("input",{type:"hidden",className:"test_value",name:"test_name[]",value:""}),Object(s.jsx)("input",{placeholder:"Test Name",className:"test_name form-control",name:"te_name[]",autocomplete:"off"}),Object(s.jsx)("div",{id:"test-box"})]}),Object(s.jsx)("div",{className:"col-md-5",children:Object(s.jsx)("input",{placeholder:"Description",name:"test_description[]",className:"form-control"})}),Object(s.jsx)("a",{href:"javascript:void(0);",className:" btn btn-danger remove_button",title:"Remove field",children:Object(s.jsx)("i",{class:"fas fa-minus"})})]})})})})})})]})}),Object(s.jsx)("div",{className:"col-sm-6 col-md-12",children:Object(s.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:Object(s.jsxs)("td",{colspan:"6",className:"a_btn",children:[Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Conseil"})}),Object(s.jsxs)("a",{href:"javascript:void(0);",className:"btn btn-primary add_advice pull-right",title:"Add field",children:[Object(s.jsx)("span",{className:"glyphicon glyphicon-plus"}),Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Ajouter"})})]})]})})}),Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("td",{children:Object(s.jsx)("div",{className:"field_wrapper2",children:Object(s.jsx)("div",{id:"count_advice1",children:Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsxs)("div",{className:"col-md-10",children:[Object(s.jsx)("input",{type:"hidden",className:"advice_value",name:"advice[]",value:""}),Object(s.jsx)("input",{placeholder:"Advice",className:"advice_name form-control",name:"adv[]",autocomplete:"off"}),Object(s.jsx)("div",{id:"advice-box"})]}),Object(s.jsx)("a",{href:"javascript:void(0);",className:" btn btn-danger remove_button",title:"Remove field",children:Object(s.jsx)("i",{class:"fas fa-minus"})})]})})})})})})]})})]}),Object(s.jsx)("div",{className:"form-group row",children:Object(s.jsxs)("div",{className:"col-sm-offset-9 col-sm-6",children:[Object(s.jsx)("button",{type:"reset",className:"btn btn-danger",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"R\xe9initialiser"})})}),Object(s.jsx)("button",{type:"button",onclick:"if (!window.__cfRLUnblockHandlers) return false; demoModeOne()",className:"btn btn-success",children:Object(s.jsx)("b",{children:Object(s.jsx)("b",{children:"Soumettre"})})})]})})]})]})})})})})});et.defaultProps={};var tt=et;const at=e=>{const t={medicament:"",dose:"",duration:""},{register:a,handleSubmit:i,errors:l}=Object(Ne.a)(),[c,r]=Object(n.useState)({});Object(n.useEffect)((()=>{console.log("kjbkblk"),console.log(e.updatedItem)}),[e.updatedItem]);const o=e=>{const{name:t,value:a}=e.target;r({...c,[t]:a})};return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("form",{onSubmit:i((e=>{Je(e).then((e=>{r(t)})).catch((e=>{console.log(e)})),r(t),O("Confirmation",d.CREATE_MSG,"success")})),class:"form-horizontal",children:[Object(s.jsx)("input",{value:e.updatedItem,onChange:o,ref:a({required:!1}),id:"appendedtext",name:"prescription",class:"form-control",placeholder:"placeholder",type:"hidden"}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-4 control-label",for:"Medicament",children:"Medicament"}),Object(s.jsx)("div",{class:"col-md-5",children:Object(s.jsxs)("select",{value:c.medicament,onChange:o,ref:a({required:!0}),id:"Medicament",name:"medicament",class:"form-control",children:[Object(s.jsx)("option",{value:"1",children:"Option one"}),Object(s.jsx)("option",{value:"2",children:"Option two"})]})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-4 control-label",for:"appendedtext",children:"Dose"}),Object(s.jsx)("div",{class:"col-md-5",children:Object(s.jsxs)("div",{class:"input-group",children:[Object(s.jsx)("input",{value:c.dose,onChange:o,ref:a({required:!0}),id:"appendedtext",name:"dose",class:"form-control",placeholder:"placeholder",type:"text"}),Object(s.jsx)("span",{class:"input-group-addon",children:"Mg/ml"})]})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-4 control-label",for:"appendedtext",children:"Duration"}),Object(s.jsx)("div",{class:"col-md-5",children:Object(s.jsxs)("div",{class:"input-group",children:[Object(s.jsx)("input",{value:c.duration,onChange:o,ref:a({required:!0}),id:"appendedtext",name:"duration",class:"form-control",placeholder:"placeholder",type:"text"}),Object(s.jsx)("span",{class:"input-group-addon",children:"Days"})]})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-4 control-label",for:"singlebutton"}),Object(s.jsx)("div",{class:"col-md-4",children:Object(s.jsx)("button",{id:"singlebutton",name:"singlebutton",class:"btn btn-primary",children:"Add Item"})})]})]})})};at.defaultProps={};var st=at,nt=a(754),it=a(732),lt=a(739),ct=a(755),rt=a(743),ot=a(32),dt=a.n(ot),jt=a(127),bt=a.n(jt),mt=a(102),ht=a.n(mt),ut=a(121);const xt={Active:"success",Expired:"error",Completed:"info",Pending:"warning"},pt=()=>{var e,t,a;const[i,l]=Object(n.useState)([]),[c,r]=Object(n.useState)(!0),[o,j]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[S,w]=Object(n.useState)(!1),[N,D]=Object(n.useState)(!1),[k,W]=Object(n.useState)(!1),[I,P]=Object(n.useState)(null),[T,A]=Object(n.useState)([]),[M,R]=Object(n.useState)({open:!1,message:"",severity:"info"}),[q,z]=Object(n.useState)([]),[L,B]=Object(n.useState)([]),[$,J]=Object(n.useState)([]);Object(n.useEffect)((()=>{Q(),b.a.get("/patients").then((e=>z(e.data))).catch((()=>z([]))),b.a.get("/doctors").then((e=>B(e.data))).catch((()=>B([]))),b.a.get("/clinics").then((e=>J(e.data))).catch((()=>J([])))}),[]);const Q=()=>{r(!0),d.DEMO_MODE?fetch("/demo/prescriptions.json").then((e=>e.json())).then((e=>{l(e),r(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),r(!1)})):fetch("/prescriptions").then((e=>e.json())).then((e=>{l(e),r(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),r(!1)}))},Z=e=>{const t=q.find((t=>t.id===e));return t?t.fullName||t.name||t.id:e},X=e=>{const t=L.find((t=>t.id===e));return t?t.fullName||t.name||t.id:e},K=e=>{const t=$.find((t=>t.id===e));return t?t.name||t.clinicName||t.id:e},ee=()=>{j(null),h(null)},te=e=>{var t;return e&&(null===(t=e.medications)||void 0===t?void 0:t.some((e=>"Penicillin"===e.medicationName)))?"Warning: Patient is allergic to Penicillin!":null},ae=()=>window.print(),se=e=>{const t=new ut.a({orientation:"portrait",unit:"pt",format:"A4"});t.setFillColor("#1976d2"),t.rect(0,0,595,70,"F"),t.setFontSize(24),t.setTextColor("#fff"),t.setFont("times","bold"),t.text("Dentic Clinic Prescription",45,45),t.setFontSize(18),t.setTextColor("#1976d2"),t.setFont("times","bold"),t.text("Medical Prescription",200,100),t.setFontSize(12),t.setTextColor("#222"),t.setFont("times","normal");let a=130;const s=45;if(t.text("Patient: ",s,a),t.setFont("times","bold"),t.text(Z(e.patientId),105,a),t.setFont("times","normal"),a+=20,t.text("Doctor: ",s,a),t.setFont("times","bold"),t.text(X(e.doctorId),105,a),t.setFont("times","normal"),a+=20,t.text("Clinic: ",s,a),t.setFont("times","bold"),t.text(K(e.clinicId),105,a),t.setFont("times","normal"),a+=20,t.text("Prescribed On: ",s,a),t.setFont("times","bold"),t.text(e.prescriptionDate?new Date(e.prescriptionDate).toLocaleDateString():"-",135,a),t.setFont("times","normal"),a+=20,t.text("Valid Until: ",s,a),t.setFont("times","bold"),t.text(e.validUntil?new Date(e.validUntil).toLocaleDateString():"-",125,a),a+=35,t.setFont("times","bold"),t.setFontSize(14),t.text("Medications:",s,a),t.setFont("times","normal"),t.setFontSize(12),a+=18,e.medications&&e.medications.length>0?e.medications.forEach(((e,s)=>{t.text(`${s+1}. ${e.medicationName} (${e.dosage}, ${e.frequency})`,55,a),a+=16})):(t.text("No medications listed.",55,a),a+=16),e.notes){a+=18,t.setFont("times","bold"),t.text("Notes:",s,a),t.setFont("times","normal");const n=t.splitTextToSize(e.notes,480);t.text(n,95,a),a+=14*n.length}a+=18,t.setFont("times","bold"),t.text("Status:",s,a),t.setFont("times","normal"),t.text(e.status,95,a),a+=60,t.setDrawColor("#1976d2"),t.line(400,a,555,a),t.setFontSize(14),t.setTextColor("#1976d2"),t.setFont("times","italic"),t.text(X(e.doctorId),420,a+18),t.setFont("times","normal"),t.setFontSize(11),t.setTextColor("#222"),t.text("Doctor Signature",420,a+34),t.setFontSize(10),t.setTextColor("#888"),t.text("This prescription was generated electronically by Dentic Clinic.",s,800),t.save(`prescription_${e.id||""}.pdf`)},ne=[{field:"patientId",headerName:"Patient",width:200,valueGetter:e=>Z(e.row.patientId)},{field:"doctorId",headerName:"Doctor",width:200,valueGetter:e=>X(e.row.doctorId)},{field:"clinicId",headerName:"Clinic",width:200,valueGetter:e=>K(e.row.clinicId)},{field:"medications",headerName:"Medications",width:220,renderCell:e=>e.value&&e.value.length>0?e.value.map((e=>`${e.medicationName} (${e.dosage}, ${e.frequency})`)).join(", "):"-"},{field:"prescriptionDate",headerName:"Prescribed On",width:150,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():""},{field:"validUntil",headerName:"Valid Until",width:150,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():""},{field:"refillAllowed",headerName:"Refill Allowed",width:120},{field:"refillCount",headerName:"Refill Count",width:110},{field:"status",headerName:"Status",width:110,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:xt[e.value]||"default",size:"small"})},{field:"actions",headerName:"Actions",width:90,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(f.a,{"aria-label":"more","aria-controls":"action-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{j(e.currentTarget),h(t)})(t,e.row),size:"small",children:Object(s.jsx)(dt.a,{})}),Object(s.jsx)(y.a,{title:"View Details",children:Object(s.jsx)(f.a,{size:"small",onClick:()=>{P(e.row),W(!0)},children:Object(s.jsx)("i",{className:"fas fa-eye"})})})]})}];return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Prescriptions"]}),Object(s.jsxs)(_.a,{variant:"outlined",color:"primary",onClick:()=>x(!0),sx:{mb:2},children:[Object(s.jsx)("i",{className:"fas fa-plus"})," Create"]}),Object(s.jsxs)(_.a,{variant:"outlined",color:"primary",onClick:Q,sx:{mb:2,ml:2},children:[Object(s.jsx)("i",{className:"fas fa-refresh"})," Reload"]}),c?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%"},children:[Object(s.jsx)(qe.a,{rows:i,columns:ne,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,components:{Toolbar:ze.a},onSelectionModelChange:e=>A(e)}),Object(s.jsxs)(C.a,{id:"action-menu",anchorEl:o,open:Boolean(o),onClose:ee,children:[Object(s.jsx)(v.a,{onClick:()=>{P(m),w(!0),ee()},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&Ye([m.id]).then((()=>{R({open:!0,message:"Prescription deleted",severity:"success"}),Q()})).catch((()=>R({open:!0,message:"Error deleting",severity:"error"}))),ee()},children:"Delete"}),Object(s.jsx)(v.a,{onClick:()=>{se(m),ee()},children:"Generate PDF"})]})]}),Object(s.jsxs)(G.a,{open:u,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Prescription"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(He,{closeModal:()=>{x(!1),Q()}})})]}),Object(s.jsxs)(G.a,{open:p,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Prescription"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(tt,{updatedItem:I,closeModal:()=>{g(!1),Q()}})})]}),Object(s.jsxs)(G.a,{open:S,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[Object(s.jsx)("i",{className:"fas fa-prescription-bottle-alt",style:{color:"#1976d2",fontSize:22}}),"Prescription Details"]})}),Object(s.jsx)(H.a,{children:I?Object(s.jsxs)("div",{children:[Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,boxShadow:1,p:{xs:2,sm:3},minWidth:320,minHeight:200,mb:2},children:[Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Patient: ${Z(I.patientId)}`,color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-user"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Doctor: ${X(I.doctorId)}`,color:"info",icon:Object(s.jsx)("i",{className:"fas fa-user-md"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Clinic: ${K(I.clinicId)}`,color:"success",icon:Object(s.jsx)("i",{className:"fas fa-hospital"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Status: ${I.status}`,color:xt[I.status]||"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Prescribed On: ${I.prescriptionDate?new Date(I.prescriptionDate).toLocaleDateString():"-"}`,color:"default",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Valid Until: ${I.validUntil?new Date(I.validUntil).toLocaleDateString():"-"}`,color:"warning",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:"Refill Allowed: "+(I.refillAllowed?"Yes":"No"),color:I.refillAllowed?"success":"default",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Refill Count: ${null!==(e=I.refillCount)&&void 0!==e?e:"-"}`,color:"info",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,sx:{mb:1},children:"Medications:"}),Object(s.jsx)(E.a,{spacing:1,sx:{mb:2},children:(null===(t=I.medications)||void 0===t?void 0:t.length)>0?I.medications.map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.medicationName} (${e.dosage}, ${e.frequency})`,color:"primary",variant:"outlined",sx:{fontWeight:600,fontSize:14,mb:.5}},t))):Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"No medications listed."})}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,children:"Notes:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2},children:I.notes||"-"}),te(I)&&Object(s.jsx)(lt.a,{severity:"warning",sx:{mt:2},children:te(I)})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(bt.a,{}),onClick:ae,children:"Print"}),Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(ht.a,{}),onClick:()=>se(I),children:"Download PDF"})]})]}):Object(s.jsx)(U.a,{children:"No prescription selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>w(!1),color:"secondary",variant:"outlined",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:N,onClose:()=>D(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Medicament Item"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(st,{updatedItem:I})})]}),Object(s.jsx)(ct.a,{anchor:"right",open:k,onClose:()=>W(!1),PaperProps:{sx:{width:{xs:320,sm:480}}},children:Object(s.jsxs)("div",{style:{padding:24,maxWidth:480},children:[Object(s.jsx)(U.a,{variant:"h6",gutterBottom:!0,children:"Prescription Details"}),I&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Patient: ",Z(I.patientId)]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Doctor: ",X(I.doctorId)]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Clinic: ",K(I.clinicId)]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Prescribed On: ",I.prescriptionDate?new Date(I.prescriptionDate).toLocaleDateString():"-"]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Valid Until: ",I.validUntil?new Date(I.validUntil).toLocaleDateString():"-"]}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mt:2},children:"Medications:"}),Object(s.jsx)("ul",{children:null===(a=I.medications)||void 0===a?void 0:a.map(((e,t)=>Object(s.jsxs)("li",{children:[Object(s.jsx)("strong",{children:e.medicationName})," (",e.dosage,", ",e.frequency,")"]},t)))}),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Notes:"}),Object(s.jsx)(U.a,{variant:"body2",children:I.notes||"-"}),Object(s.jsxs)(U.a,{variant:"subtitle2",sx:{mt:2},children:["Status: ",Object(s.jsx)(nt.a,{label:I.status,color:xt[I.status]||"default",size:"small"})]}),te(I)&&Object(s.jsx)(lt.a,{severity:"warning",sx:{mt:2},children:te(I)}),Object(s.jsxs)("div",{style:{marginTop:24,display:"flex",gap:8},children:[Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(bt.a,{}),onClick:ae,children:"Print"}),Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(ht.a,{}),onClick:()=>se(I),children:"Download PDF"})]})]})]})}),Object(s.jsx)(rt.a,{open:M.open,autoHideDuration:3e3,onClose:()=>R({...M,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(s.jsx)(lt.a,{onClose:()=>R({...M,open:!1}),severity:M.severity,sx:{width:"100%"},children:M.message})})]})})};pt.defaultProps={};var Ot=pt;a(467);var ft=()=>h.get("/payments"),gt=e=>h.post("/payments",e),vt=(e,t)=>h.put(`/payments/${e}`,t),yt=e=>h.delete(`/payments/${e}`);const Ct=["Cash","Credit Card","Bank Transfer","Insurance","Other"],St=["Completed","Pending","Failed","Refunded"],wt=["USD","EUR","GBP","DZD","Other"];var Nt=e=>{const t={patientId:"",appointmentId:"",invoiceId:"",clinicId:"",amount:"",currency:"USD",paymentMethod:"",transactionId:"",insuranceClaimId:"",paymentStatus:"Completed",paymentDate:"",notes:""},[a,i]=Object(n.useState)(t),[l,c]=Object(n.useState)([]),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{j()}),[]);const j=()=>{ke.getAllPatients().then((e=>c(e.data))).catch((()=>O("Error",d.ERR_MSG,"warning")))},b=e=>{const{name:t,value:s}=e.target;i({...a,[t]:s})};return Object(s.jsx)(F.a,{component:"form",onSubmit:s=>{s.preventDefault(),o(!0);const n=(new Date).toISOString(),l={...a,id:a.id||Math.random().toString(36).substr(2,9),amount:Number(a.amount),createdAt:n,updatedAt:n};gt(l).then((()=>{i(t),e.closeModal&&e.closeModal(l),O("Confirmation",d.CREATE_MSG,"success")})).catch((()=>{O("Error",d.ERR_MSG,"warning")})).finally((()=>o(!1)))},sx:{p:2,maxWidth:500},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:a.patientId,onChange:b,required:!0,fullWidth:!0,children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.namepatient||e.id},e.id)))}),Object(s.jsx)(q.a,{label:"Appointment ID",name:"appointmentId",value:a.appointmentId,onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Invoice ID",name:"invoiceId",value:a.invoiceId,onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Clinic ID",name:"clinicId",value:a.clinicId,onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Amount",name:"amount",type:"number",value:a.amount,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Currency",name:"currency",value:a.currency,onChange:b,required:!0,fullWidth:!0,children:wt.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Payment Method",name:"paymentMethod",value:a.paymentMethod,onChange:b,required:!0,fullWidth:!0,children:Ct.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Transaction ID",name:"transactionId",value:a.transactionId,onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Insurance Claim ID",name:"insuranceClaimId",value:a.insuranceClaimId,onChange:b,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Payment Status",name:"paymentStatus",value:a.paymentStatus,onChange:b,required:!0,fullWidth:!0,children:St.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Payment Date",name:"paymentDate",type:"datetime-local",value:a.paymentDate,onChange:b,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:a.notes,onChange:b,multiline:!0,rows:2,fullWidth:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:r,children:r?"Saving...":"Save"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:()=>e.closeModal&&e.closeModal(),disabled:r,children:"Cancel"})]})]})})};a(468);const Dt=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.payment);Object(n.useEffect)((()=>{c(e.payment)}),[e.payment]);const r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditPayment",children:Object(s.jsx)("form",{onSubmit:a((t=>{vt(e.payment.id,t),e.closeModal(t),O("Confirmation",d.UPDATE_MSG,"success")})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Invoice:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("select",{onChange:r,value:null===l||void 0===l?void 0:l.invoiceNumber,ref:t({required:!0}),type:"text",id:"date",name:"invoiceNumber",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:"",children:Object(s.jsx)("option",{value:"1",children:"INV001"})})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Payment Date:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.paymentDate,ref:t({required:!0}),type:"date",name:"paymentDate",id:"patient_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadName(this.value);",class:"form-control",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Payment Mode"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsxs)("select",{onChange:r,value:null===l||void 0===l?void 0:l.paymenMode,ref:t({required:!0}),type:"text",name:"paymenMode",id:"patient_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadName(this.value);",class:"form-control",autocomplete:"off",required:"",children:[Object(s.jsx)("option",{children:"Cash"}),Object(s.jsx)("option",{children:"Credit Card"})]})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Amount received:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.amountReceived,ref:t({required:!0}),name:"amountReceived",class:"form-control",rows:"3",type:"text"})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Invoice Balance Due :"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.invoiceBlanceDue,ref:t({required:!0}),name:"invoiceBlanceDue",class:"form-control",rows:"3",type:"date"})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};Dt.defaultProps={};var kt=Dt;const Wt=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),[l,c]=Object(n.useState)([]),[r,o]=Object(n.useState)([]),[j,b]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),y=(Me()(),Object(n.useRef)(null)),S=Object(n.useRef)(null),[w,N]=Object(n.useState)(!0);Object(n.useEffect)((()=>{T(),D(),fetch("/patients").then((e=>e.json())).then((e=>c(e))),fetch("/clinics").then((e=>e.json())).then((e=>o(e)))}),[]);const D=()=>{N(!0),d.DEMO_MODE?fetch("/demo/payments.json").then((e=>e.json())).then((e=>{t(e),N(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),N(!1)})):ft().then((e=>{t(e.data),N(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),N(!1)}))},k=()=>{D()},W=(e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",d.REMOVE_MSG,"success"),yt(t).then((e=>{k()})).catch((e=>{O("Error",d.ERR_MSG,"warning")})))},I=(e,t)=>{e.preventDefault(),i(t),k()},P=e=>{const t=l.find((t=>t.id===e));return t?t.fullName:"Patient not found"},A=e=>{const t=r.find((t=>t.id===e));return t?t.name:"Clinic not found"},M=[{field:"patientId",headerName:"Patient",width:200,renderCell:e=>Object(s.jsx)(nt.a,{label:P(e.value),color:"primary",size:"small",sx:{fontWeight:600}})},{field:"clinicId",headerName:"Clinic",width:200,renderCell:e=>Object(s.jsx)(nt.a,{label:A(e.value),color:"info",size:"small",sx:{fontWeight:600}})},{field:"amount",headerName:"Amount",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"success",size:"small",sx:{fontWeight:600}})},{field:"currency",headerName:"Currency",width:100,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"default",size:"small",sx:{fontWeight:600}})},{field:"paymentMethod",headerName:"Payment Method",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"info",size:"small",sx:{fontWeight:600}})},{field:"paymentStatus",headerName:"Status",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Paid"===e.value?"success":"Pending"===e.value?"warning":"default",size:"small",sx:{fontWeight:600}})},{field:"paymentDate",headerName:"Payment Date",width:160,renderCell:e=>Object(s.jsx)(nt.a,{label:new Date(e.value).toLocaleString(),color:"default",size:"small",sx:{fontWeight:600}})},{field:"actions",headerName:"Actions",width:120,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{onClick:t=>{b(t.currentTarget),h(e.row)},children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{anchorEl:j,open:Boolean(j),onClose:()=>b(null),children:[Object(s.jsx)(v.a,{onClick:()=>{x(e.row),g(!0),b(null)},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{I({},e.row),b(null)},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{W({},[e.row.id]),b(null)},children:"Delete"})]})]})}],[R,q]=Object(n.useState)(0),[z,L]=Object(n.useState)([]),[B,$]=Object(n.useState)(!1),[J,Q]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[J&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),B&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Payments"]}),Object(s.jsx)("br",{}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,mr:1,fontWeight:600},type:"button","data-toggle":"modal","data-target":"#addPayment",startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,mr:1,fontWeight:600},onClick:e=>I(e,a),type:"button","data-toggle":"modal","data-target":"#editPayment",startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),children:"Edit"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,mr:1,fontWeight:600},onClick:e=>W(e,z),type:"button",startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),children:"Remove"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,fontWeight:600},type:"button",onClick:()=>D(),startIcon:Object(s.jsx)("i",{className:"fas fa-refresh"}),children:"Reload"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),w?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:M,pageSize:5,rowsPerPageOptions:[5,10,15,20],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){q(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}L(t)},components:{Toolbar:ze.a},autoHeight:!0})}),Object(s.jsx)("div",{class:"modal fade",id:"addPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Nt,{closeModal:e=>{k(),S.current.click()}})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary",ref:S,"data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(kt,{closeModal:e=>{k(),y.current.click()},payment:a})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",ref:y,class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsxs)(G.a,{open:p,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"View Payment"}),Object(s.jsx)(H.a,{children:u?Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,boxShadow:1,p:{xs:2,sm:3},minWidth:320,minHeight:200,mb:2},children:[Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:P(u.patientId),color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-user"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:A(u.clinicId),color:"info",icon:Object(s.jsx)("i",{className:"fas fa-hospital"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Amount: ${u.amount} ${u.currency}`,color:"success",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:u.paymentMethod,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:u.paymentStatus,color:"Paid"===u.paymentStatus?"success":"Pending"===u.paymentStatus?"warning":"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("b",{children:"Appointment ID:"})," ",u.appointmentId,Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Invoice ID:"})," ",u.invoiceId,Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Transaction ID:"})," ",u.transactionId,Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Insurance Claim:"})," ",u.insuranceClaimId,Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Payment Date:"})," ",u.paymentDate?new Date(u.paymentDate).toLocaleString():"-",Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Notes:"})," ",u.notes]})]}):Object(s.jsx)(U.a,{children:"No payment selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>g(!1),color:"primary",variant:"outlined",children:"Close"})})]})]})})};Wt.defaultProps={};var It=Wt,Pt=(a(469),a(756)),Tt=a(776),At=a(777),Mt=a(642),Rt=a(242),Et=a.n(Rt),qt=a(241),zt=a.n(qt),Lt=a(155),Ft=a.n(Lt),Bt=a(240),$t=a.n(Bt),Ut=a(233),_t=a.n(Ut),Gt=a(348),Vt=a.n(Gt);const Ht=["A+","A-","B+","B-","AB+","AB-","O+","O-"];var Yt=e=>{let{closeModal:t}=e;const a={fullName:"",medicalRecordNumber:"",insuranceId:"",bloodType:"",allergies:[""],medicalHistory:[{notes:"",condition:"",diagnosedAt:""}],currentMedications:[{name:"",dosage:"",frequency:"",prescribedBy:""}],emergencyContact:{name:"",phone:"",relationship:""},nationalId:""},[i,l]=Object(n.useState)(a),[c,r]=Object(n.useState)(!1),o=e=>{const{name:t,value:a}=e.target;l({...i,[t]:a})},j=(e,t,a)=>{const s=[...i.medicalHistory];s[e][t]=a,l({...i,medicalHistory:s})},b=(e,t,a)=>{const s=[...i.currentMedications];s[e][t]=a,l({...i,currentMedications:s})},m=(e,t)=>{l({...i,emergencyContact:{...i.emergencyContact,[e]:t}})},h=()=>l({...i,allergies:[...i.allergies,""]}),u=()=>l({...i,medicalHistory:[...i.medicalHistory,{notes:"",condition:"",diagnosedAt:""}]}),x=()=>l({...i,currentMedications:[...i.currentMedications,{name:"",dosage:"",frequency:"",prescribedBy:""}]});return Object(s.jsxs)(F.a,{component:"form",onSubmit:async e=>{if(e.preventDefault(),r(!0),!i.fullName||!i.insuranceId||!i.bloodType)return O("Error","Please fill all required fields.","warning"),void r(!1);const s={fullName:i.fullName,medicalRecordNumber:i.medicalRecordNumber,insuranceId:i.insuranceId,bloodType:i.bloodType,nationalId:i.nationalId,allergies:i.allergies.filter((e=>""!==e.trim())),medicalHistory:i.medicalHistory.map((e=>({condition:e.condition,diagnosedAt:e.diagnosedAt,notes:e.notes}))),currentMedications:i.currentMedications.map((e=>({name:e.name,dosage:e.dosage,frequency:e.frequency,prescribedBy:e.prescribedBy}))),emergencyContact:{name:i.emergencyContact.name,relationship:i.emergencyContact.relationship,phone:i.emergencyContact.phone}};console.log("Sent object:",s);try{await ke.createPatient(s),O("Confirmation",d.CREATE_MSG,"success"),l(a),t&&t(s)}catch(e){O("Error",d.ERR_MSG,"warning")}finally{r(!1)}},sx:{p:3,maxWidth:700,mx:"auto",bgcolor:"#f8f9fa",borderRadius:3,boxShadow:2},children:[Object(s.jsxs)(U.a,{variant:"h5",gutterBottom:!0,sx:{fontWeight:700,mb:2,textAlign:"center",color:"#1976d2"},children:[Object(s.jsx)(Ft.a,{sx:{mr:1,verticalAlign:"middle"}}),"Add New Patient"]}),Object(s.jsx)(it.a,{sx:{mb:3}}),Object(s.jsxs)(Pt.a,{container:!0,spacing:3,children:[Object(s.jsxs)(Pt.a,{item:!0,xs:12,md:6,children:[Object(s.jsx)(Tt.a,{variant:"outlined",sx:{mb:2},children:Object(s.jsxs)(At.a,{children:[Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:[Object(s.jsx)($t.a,{sx:{mr:1,verticalAlign:"middle"}}),"Basic Information"]}),Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Full Name",name:"fullName",value:i.fullName,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Insurance ID",name:"insuranceId",value:i.insuranceId,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Blood Type",name:"bloodType",value:i.bloodType,onChange:o,required:!0,fullWidth:!0,children:Ht.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"National ID",name:"nationalId",value:i.nationalId,onChange:o,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Medical Record Number",name:"medicalRecordNumber",value:i.medicalRecordNumber,onChange:o,required:!0,fullWidth:!0})]})]})}),Object(s.jsx)(Tt.a,{variant:"outlined",sx:{mb:2},children:Object(s.jsxs)(At.a,{children:[Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:[Object(s.jsx)(_t.a,{sx:{mr:1,verticalAlign:"middle"}}),"Allergies"]}),i.allergies.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[Object(s.jsx)(q.a,{label:`Allergy ${t+1}`,value:e,onChange:e=>((e,t)=>{const a=[...i.allergies];a[e]=t,l({...i,allergies:a})})(t,e.target.value),fullWidth:!0,size:"small"}),Object(s.jsx)(f.a,{color:"error",onClick:()=>(e=>l({...i,allergies:i.allergies.filter(((t,a)=>a!==e))}))(t),disabled:1===i.allergies.length,"aria-label":"Remove allergy",children:Object(s.jsx)(zt.a,{})}),t===i.allergies.length-1&&Object(s.jsx)(f.a,{color:"primary",onClick:h,"aria-label":"Add allergy",children:Object(s.jsx)(Et.a,{})})]},t)))]})})]}),Object(s.jsxs)(Pt.a,{item:!0,xs:12,md:6,children:[Object(s.jsx)(Tt.a,{variant:"outlined",sx:{mb:2},children:Object(s.jsxs)(At.a,{children:[Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:[Object(s.jsx)($t.a,{sx:{mr:1,verticalAlign:"middle"}}),"Medical History"]}),i.medicalHistory.map(((e,t)=>Object(s.jsx)(Mt.a,{variant:"outlined",sx:{p:2,mb:1,bgcolor:"#f5f5f5"},children:Object(s.jsxs)(E.a,{spacing:1,children:[Object(s.jsx)(q.a,{label:"Condition",value:e.condition,onChange:e=>j(t,"condition",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(q.a,{label:"Diagnosed At",type:"date",value:e.diagnosedAt,onChange:e=>j(t,"diagnosedAt",e.target.value),InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(q.a,{label:"Notes",value:e.notes,onChange:e=>j(t,"notes",e.target.value),fullWidth:!0,size:"small"}),Object(s.jsxs)(E.a,{direction:"row",spacing:1,children:[Object(s.jsx)(f.a,{color:"error",onClick:()=>(e=>l({...i,medicalHistory:i.medicalHistory.filter(((t,a)=>a!==e))}))(t),disabled:1===i.medicalHistory.length,"aria-label":"Remove medical history",children:Object(s.jsx)(zt.a,{})}),t===i.medicalHistory.length-1&&Object(s.jsx)(f.a,{color:"primary",onClick:u,"aria-label":"Add medical history",children:Object(s.jsx)(Et.a,{})})]})]})},t)))]})}),Object(s.jsx)(Tt.a,{variant:"outlined",sx:{mb:2},children:Object(s.jsxs)(At.a,{children:[Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:[Object(s.jsx)($t.a,{sx:{mr:1,verticalAlign:"middle"}}),"Current Medications"]}),i.currentMedications.map(((e,t)=>Object(s.jsx)(Mt.a,{variant:"outlined",sx:{p:2,mb:1,bgcolor:"#f5f5f5"},children:Object(s.jsxs)(E.a,{spacing:1,children:[Object(s.jsx)(q.a,{label:"Name",value:e.name,onChange:e=>b(t,"name",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(q.a,{label:"Dosage",value:e.dosage,onChange:e=>b(t,"dosage",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(q.a,{label:"Frequency",value:e.frequency,onChange:e=>b(t,"frequency",e.target.value),fullWidth:!0,size:"small"}),Object(s.jsx)(q.a,{label:"Prescribed By (Doctor ID)",value:e.prescribedBy,onChange:e=>b(t,"prescribedBy",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:1,children:[Object(s.jsx)(f.a,{color:"error",onClick:()=>(e=>l({...i,currentMedications:i.currentMedications.filter(((t,a)=>a!==e))}))(t),disabled:1===i.currentMedications.length,"aria-label":"Remove medication",children:Object(s.jsx)(zt.a,{})}),t===i.currentMedications.length-1&&Object(s.jsx)(f.a,{color:"primary",onClick:x,"aria-label":"Add medication",children:Object(s.jsx)(Et.a,{})})]})]})},t)))]})})]})]}),Object(s.jsx)(Tt.a,{variant:"outlined",sx:{mt:3},children:Object(s.jsxs)(At.a,{children:[Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:[Object(s.jsx)(Vt.a,{sx:{mr:1,verticalAlign:"middle"}}),"Emergency Contact"]}),Object(s.jsxs)(Pt.a,{container:!0,spacing:2,children:[Object(s.jsx)(Pt.a,{item:!0,xs:12,md:4,children:Object(s.jsx)(q.a,{label:"Name",value:i.emergencyContact.name,onChange:e=>m("name",e.target.value),fullWidth:!0,size:"small",required:!0})}),Object(s.jsx)(Pt.a,{item:!0,xs:12,md:4,children:Object(s.jsx)(q.a,{label:"Phone",value:i.emergencyContact.phone,onChange:e=>m("phone",e.target.value),fullWidth:!0,size:"small",required:!0})}),Object(s.jsx)(Pt.a,{item:!0,xs:12,md:4,children:Object(s.jsx)(q.a,{label:"Relationship",value:i.emergencyContact.relationship,onChange:e=>m("relationship",e.target.value),fullWidth:!0,size:"small",required:!0})})]})]})}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:4,justifyContent:"center"},children:[Object(s.jsxs)(_.a,{type:"submit",variant:"contained",color:"success",size:"large",disabled:c,children:[Object(s.jsx)("i",{className:"fa fa-check"})," Save Patient"]}),Object(s.jsx)(_.a,{variant:"outlined",color:"secondary",size:"large",onClick:()=>t&&t(),disabled:c,children:"Cancel"})]})]})},Jt=a(349),Qt=a.n(Jt),Zt=a(350),Xt=a.n(Zt),Kt=a(289),ea=a.n(Kt),ta=a(351),aa=a.n(ta);var sa=e=>{var t,a,n;let{patient:i}=e;return i?Object(s.jsxs)(F.a,{sx:{p:3,maxWidth:650,mx:"auto",bgcolor:"#fafdff",borderRadius:3,boxShadow:2},children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[Object(s.jsx)(w.a,{sx:{bgcolor:"primary.main",width:56,height:56},children:Object(s.jsx)(Ft.a,{fontSize:"large"})}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"h5",fontWeight:700,color:"primary",children:i.fullName}),Object(s.jsxs)(U.a,{variant:"subtitle2",color:"text.secondary",children:["User ID: ",i.userId]})]})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2},children:[Object(s.jsx)(nt.a,{icon:Object(s.jsx)(_t.a,{}),label:`MRN: ${i.medicalRecordNumber||"-"}`,color:"info",variant:"outlined"}),Object(s.jsx)(nt.a,{icon:Object(s.jsx)(Qt.a,{}),label:`Blood: ${i.bloodType||"-"}`,color:"error",variant:"outlined"}),Object(s.jsx)(nt.a,{label:`Insurance: ${i.insuranceId||"-"}`,color:"success",variant:"outlined"})]}),Object(s.jsx)(it.a,{sx:{my:2}}),Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(ea.a,{fontSize:"small",color:"warning"})," Allergies"]}),i.allergies&&i.allergies.length>0?Object(s.jsx)(E.a,{spacing:.5,sx:{mb:2},children:i.allergies.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"warning",variant:"outlined",sx:{ml:1}},t)))}):Object(s.jsx)(U.a,{sx:{ml:2,mb:2},color:"text.secondary",children:"None"}),Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(ea.a,{fontSize:"small",color:"primary"})," Medical History"]}),i.medicalHistory&&i.medicalHistory.length>0?Object(s.jsx)(E.a,{spacing:1,sx:{mb:2},children:i.medicalHistory.map(((e,t)=>Object(s.jsxs)(Mt.a,{variant:"outlined",sx:{p:1.5,bgcolor:"#f3f6fb"},children:[Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Condition:"})," ",e.condition]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Diagnosed At:"})," ",e.diagnosedAt]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Notes:"})," ",e.notes]})]},t)))}):Object(s.jsx)(U.a,{sx:{ml:2,mb:2},color:"text.secondary",children:"None"}),Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(Xt.a,{fontSize:"small",color:"info"})," Current Medications"]}),i.currentMedications&&i.currentMedications.length>0?Object(s.jsx)(E.a,{spacing:1,sx:{mb:2},children:i.currentMedications.map(((e,t)=>Object(s.jsxs)(Mt.a,{variant:"outlined",sx:{p:1.5,bgcolor:"#f3f6fb"},children:[Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Name:"})," ",e.name]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Dosage:"})," ",e.dosage]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Frequency:"})," ",e.frequency]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Prescribed By:"})," ",e.prescribedBy]})]},t)))}):Object(s.jsx)(U.a,{sx:{ml:2,mb:2},color:"text.secondary",children:"None"}),Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(aa.a,{fontSize:"small",color:"error"})," Emergency Contact"]}),Object(s.jsxs)(Mt.a,{variant:"outlined",sx:{p:1.5,bgcolor:"#fff8f0",mb:2},children:[Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Name:"})," ",(null===(t=i.emergencyContact)||void 0===t?void 0:t.name)||"-"]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Phone:"})," ",(null===(a=i.emergencyContact)||void 0===a?void 0:a.phone)||"-"]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Relationship:"})," ",(null===(n=i.emergencyContact)||void 0===n?void 0:n.relationship)||"-"]})]})]}):Object(s.jsx)(F.a,{sx:{p:4,textAlign:"center"},children:Object(s.jsx)(U.a,{color:"text.secondary",children:"No patient selected."})})};a(470);const na=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.patient);Object(n.useEffect)((()=>{c(e.patient)}),[e.patient]);const r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditPatient",children:Object(s.jsx)("form",{onSubmit:a((t=>{ke.editPatient(e.patient,t).then((a=>{e.closeModal(t),O("Confirmation",d.UPDATE_MSG,"success")}))})),className:"form-horizontal",role:"form",encType:"multipart/form-data",method:"post",acceptCharset:"utf-8",children:Object(s.jsxs)("div",{className:"form-body",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{className:"col-md-3 control-label",children:[Object(s.jsx)("span",{className:"text-danger",children:" * "}),"  Fullname "]}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.namepatient,ref:t({required:!0}),type:"text",name:"namepatient",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{className:"col-md-3 control-label",children:[Object(s.jsx)("span",{className:"text-danger",children:" * "})," Email"]}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.emailpatient,ref:t({required:!0}),type:"email",id:"emailpatient",autoComplete:"off",name:"emailpatient",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{className:"col-md-3 control-label",children:[Object(s.jsx)("span",{className:"text-danger",children:" * "}),"  Date Of Birth "]}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.birth,ref:t({required:!0}),type:"date",name:"birth",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{className:"col-md-3 control-label",children:[Object(s.jsx)("span",{className:"text-danger",children:" * "}),"  Telephone "]}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.telephone,ref:t({required:!0}),type:"text",name:"telephone",id:"old",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:" Address "}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("textarea",{onChange:r,value:l.address,ref:t({required:!0}),name:"address",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Gender"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("select",{name:"gender",className:"form-control",value:l.gender||"",onChange:r,ref:t({required:!0}),children:[Object(s.jsx)("option",{value:"",children:"Select Gender"}),Object(s.jsx)("option",{value:"Male",children:"Male"}),Object(s.jsx)("option",{value:"Female",children:"Female"}),Object(s.jsx)("option",{value:"Other",children:"Other"})]})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"National ID"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.nationalId||"",ref:t,type:"text",name:"nationalId",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Insurance Number"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.insuranceNumber||"",ref:t,type:"text",name:"insuranceNumber",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Emergency Contact"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.emergencyContact||"",ref:t,type:"text",name:"emergencyContact",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Blood Group"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("select",{name:"bloodGroup",className:"form-control",value:l.bloodGroup||"",onChange:r,ref:t,children:[Object(s.jsx)("option",{value:"",children:"Select Blood Group"}),Object(s.jsx)("option",{value:"A+",children:"A+"}),Object(s.jsx)("option",{value:"A-",children:"A-"}),Object(s.jsx)("option",{value:"B+",children:"B+"}),Object(s.jsx)("option",{value:"B-",children:"B-"}),Object(s.jsx)("option",{value:"AB+",children:"AB+"}),Object(s.jsx)("option",{value:"AB-",children:"AB-"}),Object(s.jsx)("option",{value:"O+",children:"O+"}),Object(s.jsx)("option",{value:"O-",children:"O-"})]})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Marital Status"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("select",{name:"maritalStatus",className:"form-control",value:l.maritalStatus||"",onChange:r,ref:t,children:[Object(s.jsx)("option",{value:"",children:"Select Marital Status"}),Object(s.jsx)("option",{value:"Single",children:"Single"}),Object(s.jsx)("option",{value:"Married",children:"Married"}),Object(s.jsx)("option",{value:"Divorced",children:"Divorced"}),Object(s.jsx)("option",{value:"Widowed",children:"Widowed"})]})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Occupation"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.occupation||"",ref:t,type:"text",name:"occupation",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Allergies"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.allergies||"",ref:t,type:"text",name:"allergies",className:"form-control"})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"col-md-3 control-label",children:"Chronic Diseases"}),Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:l.chronicDiseases||"",ref:t,type:"text",name:"chronicDiseases",className:"form-control"})})]}),Object(s.jsx)("div",{className:"form-group row",children:Object(s.jsx)("div",{className:"col-sm-offset-9 col-sm-6",children:Object(s.jsxs)("button",{name:"submit",type:"submit",className:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),"  Save"]})})})]})})})};na.defaultProps={};var ia=na;ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var la=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Object(n.useRef)(null),c=Object(n.useRef)(null),[r,o]=Object(n.useState)(!1),[j,b]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[x,p]=Object(n.useState)(!1),[g,y]=Object(n.useState)(!1),[S,w]=Object(n.useState)(""),[N,D]=Object(n.useState)(0),[k,W]=Object(n.useState)(!1),[I,P]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),A()}),[]);const A=()=>{o(!0),d.DEMO_MODE?fetch("/demo/patients.json").then((e=>e.json())).then((e=>{t(e),o(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),o(!1)})):h.get("/patients").then((e=>{t(e.data),o(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),o(!1)}))},M=(e,t)=>{null===e||void 0===e||e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&ke.removePatient(t).then((()=>{R(),O("Confirmation",d.REMOVE_MSG,"success")})).catch((()=>O("Error",d.ERR_MSG,"warning")))},R=()=>{A()},E=()=>{b(null),u(null)},q=e=>{switch(e){case"view":i(m),W(!0);break;case"edit":i(m),P(!0);break;case"delete":M(null,m);break;case"archive":break;case"export":(e=>{const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download",`patient_${e.userId}.json`),document.body.appendChild(a),a.click(),a.remove()})(m);break;case"print":(e=>{const t=window.open("","_blank");t.document.write("<html><head><title>Print Patient</title></head><body>"),t.document.write(`<pre>${JSON.stringify(e,null,2)}</pre>`),t.document.write("</body></html>"),t.document.close(),t.print()})(m);break;case"share":(e=>{const t=JSON.stringify(e,null,2);navigator.share?navigator.share({title:`Patient: ${e.userId}`,text:t}):alert("Web Share API not supported in your browser")})(m);break;case"duplicate":(e=>{const t={...e,id:Date.now()};ke.createPatient(t).then((()=>{O("Duplicated","Patient duplicated successfully","success"),A()})).catch((()=>O("Error","Failed to duplicate","warning")))})(m);break;default:console.warn("Unknown action:",e)}E()},z=[{field:"fullName",headerName:"Full Name",width:220},{field:"medicalRecordNumber",headerName:"Medical Record #",width:180},{field:"bloodType",headerName:"Blood Type",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"A+"===e.value||"A-"===e.value?"primary":"B+"===e.value||"B-"===e.value?"warning":"O+"===e.value||"O-"===e.value?"success":"AB+"===e.value||"AB-"===e.value?"error":"default",size:"small",sx:{fontWeight:600}})},{field:"allergies",headerName:"Allergies",width:180,renderCell:e=>Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.value&&e.value.length>0?e.value.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"error",size:"small",variant:"outlined",sx:{mb:.5}},t))):Object(s.jsx)(nt.a,{label:"None",color:"default",size:"small"})})},{field:"actions",headerName:"Actions",width:150,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{onClick:t=>((e,t)=>{b(e.currentTarget),u(t)})(t,e.row),children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{anchorEl:j,open:Boolean(j),onClose:E,children:[Object(s.jsx)(v.a,{onClick:()=>q("view"),children:"View"}),Object(s.jsx)(v.a,{onClick:()=>q("edit"),children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>q("delete"),children:"Delete"})]})]})}],L=e.filter((e=>Object.values(e).some((e=>null===e||void 0===e?void 0:e.toString().toLowerCase().includes(S.toLowerCase()))))),B=e.reduce(((e,t)=>(e[t.bloodType]=(e[t.bloodType]||0)+1,e)),{}),$=["A+","A-","B+","B-","O+","O-","AB+","AB-"],J=$.map((e=>B[e]||0)),Q=e.length,Z={};$.forEach((e=>{Z[e]=B[e]||0}));const X={labels:$,datasets:[{data:J,backgroundColor:["#43a047","#81c784","#ffa000","#ffe082","#1976d2","#90caf9","#e53935","#ef9a9a"]}]},K={labels:$,datasets:[{label:"Blood Type Count",data:J,backgroundColor:"#1976d2"}]},ee={labels:$,datasets:[{label:"Blood Type Trend",data:J,borderColor:"#43a047",fill:!1}]};return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,sx:{mb:3,mt:2,display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Patients"]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Patients"}),Object(s.jsx)(U.a,{variant:"h6",children:Q})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Type A"}),Object(s.jsx)(U.a,{variant:"h6",children:Z["A+"]+Z["A-"]})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Type B"}),Object(s.jsx)(U.a,{variant:"h6",children:Z["B+"]+Z["B-"]})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#f3e5f5",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Type O"}),Object(s.jsx)(U.a,{variant:"h6",children:Z["O+"]+Z["O-"]})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#ffebee",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"error.main",children:"Type AB"}),Object(s.jsx)(U.a,{variant:"h6",children:Z["AB+"]+Z["AB-"]})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Patients by Blood Type"}),Object(s.jsx)(le.c,{data:X})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Blood Type Count"}),Object(s.jsx)(le.a,{data:K})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Blood Type Trend"}),Object(s.jsx)(le.d,{data:ee})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[x&&Object(s.jsx)("div",{className:"card",children:Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("h4",{children:"Chart"})})}),g&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary","data-toggle":"modal","data-target":"#addPatient",sx:{mr:1,mb:2,fontWeight:600},startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:e=>((e,t)=>{e.preventDefault(),i(t)})(e,N),"data-toggle":"modal","data-target":"#editPatient",sx:{mr:1,mb:2,fontWeight:600},startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),children:"Edit"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:e=>M(e,N),sx:{mr:1,mb:2,fontWeight:600},startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),children:"Remove"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:A,sx:{mr:1,mb:2,fontWeight:600},startIcon:Object(s.jsx)("i",{className:"fas fa-refresh"}),children:"Reload"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>console.log("Search clicked"),sx:{mb:2,fontWeight:600},startIcon:Object(s.jsx)("i",{className:"fas fa-search"}),children:"Search"}),Object(s.jsx)("input",{type:"text",placeholder:"Search patients...",value:S,onChange:e=>w(e.target.value),style:{marginBottom:"10px",padding:"5px",width:"100%"}}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{width:"100%"},children:Object(s.jsx)(qe.a,{rows:L,columns:z,pageSize:10,rowsPerPageOptions:[10,15,20],checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){D(t[0]);const a=e.find((e=>e.id===t[0]));i(a)}},components:{Toolbar:ze.a},autoHeight:!0})}),Object(s.jsx)("div",{className:"modal fade",id:"addPatient",children:Object(s.jsx)("div",{className:"modal-dialog modal-lg",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"New Patient"}),Object(s.jsx)("button",{onClick:R,className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(Yt,{closeModal:()=>{c.current.click(),A()}})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{ref:c,className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editPatient",children:Object(s.jsx)("div",{className:"modal-dialog modal-lg",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Patient"}),Object(s.jsx)("button",{className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(ia,{patient:a,closeModal:()=>{l.current.click(),A()}})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{ref:l,className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsxs)(G.a,{open:k,onClose:()=>W(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Patient Details"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(sa,{patient:a})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>W(!1),color:"primary",variant:"outlined",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:I,onClose:()=>P(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Patient"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(ia,{patient:a,closeModal:()=>P(!1)})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>P(!1),color:"primary",variant:"outlined",children:"Close"})})]})]})]})},ca=(a(471),a(778)),ra=a(122);var oa=()=>h.get("/medicament-manufactures"),da=e=>h.post("/medicament-manufactures",e),ja=(e,t)=>h.put(`/medicament-manufactures/${e}`,t),ba=e=>h.delete(`/medicament-manufactures/${e}`);const ma=["Antibiotic","Analgesic","Antipyretic","Antiseptic","Antimalarial","Antiviral","Antifungal","Vaccine","Other"],ha=["Tablet","Capsule","Syrup","Injection","Gel","Spray"];var ua=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({name:"",genericName:"",category:"",description:"",activeIngredients:[{ingredient:"",concentration:""}],dosageForm:"",strength:"",manufacturerId:"",requiresPrescription:"Yes",sideEffects:[""],contraindications:[""],usageInstructions:"",stockQuantity:"",pricePerUnit:"",expirationDate:"",storageConditions:"",barcode:"",batchNumber:"",status:"Available"}),[c,r]=Object(n.useState)(!1),o=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))},j=(e,t,a)=>{const s=[...i.activeIngredients];s[e][t]=a,l((e=>({...e,activeIngredients:s})))},b=()=>l((e=>({...e,activeIngredients:[...e.activeIngredients,{ingredient:"",concentration:""}]}))),m=()=>l((e=>({...e,sideEffects:[...e.sideEffects,""]}))),h=()=>l((e=>({...e,contraindications:[...e.contraindications,""]})));return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={id:Math.random().toString(36).substr(2,9),name:i.name,genericName:i.genericName,category:i.category,description:i.description,activeIngredients:i.activeIngredients.filter((e=>e.ingredient&&e.concentration)),dosageForm:i.dosageForm,strength:i.strength,manufacturerId:Number(i.manufacturerId),requiresPrescription:i.requiresPrescription,sideEffects:i.sideEffects.filter((e=>""!==e.trim())),contraindications:i.contraindications.filter((e=>""!==e.trim())),usageInstructions:i.usageInstructions,stockQuantity:Number(i.stockQuantity),pricePerUnit:Number(i.pricePerUnit),expirationDate:new Date(i.expirationDate).toISOString(),storageConditions:i.storageConditions,barcode:i.barcode,batchNumber:i.batchNumber,status:i.status,createdAt:s,updatedAt:s};try{await ue.createMedicament(n),O("Success","Medicament created successfully","success"),a&&a(n),t&&t()}catch(e){O("Error",d.ERR_MSG,"warning")}finally{r(!1)}},sx:{p:2,minWidth:350},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Name",name:"name",value:i.name,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Generic Name",name:"genericName",value:i.genericName,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Category",name:"category",value:i.category,onChange:o,required:!0,fullWidth:!0,children:ma.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Description",name:"description",value:i.description,onChange:o,multiline:!0,rows:3,required:!0,fullWidth:!0}),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Active Ingredients"}),i.activeIngredients.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(q.a,{label:"Ingredient",value:e.ingredient,onChange:e=>j(t,"ingredient",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(q.a,{label:"Concentration",value:e.concentration,onChange:e=>j(t,"concentration",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(_.a,{color:"error",onClick:()=>(e=>l((t=>({...t,activeIngredients:t.activeIngredients.length>1?t.activeIngredients.filter(((t,a)=>a!==e)):[{ingredient:"",concentration:""}]}))))(t),disabled:1===i.activeIngredients.length,children:"-"}),t===i.activeIngredients.length-1&&Object(s.jsx)(_.a,{color:"success",onClick:b,children:"+"})]},t))),Object(s.jsx)(q.a,{select:!0,label:"Dosage Form",name:"dosageForm",value:i.dosageForm,onChange:o,required:!0,fullWidth:!0,children:ha.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Strength",name:"strength",value:i.strength,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Manufacturer ID",name:"manufacturerId",value:i.manufacturerId,onChange:o,required:!0,fullWidth:!0}),Object(s.jsxs)(q.a,{select:!0,label:"Requires Prescription",name:"requiresPrescription",value:i.requiresPrescription,onChange:o,required:!0,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"Yes",children:"Yes"}),Object(s.jsx)(v.a,{value:"No",children:"No"})]}),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Side Effects"}),i.sideEffects.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(q.a,{value:e,onChange:e=>((e,t)=>{const a=[...i.sideEffects];a[e]=t,l((e=>({...e,sideEffects:a})))})(t,e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(_.a,{color:"error",onClick:()=>(e=>l((t=>({...t,sideEffects:t.sideEffects.length>1?t.sideEffects.filter(((t,a)=>a!==e)):[""]}))))(t),disabled:1===i.sideEffects.length,children:"-"}),t===i.sideEffects.length-1&&Object(s.jsx)(_.a,{color:"success",onClick:m,children:"+"})]},t))),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Contraindications"}),i.contraindications.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(q.a,{value:e,onChange:e=>((e,t)=>{const a=[...i.contraindications];a[e]=t,l((e=>({...e,contraindications:a})))})(t,e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(_.a,{color:"error",onClick:()=>(e=>l((t=>({...t,contraindications:t.contraindications.length>1?t.contraindications.filter(((t,a)=>a!==e)):[""]}))))(t),disabled:1===i.contraindications.length,children:"-"}),t===i.contraindications.length-1&&Object(s.jsx)(_.a,{color:"success",onClick:h,children:"+"})]},t))),Object(s.jsx)(q.a,{label:"Usage Instructions",name:"usageInstructions",value:i.usageInstructions,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Stock Quantity",name:"stockQuantity",type:"number",value:i.stockQuantity,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Price Per Unit",name:"pricePerUnit",type:"number",value:i.pricePerUnit,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Expiration Date",name:"expirationDate",type:"date",value:i.expirationDate,onChange:o,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Storage Conditions",name:"storageConditions",value:i.storageConditions,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Barcode",name:"barcode",value:i.barcode,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Batch Number",name:"batchNumber",value:i.batchNumber,onChange:o,required:!0,fullWidth:!0}),Object(s.jsxs)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:o,required:!0,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"Available",children:"Available"}),Object(s.jsx)(v.a,{value:"Unavailable",children:"Unavailable"}),Object(s.jsx)(v.a,{value:"Expired",children:"Expired"})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Medicament"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};const xa=()=>{var e,t;const[a,i]=Object(n.useState)([]),[l,c]=Object(n.useState)(!0),[r,o]=Object(n.useState)(""),[j,b]=Object(n.useState)([]),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[y,S]=Object(n.useState)(null),[w,N]=Object(n.useState)(!1),[D,k]=Object(n.useState)(!1),[W,I]=Object(n.useState)(null);Object(n.useEffect)((()=>{T(),P()}),[]);const P=()=>{c(!0),d.DEMO_MODE?fetch("/demo/medicaments.json").then((e=>e.json())).then((e=>{i(e),c(!1)})).catch((e=>{O("Error",e.message,"warning"),c(!1)})):ue.getAllMedicament().then((e=>{i(e.data),c(!1)})).catch((e=>{O("Error",e.message,"warning"),c(!1)}))},A=a.filter((e=>e.name.toLowerCase().includes(r.toLowerCase())||e.producer.toLowerCase().includes(r.toLowerCase()))),M=()=>{g(null),S(null)},R=e=>{"view"===e&&q(y),"edit"===e&&z(y),"duplicate"===e&&(e=>{const t={...e,id:Date.now()};ue.createMedicament(t).then((()=>{O("Success","Medicament duplicated successfully","success"),P()})).catch((e=>{O("Error",e.message,"warning")}))})(y),"toggle"===e&&(e=>{const t={...e,active:!e.active};ue.updateMedicament(t).then((()=>{O("Success","Medicament status updated successfully","success"),P()})).catch((e=>{O("Error",e.message,"warning")}))})(y),"delete"===e&&L(y.id),"archive"===e&&B(y),"restore"===e&&$(y),"history"===e&&J(y),M()},q=e=>{I(e),k(!0)},z=e=>{O("Info",`Editing ${e.name}`,"info")},L=e=>{window.confirm("Are you sure you want to delete this medicament?")&&ue.removeMedicament(e).then((()=>{O("Success","Medicament deleted successfully","success"),P()})).catch((e=>{O("Error",e.message,"warning")}))},B=e=>{O("Info",`Archiving ${e.name}`,"info")},$=e=>{O("Info",`Restoring ${e.name}`,"info")},J=e=>{O("Info",`Viewing history for ${e.name}`,"info")},Q=[{field:"name",headerName:"Name",width:150},{field:"genericName",headerName:"Generic Name",width:130},{field:"category",headerName:"Category",width:120},{field:"expirationDate",headerName:"Expiration",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:new Date(e.value).toLocaleDateString(),color:"warning",size:"small",sx:{fontWeight:600}})},{field:"status",headerName:"Status",width:100,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Available"===e.value?"success":"Expired"===e.value?"warning":"default",size:"small",sx:{fontWeight:600}})},{field:"actions",headerName:"Actions",width:150,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{g(e.currentTarget),S(t)})(t,e.row),children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:M,children:[Object(s.jsx)(v.a,{onClick:()=>R("view"),children:"View"}),Object(s.jsx)(v.a,{onClick:()=>R("edit"),children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>R("delete"),children:"Delete"})]})]})}];return Object(s.jsx)("div",{className:"card "+(u?"dark-mode":""),children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Medicaments"]}),Object(s.jsx)(E.a,{direction:"row",spacing:2,sx:{mb:2},children:Object(s.jsx)(_.a,{variant:"outlined",color:"success",onClick:()=>N(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Add Medicament"})}),l?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:A,columns:Q,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:e=>b(e),components:{Toolbar:ze.a},getRowId:e=>e.id||e.barcode||e.batchNumber})}),Object(s.jsxs)(G.a,{open:w,onClose:()=>N(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Medicament"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(ua,{closeModal:()=>N(!1),onCreate:P})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>N(!1),color:"secondary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:D,onClose:()=>k(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(s.jsx)("i",{className:"fas fa-capsules",style:{color:"#1976d2",fontSize:22}}),"Medicament Details"]})}),Object(s.jsx)(H.a,{dividers:!0,children:W?Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,boxShadow:1,p:{xs:2,sm:3},minWidth:320,minHeight:200,mb:2},children:[Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:W.name,color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-capsules"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:W.genericName,color:"info",icon:Object(s.jsx)("i",{className:"fas fa-flask"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:W.category,color:"success",icon:Object(s.jsx)("i",{className:"fas fa-tags"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:W.status,color:"Available"===W.status?"success":"Expired"===W.status?"warning":"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Dosage: ${W.dosageForm||"-"}`,color:"default",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Strength: ${W.strength||"-"}`,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Manufacturer: ${W.manufacturerId||"-"}`,color:"primary",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Batch: ${W.batchNumber||"-"}`,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Barcode: ${W.barcode||"-"}`,color:"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Stock: ${null!==(e=W.stockQuantity)&&void 0!==e?e:"-"}`,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Price/Unit: ${null!==(t=W.pricePerUnit)&&void 0!==t?t:"-"}`,color:"success",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Expires: ${W.expirationDate?new Date(W.expirationDate).toLocaleDateString():"-"}`,color:"warning",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:"Prescription: "+(W.requiresPrescription?"Yes":"No"),color:W.requiresPrescription?"success":"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,sx:{mb:1},children:"Description:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2},children:W.description||"-"}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Active Ingredients:"}),Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:(W.activeIngredients||[]).length>0?W.activeIngredients.map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.ingredient} (${e.concentration})`,color:"warning",variant:"outlined",size:"small",sx:{mb:1}},t))):Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"No active ingredients listed."})}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Side Effects:"}),Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:(W.sideEffects||[]).length>0?W.sideEffects.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"error",variant:"outlined",size:"small",sx:{mb:1}},t))):Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"No side effects listed."})}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Contraindications:"}),Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:(W.contraindications||[]).length>0?W.contraindications.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"warning",variant:"outlined",size:"small",sx:{mb:1}},t))):Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"No contraindications listed."})}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Usage Instructions:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2},children:W.usageInstructions||"-"}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Storage Conditions:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2},children:W.storageConditions||"-"}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(U.a,{variant:"caption",children:[Object(s.jsx)("b",{children:"Created At:"})," ",W.createdAt?new Date(W.createdAt).toLocaleString():"-",Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Updated At:"})," ",W.updatedAt?new Date(W.updatedAt).toLocaleString():"-"]})]}):Object(s.jsx)(U.a,{children:"No medicament selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>k(!1),color:"primary",variant:"outlined",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:m,onClose:()=>h(!1),children:[Object(s.jsx)(V.a,{children:"Confirm Deletion"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(ca.a,{children:"Are you sure you want to delete the selected medicaments?"})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>h(!1),color:"primary",children:"Cancel"}),Object(s.jsx)(_.a,{onClick:()=>{j.forEach((e=>{ue.removeMedicament(e).then((()=>{O("Success","Medicament deleted successfully","success"),P()})).catch((e=>{O("Error",e.message,"warning")}))})),h(!1)},color:"secondary",children:"Confirm"})]})]})]})})};xa.defaultProps={};var pa=xa;a(472);var Oa=a(290),fa=a.n(Oa);const ga=e=>{let{handleClick:t}=e,a=Object(r.useHistory)();const{register:i,handleSubmit:l,errors:c}=Object(Ne.a)(),[j,m]=Object(n.useState)({username:"admin",password:"admin"}),[h,u]=Object(n.useState)({open:!1,message:"",severity:"error"});Object(n.useEffect)((()=>{}),[]);const x=e=>{const{name:t,value:a}=e.target;m({...j,[t]:a})};return Object(s.jsx)(F.a,{sx:{minHeight:"100vh",bgcolor:"#fafdff",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:'url("images/login.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:Object(s.jsxs)(Mt.a,{elevation:6,sx:{p:4,maxWidth:380,width:"100%",borderRadius:3,backdropFilter:"blur(2px)",background:"rgba(255,255,255,0.92)"},children:[Object(s.jsxs)(E.a,{alignItems:"center",spacing:2,children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",width:64,height:64},children:Object(s.jsx)(fa.a,{fontSize:"large"})}),Object(s.jsx)(U.a,{variant:"h5",fontWeight:700,color:"primary",children:"Dentic Clinic Login"})]}),Object(s.jsxs)("form",{onSubmit:l((async e=>{try{if(!0===d.DEMO_MODE){const e={id:1,username:"admin",role:"admin"};return d.USER_DETAIL=e,localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("connected",d.CONNECTED_USER),t(!0),void setTimeout((()=>{a.push("/dashboard")}),800)}{const e=await b.a.post("/users/login",{username:j.username,password:j.password});e.data&&e.data.id?(localStorage.setItem("user",JSON.stringify(e.data)),t(!0),d.USER_DETAIL=e.data,localStorage.setItem("connected",d.CONNECTED_USER),u({open:!0,message:"Login successful!",severity:"success"}),setTimeout((()=>{a.push("/dashboard")}),800)):u({open:!0,message:"Login failed. Please check your credentials.",severity:"error"})}}catch(s){u({open:!0,message:"Login failed. Please check your credentials.",severity:"error"})}})),style:{marginTop:24},children:[Object(s.jsx)(q.a,{label:"Username",name:"username",fullWidth:!0,margin:"normal",variant:"outlined",value:j.username,onChange:x,inputRef:i({required:!0}),error:!!(null===c||void 0===c?void 0:c.username),helperText:(null===c||void 0===c?void 0:c.username)&&"Username is required",autoFocus:!0}),Object(s.jsx)(q.a,{label:"Password",name:"password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",value:j.password,onChange:x,inputRef:i({required:!0}),error:!!(null===c||void 0===c?void 0:c.password),helperText:(null===c||void 0===c?void 0:c.password)&&"Password is required"}),Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2,mb:1,fontWeight:600},startIcon:Object(s.jsx)(fa.a,{}),children:"Sign In"}),Object(s.jsx)(o.a,{to:"/register",style:{textDecoration:"none"},children:Object(s.jsx)(_.a,{type:"button",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:1,fontWeight:600},children:"Register"})}),Object(s.jsx)(_.a,{type:"button",variant:"outlined",color:"primary",fullWidth:!0,sx:{fontWeight:600},onClick:()=>a.push("/"),children:"Back to Website"})]}),Object(s.jsxs)(U.a,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:["\xa9 ",(new Date).getFullYear()," Dentic Clinic"]}),Object(s.jsx)(rt.a,{open:h.open,autoHideDuration:3e3,onClose:()=>u({...h,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(s.jsx)(lt.a,{onClose:()=>u({...h,open:!1}),severity:h.severity,sx:{width:"100%"},children:h.message})})]})})};ga.defaultProps={};var va=ga;a(473);var ya={medicine_name:"Le nom de medicamnt est obligatoire",company_name:"Le nom de constructeur est obligatoire",group_name:"Le groupe sanguin est obligatoire",description:"La description est obligatoire"};var Ca=()=>h.get("/medicament-categories"),Sa=e=>h.post("/medicament-categories",e),wa=(e,t)=>h.put(`/medicament-categories/${e}`,t),Na=e=>h.delete(`/medicament-categories/${e}`);const Da=e=>{const t={medicine_name:"",company_name:"",group_name:"",description:""},{register:a,handleSubmit:i,errors:l}=Object(Ne.a)(),[c,r]=Object(n.useState)(t),o=e=>{const{name:t,value:a}=e.target;r({...c,[t]:a})},[j,b]=Object(n.useState)([]),[m,h]=Object(n.useState)([]);Object(n.useEffect)((()=>{u(),x()}),[]);const u=()=>{oa().then((e=>{h(e.data)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},x=()=>{Ca().then((e=>{b(e.data)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))};return Object(s.jsx)("div",{className:"AddMedicament",children:Object(s.jsxs)("form",{onSubmit:i((a=>{console.log(a),ue.createMedicament(a).then((a=>{r(t),O("Confirmation",d.CREATE_MSG,"success"),e.closeModal()}))})),class:"form-horizontal",role:"form",enctype:"multipart/form-data",method:"post","accept-charset":"utf-8",children:[Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Name:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("input",{onChange:o,value:c.name,ref:a({required:!0}),type:"text","data-toggle":"tooltip",name:"name",class:"form-control test"}),Object(s.jsx)("div",{className:"error text-danger",children:l.name&&ya.name})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Manufacture :"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("select",{onChange:o,value:c.company_name,ref:a({required:!0}),type:"text",class:"form-control",autocomplete:"off",id:"search-box",placeholder:"Nom de la compagnie","data-toggle":"tooltip",title:"Nom de la compagnie",name:"company_name",required:"",children:j.map((e=>Object(s.jsx)("option",{value:e.id,children:e.name})))}),Object(s.jsx)("div",{className:"error text-danger",children:l.company_name&&ya.company_name})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Category :"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("select",{onChange:o,value:c.group_name,ref:a({required:!0}),type:"text",name:"group_name",autocomplete:"off",id:"search-group",class:"form-control","data-toggle":"tooltip",title:"Nom de groupe ",required:"",children:m.map((e=>Object(s.jsx)("option",{value:e.id,children:e.name})))}),Object(s.jsx)("div",{className:"error text-danger",children:l.group_name&&ya.group_name})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Description:"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("textarea",{name:"description",class:"form-control",rows:"6",onChange:o,value:c.description,ref:a({required:!0})}),Object(s.jsx)("div",{className:"error text-danger",children:l.description&&ya.description})]})]})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:" col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),"  Save"]})})})]})})};Da.defaultProps={};var ka=Da;a(474);const Wa=["Planned","In Progress","Completed","Cancelled"],Ia=["Consultation","Treatment","Medication","Lab","Other"],Pa=["Cash","Card","Insurance","Online"];var Ta=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({patientId:"",doctorId:"",description:"",estimatedDuration:"",status:"Planned",expenseCategory:"",amount:"",paymentMethod:""}),[c,r]=Object(n.useState)(!1),[o,d]=Object(n.useState)([]),[j,b]=Object(n.useState)([]);Object(n.useEffect)((()=>{fetch("/patients").then((e=>e.json())).then(d).catch((()=>d([]))),fetch("/doctors").then((e=>e.json())).then(b).catch((()=>b([])))}),[]);const m=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={patientId:i.patientId,doctorId:i.doctorId,description:i.description,estimatedDuration:Number(i.estimatedDuration),status:i.status,expenseCategory:i.expenseCategory,amount:Number(i.amount),paymentMethod:i.paymentMethod,createdAt:s,updatedAt:s};try{await je(n),a&&a(n),t&&t()}finally{r(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:i.patientId,onChange:m,required:!0,fullWidth:!0,children:o.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:i.doctorId,onChange:m,required:!0,fullWidth:!0,children:j.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{label:"Description",name:"description",value:i.description,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Estimated Duration (days)",name:"estimatedDuration",type:"number",value:i.estimatedDuration,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:m,fullWidth:!0,children:Wa.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Expense Category",name:"expenseCategory",value:i.expenseCategory,onChange:m,required:!0,fullWidth:!0,children:Ia.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Amount",name:"amount",type:"number",value:i.amount,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Payment Method",name:"paymentMethod",value:i.paymentMethod,onChange:m,required:!0,fullWidth:!0,children:Pa.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Expense"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};a(475);const Aa=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.expense);Object(n.useEffect)((()=>{c(e.expense)}),[e.expense]);const r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditExpense",children:Object(s.jsx)("form",{onSubmit:a((t=>{be(e.expense.id,t),e.closeModal(t),O("Confirmation",d.UPDATE_MSG,"success")})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Date:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.date,ref:t({required:!0}),type:"date",id:"date",name:"date",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Name:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.name,ref:t({required:!0}),type:"text",name:"name",id:"patient_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadName(this.value);",class:"form-control",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Amount:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.amount,ref:t({required:!0}),name:"amount",class:"form-control",type:"number"})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Note:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("textarea",{onChange:r,value:null===l||void 0===l?void 0:l.note,ref:t({required:!0}),name:"note",class:"form-control",rows:"3"})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Payment Mode"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsxs)("select",{onChange:r,value:null===l||void 0===l?void 0:l.paymenMode,ref:t({required:!0}),type:"text",name:"paymenMode",id:"patient_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadName(this.value);",class:"form-control",autocomplete:"off",required:"",children:[Object(s.jsx)("option",{children:"Cash"}),Object(s.jsx)("option",{children:"Credit Card"})]})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};Aa.defaultProps={};var Ma=Aa;ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);const Ra=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),[l,c]=Object(n.useState)(null),r=(Me()(),Object(n.useRef)(null)),[o,j]=(Object(n.useRef)(null),Object(n.useState)(!0)),[b,m]=Object(n.useState)(null),[h,u]=Object(n.useState)(null),[x,p]=Object(n.useState)(!1),[g,y]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),S()}),[]);const S=()=>{j(!0),d.DEMO_MODE?fetch("/demo/expenses.json").then((e=>e.json())).then((e=>{t(e),j(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),j(!1)})):de().then((e=>{t(e.data),j(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},w=()=>{S()},N=(e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",d.REMOVE_MSG,"success"),me(t).then((e=>{w()})).catch((e=>{O("Error",d.ERR_MSG,"warning")})))},D=(e,t)=>{e.preventDefault(),i(t),w()},k=[{field:"expenseCategory",headerName:"Category",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",size:"small",sx:{fontWeight:600}})},{field:"description",headerName:"Description",width:220},{field:"amount",headerName:"Amount",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"success",size:"small",sx:{fontWeight:600}})},{field:"paymentMethod",headerName:"Payment Method",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"info",size:"small",sx:{fontWeight:600}})},{field:"paymentStatus",headerName:"Status",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Paid"===e.value?"success":"Pending"===e.value?"warning":"default",size:"small",sx:{fontWeight:600}})},{field:"actions",headerName:"Actions",width:120,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{onClick:t=>{m(t.currentTarget),u(e.row)},children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{anchorEl:b,open:Boolean(b),onClose:()=>m(null),children:[Object(s.jsx)(v.a,{onClick:()=>{c(e.row),y(!0),m(null)},children:"View"}),Object(s.jsx)(v.a,{onClick:t=>D(t,e.row),children:"Edit"}),Object(s.jsx)(v.a,{onClick:t=>N(t,[e.row.id]),children:"Delete"})]})]})}],[W,I]=Object(n.useState)(0),[P,A]=Object(n.useState)([]),[M,R]=Object(n.useState)(!1),[E,q]=Object(n.useState)(!1),z=e.length,L=e.filter((e=>"Paid"===e.paymentStatus)).length,B=e.filter((e=>"Pending"===e.paymentStatus)).length,$=e.reduce(((e,t)=>(e[t.expenseCategory]=(e[t.expenseCategory]||0)+1,e)),{}),J={labels:Object.keys($),datasets:[{data:Object.values($),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},Q={labels:Object.keys($),datasets:[{label:"Expenses per Category",data:Object.values($),backgroundColor:"#1976d2"}]},Z={labels:Object.keys($),datasets:[{label:"Paid",data:Object.keys($).map((t=>e.filter((e=>e.expenseCategory===t&&"Paid"===e.paymentStatus)).length)),borderColor:"#43a047",fill:!1},{label:"Pending",data:Object.keys($).map((t=>e.filter((e=>e.expenseCategory===t&&"Pending"===e.paymentStatus)).length)),borderColor:"#ffa000",fill:!1}]};return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Expenses"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Expenses"}),Object(s.jsx)(U.a,{variant:"h6",children:z})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Paid"}),Object(s.jsx)(U.a,{variant:"h6",children:L})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Pending"}),Object(s.jsx)(U.a,{variant:"h6",children:B})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Expenses by Category"}),Object(s.jsx)(le.c,{data:J})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Expenses per Category"}),Object(s.jsx)(le.a,{data:Q})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Status Trends by Category"}),Object(s.jsx)(le.d,{data:Z})]})]}),E&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),M&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,mr:1,fontWeight:600},onClick:()=>p(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create Expense"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,mr:1,fontWeight:600},onClick:e=>D(e,W),startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),children:"Edit"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,mr:1,fontWeight:600},onClick:e=>N(e,P),startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),children:"Remove"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,fontWeight:600},onClick:()=>S(),startIcon:Object(s.jsx)("i",{className:"fas fa-refresh"}),children:"Reload"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),o?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:k,pageSize:5,rowsPerPageOptions:[5,10,15,20],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){I(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}A(t)},components:{Toolbar:ze.a},autoHeight:!0})}),Object(s.jsxs)(G.a,{open:x,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Create Expense"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Ta,{closeModal:()=>p(!1),onCreate:()=>{p(!1),S()}})})]}),Object(s.jsx)("div",{class:"modal fade",id:"editPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Ma,{expense:a,closeModal:e=>{w(),r.current.click()}})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",onClick:w,ref:r,class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Voir"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsxs)(G.a,{open:g,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsxs)(V.a,{sx:{bgcolor:"#e3f2fd",fontWeight:700,fontSize:22},children:[Object(s.jsx)("i",{className:"fas fa-file-invoice-dollar",style:{color:"#1976d2",marginRight:10}}),"Expense Details"]}),Object(s.jsx)(H.a,{dividers:!0,sx:{bgcolor:"#fafdff"},children:l?Object(s.jsxs)(F.a,{sx:{p:2},children:[Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[Object(s.jsx)(U.a,{variant:"h6",color:"primary",fontWeight:700,children:l.expenseCategory}),Object(s.jsx)(nt.a,{label:l.paymentStatus,color:"Paid"===l.paymentStatus?"success":"Pending"===l.paymentStatus?"warning":"default",size:"small"})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(F.a,{sx:{mb:2},children:[Object(s.jsxs)(U.a,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Description:"})," ",l.description]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Amount:"})," ",Object(s.jsx)("span",{style:{color:"#1976d2",fontWeight:600},children:l.amount})]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Payment Method:"})," ",l.paymentMethod]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Vendor:"})," ",l.vendorName]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Invoice ID:"})," ",l.invoiceId]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Clinic ID:"})," ",l.clinicId]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Transaction Date:"})," ",l.transactionDate?new Date(l.transactionDate).toLocaleString():"-"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Notes:"})," ",l.notes||"-"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Receipt:"})," ",l.receiptAttachments&&l.receiptAttachments.length>0?Object(s.jsx)("a",{href:l.receiptAttachments[0],target:"_blank",rel:"noopener noreferrer",children:"Download"}):"-"]})]})]}):Object(s.jsx)(U.a,{color:"text.secondary",sx:{p:2},children:"No expense selected."})}),Object(s.jsx)(Y.a,{sx:{bgcolor:"#fafdff"},children:Object(s.jsx)(_.a,{onClick:()=>y(!1),color:"primary",variant:"outlined",sx:{minWidth:100},children:"Close"})})]})]})})};Ra.defaultProps={};var Ea=Ra;a(476);var qa={getAllIncome:()=>h.get("/incomes"),createIncome:e=>h.post("/incomes",e),editIncome:(e,t)=>h.put(`/incomes/${e}`,t),removeIncome:e=>h.delete(`/incomes/${e}`)};a(477);const za=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.patient);Object(n.useEffect)((()=>{c(e.patient)}),[e.patient]);return Object(s.jsx)("div",{className:"EditIncome",children:"EditIncome Component"})};za.defaultProps={};a(478);const La=e=>{const t={namepatient:"",emailpatient:"",birth:"",telephone:"",gender:"",address:""},{register:a,handleSubmit:i,errors:l}=Object(Ne.a)(),[c,r]=Object(n.useState)(t);return Object(s.jsx)("div",{className:"AddIncome",children:"AddIncome Component"})};La.defaultProps={};var Fa=a(757);const Ba=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Me()(),[c,r]=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)(!0));Object(n.useEffect)((()=>{T(),o()}),[]);const o=()=>{r(!0),qa.getAllIncome().then((e=>{t(e.data),r(!1)})).catch((e=>{O("Confirmation",e,"info")}))},d=()=>{o(),l()},j=[{field:"id",headerName:"ID",width:70},{field:"incomeCategory",headerName:"Category",width:180},{field:"description",headerName:"Description",width:220},{field:"amount",headerName:"Amount ($)",width:120,type:"number"},{field:"paymentMethod",headerName:"Method",width:130},{field:"paymentStatus",headerName:"Status",width:130},{field:"transactionDate",headerName:"Date",width:140,valueFormatter:e=>{let{value:t}=e;return new Date(t).toLocaleDateString()}},{field:"patientId",headerName:"Patient ID",width:230},{field:"doctorId",headerName:"Doctor ID",width:230},{field:"invoiceId",headerName:"Invoice ID",width:230},{field:"clinicId",headerName:"Clinic ID",width:230},{field:"receiptAttachments",headerName:"Receipt",width:150,renderCell:e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.length)>0?Object(s.jsx)(Fa.a,{href:e.value[0],target:"_blank",rel:"noopener",children:"View Receipt"}):"\u2014"}},{field:"notes",headerName:"Notes",width:250}],[b,m]=Object(n.useState)(0),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)(!1),[f,g]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[f&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),x&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Incomes"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addPayment",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),i(t),d()})(e,b),type:"button","data-toggle":"modal","data-target":"#editMedicament",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit"]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",Re.delete,"success"),qa.removePatient(t).then((e=>{d()})).catch((e=>{O("Confirmation",e,"warning")})))})(e,h),type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>p(!x),children:[Object(s.jsx)("i",{class:"fas fa-bar-chart"})," Show/Hide Summary"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>g(!f),children:[Object(s.jsx)("i",{class:"fas fa-pie-chart"})," Show/Hide Analytics"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>o(),children:[Object(s.jsx)("i",{class:"fas fa-refresh"})," Reload"]}),Object(s.jsxs)(_.a,{type:"button",onClick:e=>(e=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")})(e),children:[Object(s.jsx)("i",{class:"fas fa-eraser"})," Remove All"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),c?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:j,pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){m(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}u(t)},components:{Toolbar:ze.a}})}),Object(s.jsx)("button",{"data-toggle":"modal","data-target":"#addPayment",type:"button",className:"btn btn-success btn-sm",children:"Ajouter"}),Object(s.jsx)("div",{class:"modal fade",id:"addPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Voir"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})})};Ba.defaultProps={};var $a=Ba;a(479);var Ua=()=>h.get("/api/note"),_a=e=>h.delete(`/api/note/${e}`);const Ga=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Me()(),[c,r]=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)(!0));Object(n.useEffect)((()=>{T(),o()}),[]);const o=()=>{r(!0),Ua().then((e=>{t(e.data),r(!1)})).catch((e=>{O("Confirmation",e,"info")}))},d=()=>{o(),l()},[j,b]=Object(n.useState)(0),[m,h]=Object(n.useState)([]),[u,x]=Object(n.useState)(!1),[p,f]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[p&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),u&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Notes"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addMedicament",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),i(t),d()})(e,j),type:"button","data-toggle":"modal","data-target":"#editMedicament",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit"]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",Re.delete,"success"),_a(t).then((e=>{d()})).catch((e=>{O("Confirmation",e,"warning")})))})(e,m),type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>x(!u),children:[Object(s.jsx)("i",{class:"fas fa-bar-chart"})," Show/Hide Summary"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>f(!p),children:[Object(s.jsx)("i",{class:"fas fa-pie-chart"})," Show/Hide Analytics"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>o(),children:[Object(s.jsx)("i",{class:"fas fa-refresh"})," Reload"]}),Object(s.jsxs)(_.a,{type:"button",onClick:e=>(e=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")})(e),children:[Object(s.jsx)("i",{class:"fas fa-eraser"})," Remove All"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),c?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:200},{field:"name",headerName:"Name",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:e=>{},components:{Toolbar:ze.a}})}),Object(s.jsx)("button",{"data-toggle":"modal","data-target":"#addPayment",type:"button",className:"btn btn-success btn-sm",children:"Ajouter"}),Object(s.jsx)("div",{class:"modal fade",id:"addPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Voir"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})})};Ga.defaultProps={};var Va=Ga;a(480);var Ha=()=>h.get("/api/todo"),Ya=e=>h.delete(`/api/todo/${e}`);const Ja=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Me()(),[c,r]=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)(!0));Object(n.useEffect)((()=>{T(),o()}),[]);const o=()=>{r(!0),Ha().then((e=>{t(e.data),r(!1)})).catch((e=>{O("Confirmation",e,"info")}))},d=()=>{o(),l()},[j,b]=Object(n.useState)(0),[m,h]=Object(n.useState)([]),[u,x]=Object(n.useState)(!1),[p,f]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[p&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),u&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Tasks"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addMedicament",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),i(t),d()})(e,j),type:"button","data-toggle":"modal","data-target":"#editMedicament",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit"]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",Re.delete,"success"),Ya(t).then((e=>{d()})).catch((e=>{O("Confirmation",e,"warning")})))})(e,m),type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>x(!u),children:[Object(s.jsx)("i",{class:"fas fa-bar-chart"})," Show/Hide Summary"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>f(!p),children:[Object(s.jsx)("i",{class:"fas fa-pie-chart"})," Show/Hide Analytics"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>o(),children:[Object(s.jsx)("i",{class:"fas fa-refresh"})," Reload"]}),Object(s.jsxs)(_.a,{type:"button",onClick:e=>(e=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")})(e),children:[Object(s.jsx)("i",{class:"fas fa-eraser"})," Remove All"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),c?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:200},{field:"name_income",headerName:"Name",width:200},{field:"amount",headerName:"Amount",width:200},{field:"datee",headerName:"Date",width:200},{field:"note",headerName:"Note",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){b(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}h(t)},components:{Toolbar:ze.a}})}),Object(s.jsx)("button",{"data-toggle":"modal","data-target":"#addPayment",type:"button",className:"btn btn-success btn-sm",children:"Ajouter"}),Object(s.jsx)("div",{class:"modal fade",id:"addPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Voir"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})})};Ja.defaultProps={};var Qa=Ja,Za=(a(481),a(772)),Xa=a(123),Ka=a.n(Xa),es=a(124),ts=a.n(es),as=a(353),ss=a.n(as),ns=a(354),is=a.n(ns),ls=a(352),cs=a.n(ls);const rs=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(!0),[l,c]=Object(n.useState)(!1),[r,o]=Object(n.useState)(!1),[j,b]=Object(n.useState)(null),[m,h]=Object(n.useState)("");Object(n.useEffect)((()=>{T(),p()}),[]);const p=()=>{i(!0),u().then((e=>{t(e.data),i(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),i(!1)}))},g=e.filter((e=>{var t,a,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(a=e.subject)||void 0===a?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null===(s=e.message)||void 0===s?void 0:s.toLowerCase().includes(m.toLowerCase()))})),v=[{field:"id",headerName:"#",width:50},{field:"name",headerName:"From",width:200},{field:"subject",headerName:"Subject",width:200},{field:"message",headerName:"Message",width:200},{field:"actions",headerName:"Actions",width:120,renderCell:e=>Object(s.jsxs)(F.a,{children:[Object(s.jsx)(y.a,{title:"View",children:Object(s.jsx)(f.a,{color:"primary",onClick:()=>{b(e.row),o(!0)},children:Object(s.jsx)(Ka.a,{})})}),Object(s.jsx)(y.a,{title:"Delete",children:Object(s.jsx)(f.a,{color:"secondary",onClick:()=>{b(e.row),c(!0)},children:Object(s.jsx)(ts.a,{})})})]})}];return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Messages"]}),Object(s.jsx)(q.a,{label:"Search",variant:"outlined",fullWidth:!0,margin:"normal",value:m,onChange:e=>{h(e.target.value)}}),a?Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:Object(s.jsx)(Za.a,{})}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:g,columns:v,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!1,components:{Toolbar:ze.a}})}),Object(s.jsxs)(G.a,{open:r,onClose:()=>o(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,bgcolor:"#fafdff",boxShadow:6}},children:[Object(s.jsxs)(V.a,{sx:{bgcolor:"#1976d2",color:"#fff",pb:2,borderTopLeftRadius:12,borderTopRightRadius:12},children:[Object(s.jsx)(cs.a,{sx:{mr:1,verticalAlign:"middle"}}),"View Message"]}),Object(s.jsx)(H.a,{dividers:!0,sx:{p:3},children:j&&Object(s.jsxs)(F.a,{children:[Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[Object(s.jsx)(Ft.a,{color:"primary"}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,children:j.name})]}),Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[Object(s.jsx)(ss.a,{color:"action"}),Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:j.email||"-"})]}),Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[Object(s.jsx)(is.a,{color:"secondary"}),Object(s.jsx)(U.a,{variant:"body2",fontWeight:500,children:j.subject})]}),Object(s.jsx)(it.a,{sx:{my:2}}),Object(s.jsx)(U.a,{variant:"body1",sx:{whiteSpace:"pre-line",fontSize:17},children:j.message})]})}),Object(s.jsx)(Y.a,{sx:{bgcolor:"#f5f5f5",borderBottomLeftRadius:12,borderBottomRightRadius:12},children:Object(s.jsx)(_.a,{onClick:()=>o(!1),color:"primary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:l,onClose:()=>c(!1),children:[Object(s.jsx)(V.a,{children:"Confirmation"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(ca.a,{children:"Are you sure you want to delete this message?"})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>c(!1),color:"primary",children:"Cancel"}),Object(s.jsx)(_.a,{onClick:()=>{j&&x(j).then((()=>{O("Confirmation",d.REMOVE_MSG,"success"),p()})).catch((()=>{O("Error",d.ERR_MSG,"warning")})),c(!1)},color:"secondary",children:"Delete"})]})]})]})})};rs.defaultProps={};var os=rs;a(482);const ds=["Available","Unavailable","Expired"];var js=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({name:"",genericName:"",category:"",description:"",activeIngredients:[{ingredient:"",concentration:""}],dosageForm:"",strength:"",manufacturerId:"",requiresPrescription:"Yes",sideEffects:[""],contraindications:[""],usageInstructions:"",stockQuantity:"",pricePerUnit:"",expirationDate:"",storageConditions:"",barcode:"",batchNumber:"",status:"Available",contactPerson:{fullName:"",phone:"",email:""},address:{street:"",city:"",state:"",postalCode:"",country:""},phone:"",email:"",website:"",licenseNumber:"",certifications:[],medicamentsSupplied:[],contractStartDate:"",contractEndDate:"",manufactureStatus:"Active"}),[c,r]=Object(n.useState)(!1),[o,j]=Object(n.useState)([]);Object(n.useEffect)((()=>{fetch("/medicament-categories").then((e=>e.json())).then((e=>j(e||[]))).catch((()=>j([])))}),[]);const b=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))},m=(e,t,a)=>{const s=[...i.activeIngredients];s[e][t]=a,l((e=>({...e,activeIngredients:s})))},h=()=>l((e=>({...e,activeIngredients:[...e.activeIngredients,{ingredient:"",concentration:""}]}))),u=()=>l((e=>({...e,sideEffects:[...e.sideEffects,""]}))),x=()=>l((e=>({...e,contraindications:[...e.contraindications,""]})));return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString();if(!i.name||!i.genericName||!i.category||!i.description||!i.dosageForm||!i.strength||!i.manufacturerId||!i.usageInstructions||!i.stockQuantity||!i.pricePerUnit||!i.expirationDate||!i.storageConditions||!i.barcode||!i.batchNumber||!i.status)return O("Error","Please fill all required fields.","warning"),void r(!1);const n={name:i.name,genericName:i.genericName,category:i.category,description:i.description,activeIngredients:i.activeIngredients.filter((e=>e.ingredient&&e.concentration)),dosageForm:i.dosageForm,strength:i.strength,manufacturerId:Number(i.manufacturerId),requiresPrescription:i.requiresPrescription,sideEffects:i.sideEffects.filter((e=>""!==e.trim())),contraindications:i.contraindications.filter((e=>""!==e.trim())),usageInstructions:i.usageInstructions,stockQuantity:Number(i.stockQuantity),pricePerUnit:Number(i.pricePerUnit),expirationDate:new Date(i.expirationDate).toISOString(),storageConditions:i.storageConditions,barcode:i.barcode,batchNumber:i.batchNumber,status:i.status,contactPerson:i.contactPerson,address:i.address,phone:i.phone,email:i.email,website:i.website,licenseNumber:i.licenseNumber,certifications:i.certifications,medicamentsSupplied:i.medicamentsSupplied,contractStartDate:i.contractStartDate?new Date(i.contractStartDate).toISOString():"",contractEndDate:i.contractEndDate?new Date(i.contractEndDate).toISOString():"",manufactureStatus:i.manufactureStatus,createdAt:s,updatedAt:s};try{await da(n),O("Success","Medicament created successfully","success"),a&&a(n),t&&t()}catch(e){O("Error",d.ERR_MSG,"warning")}finally{r(!1)}},sx:{p:2,minWidth:400},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Name",name:"name",value:i.name,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Generic Name",name:"genericName",value:i.genericName,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Category",name:"category",value:i.category,onChange:b,required:!0,fullWidth:!0,children:o.map((e=>Object(s.jsx)(v.a,{value:e.name,children:e.name},e.id||e._id||e.name)))}),Object(s.jsx)(q.a,{label:"Description",name:"description",value:i.description,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Active Ingredients"}),i.activeIngredients.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(q.a,{label:"Ingredient",value:e.ingredient,onChange:e=>m(t,"ingredient",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(q.a,{label:"Concentration",value:e.concentration,onChange:e=>m(t,"concentration",e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(f.a,{color:"error",onClick:()=>(e=>l((t=>({...t,activeIngredients:t.activeIngredients.length>1?t.activeIngredients.filter(((t,a)=>a!==e)):[{ingredient:"",concentration:""}]}))))(t),disabled:1===i.activeIngredients.length,children:Object(s.jsx)("span",{className:"fa fa-minus"})}),t===i.activeIngredients.length-1&&Object(s.jsx)(f.a,{color:"success",onClick:h,children:Object(s.jsx)("span",{className:"fa fa-plus"})})]},t))),Object(s.jsx)(q.a,{label:"Dosage Form",name:"dosageForm",value:i.dosageForm,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Strength",name:"strength",value:i.strength,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Manufacturer ID",name:"manufacturerId",value:i.manufacturerId,onChange:b,required:!0,fullWidth:!0}),Object(s.jsxs)(q.a,{select:!0,label:"Requires Prescription",name:"requiresPrescription",value:i.requiresPrescription,onChange:b,required:!0,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"Yes",children:"Yes"}),Object(s.jsx)(v.a,{value:"No",children:"No"})]}),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Side Effects"}),i.sideEffects.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(q.a,{value:e,onChange:e=>((e,t)=>{const a=[...i.sideEffects];a[e]=t,l((e=>({...e,sideEffects:a})))})(t,e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(f.a,{color:"error",onClick:()=>(e=>l((t=>({...t,sideEffects:t.sideEffects.length>1?t.sideEffects.filter(((t,a)=>a!==e)):[""]}))))(t),disabled:1===i.sideEffects.length,children:Object(s.jsx)("span",{className:"fa fa-minus"})}),t===i.sideEffects.length-1&&Object(s.jsx)(f.a,{color:"success",onClick:u,children:Object(s.jsx)("span",{className:"fa fa-plus"})})]},t))),Object(s.jsx)(U.a,{variant:"subtitle2",children:"Contraindications"}),i.contraindications.map(((e,t)=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(q.a,{value:e,onChange:e=>((e,t)=>{const a=[...i.contraindications];a[e]=t,l((e=>({...e,contraindications:a})))})(t,e.target.value),fullWidth:!0,size:"small",required:!0}),Object(s.jsx)(f.a,{color:"error",onClick:()=>(e=>l((t=>({...t,contraindications:t.contraindications.length>1?t.contraindications.filter(((t,a)=>a!==e)):[""]}))))(t),disabled:1===i.contraindications.length,children:Object(s.jsx)("span",{className:"fa fa-minus"})}),t===i.contraindications.length-1&&Object(s.jsx)(f.a,{color:"success",onClick:x,children:Object(s.jsx)("span",{className:"fa fa-plus"})})]},t))),Object(s.jsx)(q.a,{label:"Usage Instructions",name:"usageInstructions",value:i.usageInstructions,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Stock Quantity",name:"stockQuantity",type:"number",value:i.stockQuantity,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Price Per Unit",name:"pricePerUnit",type:"number",value:i.pricePerUnit,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Expiration Date",name:"expirationDate",type:"date",value:i.expirationDate,onChange:b,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Storage Conditions",name:"storageConditions",value:i.storageConditions,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Batch Number",name:"batchNumber",value:i.batchNumber,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:b,required:!0,fullWidth:!0,children:ds.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(U.a,{variant:"h6",sx:{mt:3},children:"Manufacturer Details"}),Object(s.jsx)(q.a,{label:"Contact Person",name:"contactPerson.fullName",value:i.contactPerson.fullName,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Phone",name:"contactPerson.phone",value:i.contactPerson.phone,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Email",name:"contactPerson.email",value:i.contactPerson.email,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Street",name:"address.street",value:i.address.street,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"City",name:"address.city",value:i.address.city,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"State",name:"address.state",value:i.address.state,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Postal Code",name:"address.postalCode",value:i.address.postalCode,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Country",name:"address.country",value:i.address.country,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Phone",name:"phone",value:i.phone,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Email",name:"email",value:i.email,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Website",name:"website",value:i.website,onChange:b,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"License Number",name:"licenseNumber",value:i.licenseNumber,onChange:b,required:!0,fullWidth:!0}),Object(s.jsxs)(q.a,{select:!0,label:"Certifications",name:"certifications",value:i.certifications,onChange:b,required:!0,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"GMP",children:"GMP"}),Object(s.jsx)(v.a,{value:"ISO",children:"ISO"}),Object(s.jsx)(v.a,{value:"Other",children:"Other"})]}),Object(s.jsxs)(q.a,{select:!0,label:"Medicaments Supplied",name:"medicamentsSupplied",value:i.medicamentsSupplied,onChange:b,required:!0,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"Medicament A",children:"Medicament A"}),Object(s.jsx)(v.a,{value:"Medicament B",children:"Medicament B"}),Object(s.jsx)(v.a,{value:"Medicament C",children:"Medicament C"})]}),Object(s.jsx)(q.a,{label:"Contract Start Date",name:"contractStartDate",type:"date",value:i.contractStartDate,onChange:b,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Contract End Date",name:"contractEndDate",type:"date",value:i.contractEndDate,onChange:b,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsxs)(q.a,{select:!0,label:"Manufacture Status",name:"manufactureStatus",value:i.manufactureStatus,onChange:b,required:!0,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"Active",children:"Active"}),Object(s.jsx)(v.a,{value:"Inactive",children:"Inactive"})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Medicament"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};a(483);const bs=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.medicamentManufacture),[r,o]=Object(n.useState)([]),[j,b]=Object(n.useState)([]);Object(n.useEffect)((()=>{c(e.medicamentManufacture)}),[e.medicamentManufacture]);return Object(s.jsx)("div",{className:"EditActivity",children:Object(s.jsx)("form",{onSubmit:a((t=>{ja(e.medicamentManufacture.id,t).then((t=>{e.closeModal(),O("Confirmation",d.UPDATE_MSG,"success")}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Manufacture:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})},value:null===l||void 0===l?void 0:l.name,ref:t({required:!0}),type:"text",id:"date",name:"name",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};bs.defaultProps={};var ms=bs;var hs=()=>{var e,t,a;const[i,l]=Object(n.useState)([]),[c,r]=Object(n.useState)({}),[o,j]=Object(n.useState)(0),[b,m]=Object(n.useState)([]),[h,u]=Object(n.useState)(!0),[x,p]=Object(n.useState)(null),[g,y]=Object(n.useState)(null),[S,w]=Object(n.useState)(null),[N,D]=Object(n.useState)(!1),k=Object(n.useRef)(null),W=Object(n.useRef)(null);Object(n.useEffect)((()=>{T(),I()}),[]);const I=()=>{u(!0),d.DEMO_MODE?fetch("/demo/medicament-manufactures.json").then((e=>e.json())).then((e=>{const t=e.map(((e,t)=>({...e,id:e.id?e.id:e.barcode?e.barcode:t+1})));l(t),u(!1)})).catch((()=>{O("Error",d.ERR_MSG,"warning"),u(!1)})):oa().then((e=>{const t=e.data.map(((e,t)=>({...e,id:e.id?e.id:e.barcode?e.barcode:t+1})));l(t),u(!1)})).catch((()=>{O("Error",d.ERR_MSG,"warning"),u(!1)}))},P=[{field:"name",headerName:"Manufacture",width:150},{field:"licenseNumber",headerName:"License No.",width:130},{field:"status",headerName:"Status",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Active"===e.value?"success":"Inactive"===e.value?"default":"warning",size:"small",variant:"filled",sx:{fontWeight:600}})},{field:"phone",headerName:"Phone",width:140},{field:"email",headerName:"Email",width:200},{field:"website",headerName:"Website",width:180,renderCell:e=>Object(s.jsx)("a",{href:e.value,target:"_blank",rel:"noopener noreferrer",children:e.value})},{field:"contactPerson",headerName:"Contact",width:230,renderCell:e=>{const t=e.row.contactPerson;return t?Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("strong",{children:t.fullName})}),Object(s.jsx)("div",{children:t.email}),Object(s.jsx)("div",{children:t.phone})]}):"N/A"}},{field:"address",headerName:"Address",width:300,renderCell:e=>{const t=e.row.address;return t?`${t.street}, ${t.city}, ${t.state}, ${t.country} ${t.postalCode}`:"N/A"}},{field:"certifications",headerName:"Certifications",width:200,renderCell:e=>Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:(e.row.certifications||[]).map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"warning",variant:"outlined",size:"small",sx:{mb:.5}},t)))})},{field:"medicamentsSupplied",headerName:"Medicaments",width:250,renderCell:e=>Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:(e.row.medicamentsSupplied||[]).map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.name} (${e.batchNumber})`,color:"success",variant:"outlined",size:"small",sx:{mb:.5}},t)))})},{field:"contractStartDate",headerName:"Start Date",width:120,valueGetter:e=>new Date(e.value).toLocaleDateString()},{field:"contractEndDate",headerName:"End Date",width:120,valueGetter:e=>new Date(e.value).toLocaleDateString()},{field:"createdAt",headerName:"Created At",width:160,valueGetter:e=>new Date(e.value).toLocaleString()},{field:"actions",headerName:"Actions",width:120,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{onClick:t=>{p(t.currentTarget),y(e.row)},children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{anchorEl:x,open:Boolean(x),onClose:()=>p(null),children:[Object(s.jsx)(v.a,{onClick:()=>{w(e.row),D(!0),p(null)},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{},children:"Delete"})]})]})}];return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Medicaments Manufactures"]}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addModal",variant:"outlined",color:"primary",sx:{mr:1,mb:2,fontWeight:600},children:[Object(s.jsx)("i",{className:"fas fa-plus"})," Create"]}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#editModal",variant:"outlined",color:"primary",sx:{mr:1,mb:2,fontWeight:600},children:[Object(s.jsx)("i",{className:"fas fa-edit"})," Edit"]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),t.length&&window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&ba(t[0]).then((()=>{I(),O("Confirmation",d.REMOVE_MSG,"success")})).catch((()=>{O("Error",d.ERR_MSG,"warning")}))})(e,b),variant:"outlined",color:"primary",sx:{mr:1,mb:2,fontWeight:600},children:[Object(s.jsx)("i",{className:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{onClick:I,variant:"outlined",color:"primary",sx:{mb:2,fontWeight:600},children:[Object(s.jsx)("i",{className:"fas fa-refresh"})," Reload"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),h?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:500,width:"100%"},children:Object(s.jsx)(qe.a,{rows:i,columns:P,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:e=>{if(m(e),1===e.length){const t=i.find((t=>t.id===e[0]));j(e[0]),r(t||{})}},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{className:"modal fade",id:"addModal",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"New Manufacture"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(js,{closeModal:()=>{I(),W.current.click()}})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",ref:W,className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editModal",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Manufacture"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(ms,{medicamentManufacture:c,closeModal:()=>{I(),k.current.click()}})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",ref:k,className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsxs)(G.a,{open:N,onClose:()=>D(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[Object(s.jsx)("i",{className:"fas fa-industry",style:{color:"#1976d2",fontSize:22}}),"Manufacture Details"]})}),Object(s.jsx)(H.a,{children:S?Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,boxShadow:1,p:{xs:2,sm:3},minWidth:320,minHeight:200,mb:2},children:[Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:S.status,color:"Active"===S.status?"success":"Inactive"===S.status?"default":"warning",icon:Object(s.jsx)("i",{className:"fas fa-check-circle"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`License: ${S.licenseNumber||"-"}`,color:"info",icon:Object(s.jsx)("i",{className:"fas fa-id-card"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Phone: ${S.phone||"-"}`,color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-phone"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Email: ${S.email||"-"}`,color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-envelope"}),sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,sx:{mb:1},children:"General Info:"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Name: ${S.name||"-"}`,color:"default",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Website: ${S.website||"-"}`,color:"info",icon:Object(s.jsx)("i",{className:"fas fa-globe"}),sx:{fontWeight:600,fontSize:15},component:"a",href:S.website,target:"_blank",clickable:!!S.website})]}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Contact Person:"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:(null===(e=S.contactPerson)||void 0===e?void 0:e.fullName)||"-",color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-user"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:(null===(t=S.contactPerson)||void 0===t?void 0:t.email)||"-",color:"info",icon:Object(s.jsx)("i",{className:"fas fa-envelope"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:(null===(a=S.contactPerson)||void 0===a?void 0:a.phone)||"-",color:"success",icon:Object(s.jsx)("i",{className:"fas fa-phone"}),sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Address:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2},children:S.address?`${S.address.street}, ${S.address.city}, ${S.address.state}, ${S.address.country} ${S.address.postalCode}`:"-"}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Certifications:"}),Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:(S.certifications||[]).length>0?S.certifications.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"warning",variant:"outlined",sx:{mb:1}},t))):Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"No certifications listed."})}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Medicaments Supplied:"}),Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:(S.medicamentsSupplied||[]).length>0?S.medicamentsSupplied.map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.name} (${e.batchNumber})`,color:"success",variant:"outlined",sx:{mb:1}},t))):Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"No medicaments listed."})}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Contract Start: ${S.contractStartDate?new Date(S.contractStartDate).toLocaleDateString():"-"}`,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Contract End: ${S.contractEndDate?new Date(S.contractEndDate).toLocaleDateString():"-"}`,color:"warning",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Created: ${S.createdAt?new Date(S.createdAt).toLocaleString():"-"}`,color:"default",sx:{fontWeight:600,fontSize:15}})]})]}):Object(s.jsx)(U.a,{children:"No manufacture selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>D(!1),color:"secondary",variant:"outlined",children:"Close"})})]})]})})};a(484);var us=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({name:"",description:""}),[c,r]=Object(n.useState)(!1),o=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={id:Math.random().toString(36).substr(2,9),name:i.name,description:i.description,createdAt:s,updatedAt:s};try{await Sa(n),O("Success","Category created successfully","success"),a&&a(n),t&&t()}catch(e){O("Error",d.ERR_MSG,"warning")}finally{r(!1)}},sx:{p:2,minWidth:350},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Name",name:"name",value:i.name,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Description",name:"description",value:i.description,onChange:o,multiline:!0,rows:3,required:!0,fullWidth:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Category"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};a(485);const xs=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.medicamentCategory),[r,o]=Object(n.useState)([]),[j,b]=Object(n.useState)([]);Object(n.useEffect)((()=>{c(e.medicamentCategory)}),[e.medicamentCategory]);return Object(s.jsx)("div",{className:"EditActivity",children:Object(s.jsx)("form",{onSubmit:a((t=>{wa(e.medicamentCategory.id,t).then((t=>{e.closeModal(),O("Confirmation",d.UPDATE_MSG,"success")}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Medecine Category:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})},value:null===l||void 0===l?void 0:l.name,ref:t({required:!0}),type:"text",id:"date",name:"name",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:" col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};xs.defaultProps={};var ps=xs;const Os=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),[l,c]=Object(n.useState)(0),[r,o]=Object(n.useState)([]),[j,b]=Object(n.useState)(!0),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[y,S]=Object(n.useState)(null),w=Me()(),N=Object(n.useRef)(null),D=Object(n.useRef)(null);Object(n.useEffect)((()=>{T(),k()}),[]);const k=()=>{b(!0),d.DEMO_MODE?fetch("/demo/medicaments-categories.json").then((e=>e.json())).then((e=>{const a=e.map(((e,t)=>({...e,id:e.id||t+1})));t(a),b(!1)})).catch((()=>{O("Error",d.ERR_MSG,"warning"),b(!1)})):Ca().then((e=>{const a=e.data.map(((e,t)=>({...e,id:e.id||t+1})));t(a),b(!1)})).catch((()=>{O("Error",d.ERR_MSG,"warning"),b(!1)}))},W=()=>{k(),w()},I=(e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",d.REMOVE_MSG,"success"),Na(t).then((()=>W())).catch((()=>O("Error",d.ERR_MSG,"warning"))))},P=()=>{g(null),S(null)},A=[{field:"id",headerName:"#",width:70},{field:"name",headerName:"Category",width:150},{field:"description",headerName:"Description",width:250},{field:"actions",headerName:"Actions",width:90,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{"aria-label":"more","aria-controls":"action-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{g(e.currentTarget),S(t)})(t,e.row),size:"small",children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[u&&Object(s.jsx)("div",{className:"card",children:Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("h4",{children:"Chart"})})}),m&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Medicaments Categories"]}),Object(s.jsxs)(_.a,{"data-toggle":"modal","data-target":"#addPayment",children:[Object(s.jsx)("i",{className:"fas fa-plus"})," Create"]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),i(t),W()})(e,l),"data-toggle":"modal","data-target":"#editPatient",children:[Object(s.jsx)("i",{className:"fas fa-edit"})," Edit"]}),Object(s.jsxs)(_.a,{onClick:e=>I(e,r),children:[Object(s.jsx)("i",{className:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{onClick:k,children:[Object(s.jsx)("i",{className:"fas fa-refresh"})," Reload"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),j?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%"},children:[Object(s.jsx)(qe.a,{rows:e,columns:A,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){c(t[0]);const a=e.find((e=>e.id===t[0]));i(a)}o(t)},components:{Toolbar:ze.a}}),Object(s.jsxs)(C.a,{id:"action-menu",anchorEl:p,open:Boolean(p),onClose:P,children:[Object(s.jsx)(v.a,{onClick:()=>{i(y),c(y.id),document.querySelector('[data-target="#editPatient"]').click(),P()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{I({preventDefault:()=>{}},[y.id]),P()},children:"Delete"})]})]}),Object(s.jsx)("div",{className:"modal fade",id:"addPayment",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(us,{closeModal:()=>{W(),D.current.click()}})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",onClick:W,ref:D,className:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editPatient",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(ps,{closeModal:()=>{W(),N.current.click()},medicamentCategory:a})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",onClick:W,ref:N,className:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})})};Os.defaultProps={};var fs=Os;a(486);var gs=()=>h.get("/labtests"),vs=e=>h.delete(`/labtests/${e}`);const ys=["Pending","In Progress","Completed","Cancelled"],Cs=["Yes","No"],Ss=["Paid","Unpaid","Pending"];var ws=e=>{let{closeModal:t,patients:a=[],doctors:i=[],clinics:l=[],laboratories:c=[],onSuccess:r}=e;const[o,d]=Object(n.useState)({patientId:"",doctorId:"",clinicId:"",testName:"",testCategory:"",testDescription:"",sampleType:"",sampleCollectionDate:"",sampleCollectedBy:"",testStatus:"Pending",result:{},laboratoryId:"",testCost:0,insuranceCovered:"",paymentStatus:""}),[j,m]=Object(n.useState)(!1),h=e=>{const{name:t,value:a}=e.target;d((e=>({...e,[t]:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0);const a=(new Date).toISOString(),s={...o,id:Math.random().toString(36).substr(2,9),createdAt:a,updatedAt:a};try{await b.a.post("/labtests",s),r&&r(),t&&t()}finally{m(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:o.patientId,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:a.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:o.doctorId,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:i.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:o.clinicId,onChange:h,fullWidth:!0,margin:"normal",children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Test Name",name:"testName",value:o.testName,onChange:h,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Test Category",name:"testCategory",value:o.testCategory,onChange:h,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Test Description",name:"testDescription",value:o.testDescription,onChange:h,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsx)(q.a,{label:"Sample Type",name:"sampleType",value:o.sampleType,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Sample Collection Date",name:"sampleCollectionDate",type:"datetime-local",value:o.sampleCollectionDate,onChange:h,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Sample Collected By",name:"sampleCollectedBy",value:o.sampleCollectedBy,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Test Status",name:"testStatus",value:o.testStatus,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:ys.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Laboratory",name:"laboratoryId",value:o.laboratoryId,onChange:h,fullWidth:!0,margin:"normal",children:c.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Test Cost",name:"testCost",type:"number",value:o.testCost,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Insurance Covered",name:"insuranceCovered",value:o.insuranceCovered,onChange:h,fullWidth:!0,margin:"normal",children:Cs.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Payment Status",name:"paymentStatus",value:o.paymentStatus,onChange:h,fullWidth:!0,margin:"normal",children:Ss.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:j,children:j?"Saving...":"Create Lab Test"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:j,children:"Cancel"})]})]})};const Ns=["Pending","In Progress","Completed","Cancelled"],Ds=["Yes","No"],ks=["Paid","Unpaid","Pending"],Ws=["Normal","Hemolyzed","Lipemic","Icteric","Clotted"],Is=["Routine","Urgent","Stat"],Ps=["Email","Phone","In Person","Portal"];var Ts=e=>{let{closeModal:t,testLab:a={},patients:i=[],doctors:l=[],clinics:c=[],laboratories:r=[],onSuccess:o}=e;const[d,j]=Object(n.useState)({patientId:"",doctorId:"",clinicId:"",testName:"",testCategory:"",testDescription:"",sampleType:"",sampleCondition:"",sampleCollectionDate:"",sampleCollectedBy:"",urgencyLevel:"",testStatus:"Pending",result:{},laboratoryId:"",testCost:0,insuranceCovered:"",paymentStatus:"",resultDeliveryMethod:"",resultDeliveryDate:"",comments:""}),[m,h]=Object(n.useState)(!1);Object(n.useEffect)((()=>{a&&j({patientId:a.patientId||"",doctorId:a.doctorId||"",clinicId:a.clinicId||"",testName:a.testName||"",testCategory:a.testCategory||"",testDescription:a.testDescription||"",sampleType:a.sampleType||"",sampleCondition:a.sampleCondition||"",sampleCollectionDate:a.sampleCollectionDate?a.sampleCollectionDate.slice(0,16):"",sampleCollectedBy:a.sampleCollectedBy||"",urgencyLevel:a.urgencyLevel||"",testStatus:a.testStatus||"Pending",result:a.result||{},laboratoryId:a.laboratoryId||"",testCost:a.testCost||0,insuranceCovered:a.insuranceCovered||"",paymentStatus:a.paymentStatus||"",resultDeliveryMethod:a.resultDeliveryMethod||"",resultDeliveryDate:a.resultDeliveryDate?a.resultDeliveryDate.slice(0,16):"",comments:a.comments||""})}),[a]);const u=e=>{const{name:t,value:a}=e.target;j((e=>({...e,[t]:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);const s=(new Date).toISOString(),n={...d,updatedAt:s};try{await b.a.put(`/labtests/${a.id}`,n),o&&o(),t&&t()}finally{h(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:d.patientId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:i.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:d.doctorId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:d.clinicId,onChange:u,fullWidth:!0,margin:"normal",children:c.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Test Name",name:"testName",value:d.testName,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Test Category",name:"testCategory",value:d.testCategory,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Test Description",name:"testDescription",value:d.testDescription,onChange:u,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsx)(q.a,{label:"Sample Type",name:"sampleType",value:d.sampleType,onChange:u,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Sample Collection Date",name:"sampleCollectionDate",type:"datetime-local",value:d.sampleCollectionDate,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Sample Collected By",name:"sampleCollectedBy",value:d.sampleCollectedBy,onChange:u,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Test Status",name:"testStatus",value:d.testStatus,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:Ns.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Laboratory",name:"laboratoryId",value:d.laboratoryId,onChange:u,fullWidth:!0,margin:"normal",children:r.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Test Cost",name:"testCost",type:"number",value:d.testCost,onChange:u,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Insurance Covered",name:"insuranceCovered",value:d.insuranceCovered,onChange:u,fullWidth:!0,margin:"normal",children:Ds.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Payment Status",name:"paymentStatus",value:d.paymentStatus,onChange:u,fullWidth:!0,margin:"normal",children:ks.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Sample Condition",name:"sampleCondition",value:d.sampleCondition,onChange:u,fullWidth:!0,margin:"normal",children:Ws.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Urgency Level",name:"urgencyLevel",value:d.urgencyLevel,onChange:u,fullWidth:!0,margin:"normal",children:Is.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Result Delivery Method",name:"resultDeliveryMethod",value:d.resultDeliveryMethod,onChange:u,fullWidth:!0,margin:"normal",children:Ps.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Result Delivery Date",name:"resultDeliveryDate",type:"datetime-local",value:d.resultDeliveryDate,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Comments",name:"comments",value:d.comments,onChange:u,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:m,children:m?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:m,children:"Cancel"})]})]})};var As=e=>{let{open:t,onClose:a,testLab:i,getPatientName:l,getDoctorName:c}=e;const[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)((null===i||void 0===i?void 0:i.document)||null),b=Object(n.useRef)();if(!i)return null;return Object(s.jsxs)(G.a,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,children:[Object(s.jsxs)(V.a,{sx:{background:"#e3f2fd",fontWeight:700,fontSize:22},children:[Object(s.jsx)("i",{className:"fas fa-vials",style:{color:"#1976d2",marginRight:10}}),"Lab Test Details"]}),Object(s.jsxs)(H.a,{dividers:!0,sx:{background:"#f8fafc"},children:[Object(s.jsxs)(Mt.a,{elevation:0,sx:{p:2,mb:2,bgcolor:"#fff",borderRadius:2},children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[Object(s.jsx)(y.a,{title:"Patient",children:Object(s.jsx)("i",{className:"fas fa-user",style:{color:"#1976d2",fontSize:18}})}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,children:l?l(i.patientId):i.patientId}),Object(s.jsx)(nt.a,{label:i.testStatus,color:"Completed"===i.testStatus?"success":"Pending"===i.testStatus?"warning":"default",size:"small",sx:{ml:2}})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[Object(s.jsx)(y.a,{title:"Doctor",children:Object(s.jsx)("i",{className:"fas fa-user-md",style:{color:"#388e3c",fontSize:18}})}),Object(s.jsx)(U.a,{variant:"subtitle2",children:c?c(i.doctorId):i.doctorId})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(s.jsx)(y.a,{title:"Test Name",children:Object(s.jsx)("i",{className:"fas fa-flask",style:{color:"#d32f2f",fontSize:18}})}),Object(s.jsx)(U.a,{variant:"subtitle2",children:i.testName})]})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(F.a,{sx:{mb:2,p:2,bgcolor:"#f5f5f5",borderRadius:2},children:[Object(s.jsxs)(U.a,{variant:"subtitle2",sx:{mb:1},children:[Object(s.jsx)("i",{className:"fas fa-file-upload",style:{marginRight:8,color:"#1976d2"}}),"Lab Test Document"]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(s.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",style:{display:"none"},ref:b,onChange:async e=>{const t=e.target.files[0];if(!t)return;o(!0);const a=new FormData;a.append("file",t);try{await fetch(`/api/labtests/${i.id}/upload`,{method:"POST",body:a}),j({name:t.name,url:`/labtest/${t.name}`})}catch(s){alert("Upload failed")}o(!1)}}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,alignItems:"center"},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>b.current.click(),disabled:r,startIcon:Object(s.jsx)("i",{className:"fas fa-upload"}),children:r?"Uploading...":"Upload Document"}),d&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{variant:"body2",sx:{ml:1},children:d.name}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>{if(d&&d.url){const e=document.createElement("a");e.href=d.url,e.download=d.name,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},startIcon:Object(s.jsx)("i",{className:"fas fa-download"}),children:"Download"})]})]})]})]}),Object(s.jsxs)(Pt.a,{container:!0,spacing:2,children:[Object(s.jsxs)(Pt.a,{item:!0,xs:12,sm:6,children:[Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Category:"})," ",i.testCategory]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Status:"})," ",Object(s.jsx)(nt.a,{label:i.testStatus,color:"Completed"===i.testStatus?"success":"Pending"===i.testStatus?"warning":"default",size:"small"})]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Sample Type:"})," ",i.sampleType]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Sample Date:"})," ",i.sampleCollectionDate?new Date(i.sampleCollectionDate).toLocaleString():"-"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Collected By:"})," ",i.sampleCollectedBy]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Laboratory:"})," ",i.laboratoryId]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Test Cost:"})," ",i.testCost]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Insurance Covered:"})," ",i.insuranceCovered]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Payment Status:"})," ",i.paymentStatus]})]}),Object(s.jsxs)(Pt.a,{item:!0,xs:12,sm:6,children:[Object(s.jsx)(U.a,{variant:"body2",sx:{mb:1},children:Object(s.jsx)("strong",{children:"Description:"})}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2,color:"#1976d2"},children:i.testDescription||"-"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:1},children:Object(s.jsx)("strong",{children:"Result:"})}),Object(s.jsx)(F.a,{sx:{background:"#f1f8e9",borderRadius:1,p:1,fontFamily:"monospace",fontSize:14,color:"#388e3c",mb:2,minHeight:32},children:i.result&&Object.keys(i.result).length>0?Object(s.jsx)("pre",{style:{margin:0,background:"none",fontFamily:"inherit"},children:JSON.stringify(i.result,null,2)}):"No result yet"})]})]}),Object(s.jsx)(it.a,{sx:{my:2}}),Object(s.jsx)(F.a,{sx:{mt:2,textAlign:"right"},children:Object(s.jsxs)(U.a,{variant:"caption",color:"text.secondary",children:[Object(s.jsx)("i",{className:"fas fa-clock",style:{marginRight:4}}),"Created: ",i.createdAt?new Date(i.createdAt).toLocaleString():"-",Object(s.jsx)("br",{}),Object(s.jsx)("i",{className:"fas fa-sync-alt",style:{marginRight:4}}),"Updated: ",i.updatedAt?new Date(i.updatedAt).toLocaleString():"-"]})})]}),Object(s.jsx)(Y.a,{sx:{background:"#f8fafc"},children:Object(s.jsx)(_.a,{onClick:a,color:"primary",variant:"contained",sx:{minWidth:100},children:"Close"})})]})};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);const Ms=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),[l,c]=Object(n.useState)([]),[r,o]=Object(n.useState)([]),j=(Me()(),Object(n.useRef)(null)),b=Object(n.useRef)(null),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[y,S]=Object(n.useState)(null),[w,N]=Object(n.useState)(!1),[D,k]=Object(n.useState)(!1),[W,I]=Object(n.useState)(null);Object(n.useEffect)((()=>{T(),P(),d.DEMO_MODE?(fetch("/demo/patients.json").then((e=>e.json())).then((e=>c(e))),fetch("/demo/doctors.json").then((e=>e.json())).then((e=>o(e)))):(fetch("/patients").then((e=>e.json())).then((e=>c(e))),fetch("/doctors").then((e=>e.json())).then((e=>o(e))))}),[]);const P=()=>{h(!0),d.DEMO_MODE?fetch("/demo/labtests.json").then((e=>e.json())).then((e=>{t(e),h(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning"),h(!1)})):gs().then((e=>{t(e.data),h(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},A=e=>{b.current.click(),P()},M=e=>{const t=l.find((t=>t.id===e));return t?t.fullName:`ID: ${e}`},R=e=>{const t=r.find((t=>t.id===e));return t?t.fullName:`ID: ${e}`},E=[{field:"patientId",headerName:"Patient",width:250,renderCell:e=>Object(s.jsx)("span",{children:M(e.value)})},{field:"doctorId",headerName:"Doctor",width:250,renderCell:e=>Object(s.jsx)("span",{children:R(e.value)})},{field:"testName",headerName:"Test Name",width:180},{field:"testCategory",headerName:"Category",width:130,renderCell:e=>{let{value:t}=e;return Object(s.jsx)(nt.a,{label:t,color:"Blood"===t?"primary":"Urine"===t?"success":"Radiology"===t?"info":"Biopsy"===t?"secondary":"default",variant:"outlined",size:"small"})}},{field:"sampleCollectionDate",headerName:"Sample Date",width:140,valueFormatter:e=>{let{value:t}=e;return new Date(t).toLocaleDateString()}},{field:"testStatus",headerName:"Status",width:120,renderCell:e=>{let{value:t}=e;return Object(s.jsx)(nt.a,{label:t||"Unknown",color:"Completed"===t?"success":"Pending"===t?"warning":"In Progress"===t?"info":"Cancelled"===t?"error":"default",size:"small"})}},{field:"actions",headerName:"Actions",width:300,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:t=>q(t,e.row),children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:z,children:[Object(s.jsx)(v.a,{onClick:()=>L("view"),children:"View"}),Object(s.jsx)(v.a,{onClick:()=>L("edit"),children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>L("delete"),children:"Delete"}),Object(s.jsx)(v.a,{onClick:()=>L("download"),children:"Download"}),Object(s.jsx)(v.a,{onClick:()=>L("download-pdf"),children:"Download PDF"}),Object(s.jsx)(v.a,{children:Object(s.jsxs)("label",{style:{cursor:"pointer",margin:0},children:["Upload Lab Report",Object(s.jsx)("input",{type:"file",hidden:!0,onChange:K})]})})]})]})}],q=(e,t)=>{g(e.currentTarget),S(t)},z=()=>{g(null),S(null)},L=e=>{if("view"===e&&(I(y),z(),k(!0)),"edit"===e&&(i(y),z(),N(!0)),"delete"===e&&z(),"download"===e){const e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(y,null,2)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",`labtest_${y.id||"data"}.json`),document.body.appendChild(t),t.click(),t.remove(),z()}if("download-pdf"===e){const e=new ut.a;e.setFontSize(20),e.setTextColor("#1976d2"),e.text("Lab Test Report",105,18,{align:"center"}),e.setFontSize(12),e.setTextColor("#333");let t=32;e.setFont(void 0,"bold"),e.text("Patient:",14,t),e.setFont(void 0,"normal"),e.text(M(y.patientId),40,t),t+=8,e.setFont(void 0,"bold"),e.text("Doctor:",14,t),e.setFont(void 0,"normal"),e.text(R(y.doctorId),40,t),t+=10,e.setDrawColor(200,200,200),e.line(14,t,196,t),t+=8;[{label:"Test Name",value:y.testName},{label:"Category",value:y.testCategory},{label:"Sample Date",value:y.sampleCollectionDate?new Date(y.sampleCollectionDate).toLocaleDateString():""},{label:"Status",value:y.testStatus},{label:"Result",value:y.result?"object"===typeof y.result?JSON.stringify(y.result,null,2):y.result:""},{label:"Notes",value:y.notes||""}].forEach((a=>{if(a.value){e.setFont(void 0,"bold"),e.text(`${a.label}:`,14,t),e.setFont(void 0,"normal");const s=e.splitTextToSize(String(a.value),160);e.text(s,40,t),t+=8+6*(s.length-1),t>270&&(e.addPage(),t=20)}})),e.setFontSize(10),e.setTextColor("#888"),e.text(`Generated on ${(new Date).toLocaleString()}`,14,290),e.save(`labtest_${y.id||"data"}.pdf`),z()}z()},[B,$]=Object(n.useState)(0),[J,Q]=Object(n.useState)([]),[Z,X]=Object(n.useState)(!1),K=e=>{const t=e.target.files[0];t&&console.log("Uploaded file:",t)},ee=e.length,te=e.filter((e=>"Completed"===e.testStatus)).length,ae=e.filter((e=>"Pending"===e.testStatus)).length,se={};e.forEach((e=>{se[e.testCategory]=(se[e.testCategory]||0)+1}));const ne={labels:Object.keys(se),datasets:[{data:Object.values(se),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},ie={labels:Object.keys(se),datasets:[{label:"Tests per Category",data:Object.values(se),backgroundColor:"#1976d2"}]},ce={labels:Object.keys(se),datasets:[{label:"Completed",data:Object.keys(se).map((t=>e.filter((e=>e.testCategory===t&&"Completed"===e.testStatus)).length)),borderColor:"#43a047",fill:!1},{label:"Pending",data:Object.keys(se).map((t=>e.filter((e=>e.testCategory===t&&"Pending"===e.testStatus)).length)),borderColor:"#ffa000",fill:!1}]};return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)(F.a,{sx:{p:2},children:Object(s.jsxs)(U.a,{variant:"h4",fontWeight:700,color:"primary",sx:{display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)("i",{className:"fas fa-vials",style:{marginRight:10}}),"Quick Test"]})}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Lab Tests"}),Object(s.jsx)(U.a,{variant:"h6",children:ee})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Completed"}),Object(s.jsx)(U.a,{variant:"h6",children:te})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Pending"}),Object(s.jsx)(U.a,{variant:"h6",children:ae})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Lab Tests by Category"}),Object(s.jsx)(le.c,{data:ne})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Tests per Category"}),Object(s.jsx)(le.a,{data:ie})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Status Trends by Category"}),Object(s.jsx)(le.d,{data:ce})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2,justifyContent:"flex-start"},children:[Object(s.jsx)(_.a,{type:"button","data-toggle":"modal","data-target":"#addPayment",color:"primary",variant:"outlined",sx:{minWidth:150},startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create Lab Test"}),Object(s.jsx)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),i(t)})(e,a),type:"button","data-toggle":"modal","data-target":"#edit",color:"primary",variant:"outlined",sx:{minWidth:120},startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),children:"Edit"}),Object(s.jsx)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&vs(t).then((e=>{P()})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))})(e,B),type:"button",color:"primary",variant:"outlined",sx:{minWidth:120},startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),children:"Remove"}),Object(s.jsx)(_.a,{type:"button",onClick:()=>P(),color:"primary",variant:"outlined",sx:{minWidth:120},startIcon:Object(s.jsx)("i",{className:"fas fa-refresh"}),children:"Reload"}),Object(s.jsx)(_.a,{onClick:()=>{window.confirm("Are you sure you want to delete the selected items?")&&console.log("Deleting selected items:",J)},variant:"outlined",color:"primary",sx:{minWidth:150},children:"Delete Selected"}),Object(s.jsx)(_.a,{onClick:()=>{console.log("Exporting selected items:",J)},variant:"outlined",color:"primary",sx:{minWidth:150},children:"Export Selected"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),m?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:E,pageSize:10,rowsPerPageOptions:[10,15,20],checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){$(t[0]);const s=e.find((e=>e.id===t[0]));i(s),console.log(a)}Q(t)},components:{Toolbar:ze.a},autoHeight:!0})}),Object(s.jsxs)(G.a,{open:w,onClose:()=>N(!1),maxWidth:"lg",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Lab Test"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Ts,{closeModal:()=>N(!1),testLab:a,patients:l,doctors:r})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>N(!1),color:"secondary",children:"Close"})})]}),Object(s.jsx)(As,{open:D,onClose:()=>k(!1),testLab:W,getPatientName:M,getDoctorName:R}),Object(s.jsx)("div",{class:"modal fade",id:"addPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(ws,{closeModal:A})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{onClick:A,ref:b,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"edit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Ts,{closeModal:j,testLab:a})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",ref:j,onClick:e=>{j.current.click(),P()},class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Voir"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})]})};Ms.defaultProps={};var Rs=Ms;a(487);var Es=()=>h.get("/api/invoice"),qs=e=>h.delete(`/api/invoice/${e}`);a(488);const zs=()=>{const e={date:"",patient:"",result:"",name:""},{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e),[r,o]=Object(n.useState)([]),d=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};Object(n.useEffect)((()=>{j()}),[]);const j=()=>{ke.getAllPatients().then((e=>{o(e.data)})).catch((e=>{}))};return Object(s.jsx)("div",{className:"AddMedicament",children:Object(s.jsxs)("form",{onSubmit:a((t=>{c(e)})),class:"form-horizontal",role:"form",enctype:"multipart/form-data",method:"post","accept-charset":"utf-8",children:[Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Invoice:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("input",{onChange:d,value:l.name,ref:t({required:!0}),type:"text","data-toggle":"tooltip",name:"name",class:"form-control test"}),Object(s.jsx)("div",{className:"error text-danger",children:i.name&&ya.name})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Amount:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("textarea",{onChange:d,value:l.result,ref:t({required:!0}),type:"text",class:"form-control",autocomplete:"off",id:"search-box","data-toggle":"tooltip",title:"Nom de la compagnie",name:"result",required:""}),Object(s.jsx)("div",{className:"error text-danger",children:i.result&&ya.result})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Tax:"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("input",{onChange:d,value:l.date,ref:t({required:!0}),type:"date",name:"date",autocomplete:"off",id:"search-group",class:"form-control","data-toggle":"tooltip",title:"Nom de groupe ",required:""}),Object(s.jsx)("div",{className:"error text-danger",children:i.date&&ya.date})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Date:"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("select",{onChange:d,value:l.patient,ref:t({required:!0}),name:"patient",id:"patient_id",class:"form-control",autocomplete:"off",required:"",children:r.map((e=>Object(s.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.namepatient})))}),Object(s.jsx)("div",{className:"error text-danger",children:i.patient&&ya.patient})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Customer:"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("select",{onChange:d,value:l.patient,ref:t({required:!0}),name:"patient",id:"patient_id",class:"form-control",autocomplete:"off",required:"",children:r.map((e=>Object(s.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.namepatient})))}),Object(s.jsx)("div",{className:"error text-danger",children:i.patient&&ya.patient})]})]})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),"  Sauvegarder"]})})})]})})};zs.defaultProps={};var Ls=zs;const Fs=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Me()(),[c,r]=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)(!0));Object(n.useEffect)((()=>{T(),o()}),[]);const o=()=>{r(!0),Es().then((e=>{t(e.data),r(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},j=()=>{o(),l()},b=(e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&(O("Confirmation",d.REMOVE_MSG,"success"),qs(t).then((e=>{j()})).catch((e=>{O("Error",d.ERR_MSG,"warning")})))},m=(e,t)=>{e.preventDefault(),i(t),j()},[h,u]=Object(n.useState)(0),[x,p]=Object(n.useState)([]),[f,g]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[v&&Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:"Chart"}),Object(s.jsx)("br",{})]})}),f&&Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{}),Object(s.jsx)(Fe,{})]}),Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Invoices"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addPayment",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),Object(s.jsxs)(_.a,{onClick:e=>m(e,h),type:"button","data-toggle":"modal","data-target":"#editMedicament",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit"]}),Object(s.jsxs)(_.a,{onClick:e=>b(e,x),type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>g(!f),children:[Object(s.jsx)("i",{class:"fas fa-bar-chart"})," Show/Hide Summary"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>y(!v),children:[Object(s.jsx)("i",{class:"fas fa-pie-chart"})," Show/Hide Analytics"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>o(),children:[Object(s.jsx)("i",{class:"fas fa-refresh"})," Reload"]}),Object(s.jsxs)(_.a,{type:"button",onClick:e=>(e=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")})(e),children:[Object(s.jsx)("i",{class:"fas fa-eraser"})," Remove All"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("table",{id:"example1",className:"table table-striped table-bordered",children:[Object(s.jsx)("thead",{class:" text-primary",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Invoice"}),Object(s.jsx)("th",{children:"Amount"}),Object(s.jsx)("th",{children:" Tax"}),Object(s.jsx)("th",{children:"Date "}),Object(s.jsx)("th",{children:"Customer"}),Object(s.jsx)("th",{children:"Status"}),Object(s.jsx)("th",{children:"Actions"})]})}),Object(s.jsx)("tbody",{children:c?"loading...":e.map((e=>Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"INV002"}),Object(s.jsx)("td",{children:"1000$"}),Object(s.jsx)("td",{children:"110$"}),Object(s.jsx)("td",{children:"11/11/2022"}),Object(s.jsxs)("td",{children:[" ",e.client]}),Object(s.jsx)("td",{children:"UNPAID"}),Object(s.jsxs)("td",{children:[Object(s.jsx)("button",{type:"button","data-toggle":"modal","data-target":"#viewPatient",class:"btn btn-warning btn-sm",children:Object(s.jsx)("i",{class:"fas fa-eye"})}),Object(s.jsxs)("button",{onClick:t=>m(t,e),type:"button","data-toggle":"modal","data-target":"#editPatient",class:"btn btn-warning btn-sm",children:[Object(s.jsx)("i",{class:"fas fa-edit"}),"view"]}),Object(s.jsx)("button",{onClick:t=>b(t,e.id),type:"button",class:"btn btn-danger btn-sm",children:Object(s.jsx)("i",{class:"fas fa-trash-alt"})})]})]})))})]}),Object(s.jsx)("div",{class:"modal fade",id:"addPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Ls,{})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"viewPayment",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Voir"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"})})]})})})]})})};Fs.defaultProps={};var Bs=Fs;a(489);const $s=["Medical Fitness","Dental Clearance","Vaccination","Other"];var Us=e=>{let{closeModal:t}=e;const[a,i]=Object(n.useState)({certificateNumber:"",patientId:"",doctorId:"",clinicId:"",certificateType:"",issueDate:"",validUntil:"",diagnosis:"",treatmentDetails:"",recommendations:"",attachments:"",signature:"",status:"Issued",notes:""}),[l,c]=Object(n.useState)(!1),[r,o]=Object(n.useState)([]),[d,j]=Object(n.useState)([]),[m,h]=Object(n.useState)([]);Object(n.useEffect)((()=>{b.a.get("/patients").then((e=>o(e.data))).catch((()=>o([]))),b.a.get("/doctors").then((e=>j(e.data))).catch((()=>j([]))),b.a.get("/clinics").then((e=>h(e.data))).catch((()=>h([])))}),[]);const u=e=>{const{name:t,value:a}=e.target;i((e=>({...e,[t]:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(!0),!a.patientId||!a.doctorId||!a.clinicId||!a.certificateType||!a.diagnosis||!a.treatmentDetails||!a.signature)return alert("Please fill all required fields."),void c(!1);const s={certificateNumber:a.certificateNumber,patientId:Number(a.patientId),doctorId:Number(a.doctorId),clinicId:Number(a.clinicId),certificateType:a.certificateType,issueDate:new Date(a.issueDate),validUntil:new Date(a.validUntil),diagnosis:a.diagnosis,treatmentDetails:a.treatmentDetails,recommendations:a.recommendations,attachments:a.attachments?[a.attachments]:[],signature:a.signature,status:a.status,notes:a.notes};console.log("Sent object:",s);try{await b.a.post("/certificates",s),t&&t()}finally{c(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{label:"Certificate Number",name:"certificateNumber",value:a.certificateNumber,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:a.patientId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:r.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:a.doctorId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:d.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:a.clinicId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:m.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name||e.clinicName||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Certificate Type",name:"certificateType",value:a.certificateType,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:$s.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Issue Date",name:"issueDate",type:"date",value:a.issueDate,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Valid Until",name:"validUntil",type:"date",value:a.validUntil,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Diagnosis",name:"diagnosis",value:a.diagnosis,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Treatment Details",name:"treatmentDetails",value:a.treatmentDetails,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Recommendations",name:"recommendations",value:a.recommendations,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Attachment URL",name:"attachments",value:a.attachments,onChange:u,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Signature",name:"signature",value:a.signature,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsxs)(q.a,{select:!0,label:"Status",name:"status",value:a.status,onChange:u,fullWidth:!0,margin:"normal",children:[Object(s.jsx)(v.a,{value:"Issued",children:"Issued"}),Object(s.jsx)(v.a,{value:"Active",children:"Active"}),Object(s.jsx)(v.a,{value:"Expired",children:"Expired"})]}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:a.notes,onChange:u,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:l,children:l?"Saving...":"Create Certificate"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:l,children:"Cancel"})]})]})};a(490);const _s=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.certificate),[r,o]=Object(n.useState)([]);Object(n.useEffect)((()=>{c(e.certificate),ke.getAllPatients().then((e=>{o(e.data)})).catch((e=>{O("Confirmation",d.ERR_MSG,"success")}))}),[e.certificate]);const j=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditCertificate",children:Object(s.jsx)("form",{onSubmit:a((t=>{he.editCertificate(e.certificate.id,t).then((t=>{e.closeModal(),O("Confirmation",d.UPDATE_MSG,"success")}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Date:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:j,value:null===l||void 0===l?void 0:l.date,ref:t({required:!0}),type:"date",id:"date",name:"date",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Patient:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("select",{onChange:j,value:null===l||void 0===l?void 0:l.patient,ref:t({required:!0}),name:"patient",id:"patient_id",class:"form-control",autocomplete:"off",required:"",children:r.map((e=>Object(s.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.namepatient})))})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Template:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("select",{onChange:j,value:null===l||void 0===l?void 0:l.template,ref:t({required:!0}),name:"template",class:"form-control",rows:"3",children:Object(s.jsx)("option",{value:"1",children:"template"})})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Content:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("textarea",{onChange:j,value:null===l||void 0===l?void 0:l.content,placeholder:"Content",ref:t({required:!0}),name:"content",class:"form-control",rows:"3"})})]}),Object(s.jsx)("div",{class:"form-group",children:Object(s.jsx)("div",{children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};_s.defaultProps={};var Gs=_s,Vs=a(753),Hs=a(356),Ys=a.n(Hs),Js=a(355),Qs=a.n(Js),Zs=a(243),Xs=a.n(Zs);ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);const Ks=()=>{const[e,t]=Object(n.useState)(!0),[a,i]=Object(n.useState)(!0),[l,c]=Object(n.useState)([]),[r,o]=Object(n.useState)(null),[j,b]=Object(n.useState)(null),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[y,S]=Object(n.useState)(!1),[w,N]=Object(n.useState)([]),[D,k]=Object(n.useState)({open:!1,message:"",severity:"info"}),[W,I]=Object(n.useState)({}),[P,A]=Object(n.useState)({type:"",status:"",patient:"",doctor:"",clinic:"",from:"",to:""}),[M,R]=Object(n.useState)([]),[z,L]=Object(n.useState)([]),[B,$]=Object(n.useState)([]);Object(n.useEffect)((()=>{T(),J(),fetch("/patients").then((e=>e.json())).then(R),fetch("/doctors").then((e=>e.json())).then(L),fetch("/clinics").then((e=>e.json())).then($)}),[]);const J=()=>{t(!0),i(!0),d.DEMO_MODE?fetch("/demo/certificates.json").then((e=>e.json())).then((e=>{c(e),setTimeout((()=>i(!1)),800),t(!1)})).catch((e=>{O("Error","Failed to load certificates","warning"),t(!1)})):he.getAllCertificate().then((e=>{c(e.data),setTimeout((()=>i(!1)),800),t(!1)})).catch((e=>{O("Error","Failed to load certificates","warning"),t(!1)}))},Q=l.filter((e=>{const t=!P.type||e.certificateType===P.type,a=!P.status||e.status===P.status,s=!P.patient||e.patientId===P.patient,n=!P.doctor||e.doctorId===P.doctor,i=!P.clinic||e.clinicId===P.clinic,l=!P.from||new Date(e.issueDate)>=new Date(P.from),c=!P.to||new Date(e.issueDate)<=new Date(P.to);return t&&a&&s&&n&&i&&l&&c})),Z=e=>{var t;return(null===(t=M.find((t=>t.id===e)))||void 0===t?void 0:t.fullName)||"Patient not found"},X=e=>{var t;return(null===(t=z.find((t=>t.id===e)))||void 0===t?void 0:t.fullName)||"Doctor not found"},K=e=>{var t;return(null===(t=B.find((t=>t.id===e)))||void 0===t?void 0:t.name)||"Clinic not found"},ee=()=>{const e=[Object.keys(l[0]||{}).join(","),...l.map((e=>Object.values(e).join(",")))].join("\n"),t=new Blob([e],{type:"application/vnd.ms-excel"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="certificates.xlsx",s.click(),k({open:!0,message:"Exported to Excel",severity:"success"})},te=[{field:"certificateNumber",headerName:"Certificate #",width:150,editable:!1},{field:"certificateType",headerName:"Type",width:150,editable:!1,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",size:"small",variant:"outlined",sx:{fontWeight:600}})},{field:"patientId",headerName:"Patient",width:220,renderCell:e=>Object(s.jsx)("span",{children:Z(e.value)})},{field:"doctorId",headerName:"Doctor",width:220,renderCell:e=>Object(s.jsx)("span",{children:X(e.value)})},{field:"clinicId",headerName:"Clinic",width:220,renderCell:e=>Object(s.jsx)("span",{children:K(e.value)})},{field:"status",headerName:"Status",width:120,editable:!0,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Active"===e.value?"success":"Expired"===e.value?"error":"default",size:"small",variant:"filled",sx:{fontWeight:600}})},{field:"issueDate",headerName:"Issued On",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:new Date(e.value).toLocaleDateString(),color:"primary",size:"small",variant:"outlined",sx:{fontWeight:600}})},{field:"validUntil",headerName:"Valid Until",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:new Date(e.value).toLocaleDateString(),color:"info",size:"small",variant:"outlined",sx:{fontWeight:600}})},{field:"recommendations",headerName:"Recommendations",width:200,renderCell:e=>e.value?Object(s.jsx)(nt.a,{label:e.value,color:"warning",size:"small",variant:"outlined",sx:{fontWeight:600}}):Object(s.jsx)("span",{children:"-"})},{field:"actions",headerName:"Actions",width:120,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{onClick:t=>{o(t.currentTarget),b(e.row)},children:Object(s.jsx)(dt.a,{})}),Object(s.jsxs)(C.a,{anchorEl:r,open:Boolean(r),onClose:()=>o(null),children:[Object(s.jsx)(v.a,{onClick:()=>{x(j),h(!0),o(null)},children:"View"}),Object(s.jsx)(v.a,{onClick:async()=>{await he.removeCertificate(j.id),k({open:!0,message:"Deleted",severity:"success"}),J(),o(null)},children:"Delete"}),Object(s.jsx)(v.a,{onClick:()=>{ce(j),o(null)},children:"Download"})]})]})}],ae=l.reduce(((e,t)=>(e[t.certificateType]=(e[t.certificateType]||0)+1,e)),{}),se={labels:Object.keys(ae),datasets:[{data:Object.values(ae),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},ne={labels:Object.keys(ae),datasets:[{label:"Certificates per Type",data:Object.values(ae),backgroundColor:"#1976d2"}]},ie={labels:Object.keys(ae),datasets:[{label:"Active",data:Object.keys(ae).map((e=>l.filter((t=>t.certificateType===e&&"Active"===t.status)).length)),borderColor:"#43a047",fill:!1},{label:"Expired",data:Object.keys(ae).map((e=>l.filter((t=>t.certificateType===e&&"Expired"===t.status)).length)),borderColor:"#e53935",fill:!1}]};if(a)return Object(s.jsxs)(F.a,{sx:{p:3},children:[Object(s.jsx)(Vs.a,{variant:"rectangular",width:"100%",height:60,sx:{mb:2}}),Object(s.jsx)(Vs.a,{variant:"rectangular",width:"100%",height:300,sx:{mb:2}}),Object(s.jsx)(Vs.a,{variant:"rectangular",width:"100%",height:500})]});const ce=e=>{const t=new ut.a({orientation:"portrait",unit:"pt",format:"A4"});t.setFillColor("#1976d2"),t.rect(0,0,595,80,"F"),t.setFontSize(28),t.setTextColor("#fff"),t.setFont("times","bold"),t.text("Dentic Clinic",40,50),t.setFontSize(22),t.setTextColor("#1976d2"),t.setFont("times","bold"),t.text("Medical Certificate",200,120),t.setDrawColor("#1976d2"),t.setLineWidth(2),t.line(40,130,555,130),t.setFontSize(13),t.setTextColor("#222");let a=170;const s=Z(e.patientId),n=X(e.doctorId),i=K(e.clinicId),l=new Date(e.issueDate).toLocaleDateString(),c=new Date(e.validUntil).toLocaleDateString(),r=`This is to certify that ${s} has been examined and treated at ${i} by Dr. ${n} on ${l}. Diagnosis: ${e.diagnosis}. Treatment provided: ${e.treatmentDetails}.`+(e.recommendations?` Recommendations: ${e.recommendations}.`:"")+` This certificate is valid until ${c}.`,o=t.splitTextToSize(r,515);if(t.setFont("times","normal"),t.text(o,40,a,{maxWidth:515}),e.notes){a+=18*o.length+15,t.setFont("times","bold"),t.text("Notes:",40,a),t.setFont("times","normal");const s=t.splitTextToSize(e.notes,455);t.text(s,100,a)}a=500,t.setDrawColor("#1976d2"),t.line(400,a,555,a),t.setFontSize(16),t.setTextColor("#1976d2"),t.setFont("times","italic"),t.text(n,420,a+18),t.setFont("times","normal"),t.setFontSize(12),t.setTextColor("#222"),t.text("Doctor Signature",420,a+36),t.setFontSize(10),t.setTextColor("#888"),t.setFont("times","normal"),t.text("This certificate was generated electronically by Dentic Clinic.",40,800),t.save(`certificate_${e.certificateNumber}.pdf`),k({open:!0,message:"Certificate exported as PDF",severity:"success"})};return Object(s.jsx)("div",{className:"Certificates",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,sx:{mb:3,mt:2,display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(Qs.a,{sx:{mr:1}})," Manage Certificates"]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2,flexWrap:"wrap"},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Certificates"}),Object(s.jsx)(U.a,{variant:"h6",children:l.length})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Active"}),Object(s.jsx)(U.a,{variant:"h6",children:l.filter((e=>"Active"===e.status)).length})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#ffebee",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"error.main",children:"Expired"}),Object(s.jsx)(U.a,{variant:"h6",children:l.filter((e=>"Expired"===e.status)).length})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Certificates by Type"}),Object(s.jsx)(le.c,{data:se})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Certificates per Type"}),Object(s.jsx)(le.a,{data:ne})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Status Trends by Type"}),Object(s.jsx)(le.d,{data:ie})]})]}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)(Xs.a,{}),onClick:()=>S(!0),children:"Create Certificate"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)(ht.a,{}),onClick:ee,children:"Export Excel"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)(bt.a,{}),onClick:()=>{window.print(),k({open:!0,message:"Print dialog opened for PDF export",severity:"info"})},children:"Export PDF"})]}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2},children:[Object(s.jsxs)(q.a,{label:"Type",select:!0,value:P.type,onChange:e=>A((t=>({...t,type:e.target.value}))),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Types"}),Object.keys(ae).map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))]}),Object(s.jsxs)(q.a,{label:"Status",select:!0,value:P.status,onChange:e=>A((t=>({...t,status:e.target.value}))),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Statuses"}),Object(s.jsx)(v.a,{value:"Active",children:"Active"}),Object(s.jsx)(v.a,{value:"Expired",children:"Expired"})]}),Object(s.jsxs)(q.a,{label:"Patient",select:!0,value:P.patient,onChange:e=>A((t=>({...t,patient:e.target.value}))),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Patients"}),M.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName},e.id)))]}),Object(s.jsxs)(q.a,{label:"Doctor",select:!0,value:P.doctor,onChange:e=>A((t=>({...t,doctor:e.target.value}))),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Doctors"}),z.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName},e.id)))]}),Object(s.jsxs)(q.a,{label:"Clinic",select:!0,value:P.clinic,onChange:e=>A((t=>({...t,clinic:e.target.value}))),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Clinics"}),B.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))]}),Object(s.jsx)(q.a,{label:"From",type:"date",value:P.from,onChange:e=>A((t=>({...t,from:e.target.value}))),size:"small",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(s.jsx)(q.a,{label:"To",type:"date",value:P.to,onChange:e=>A((t=>({...t,to:e.target.value}))),size:"small",InputLabelProps:{shrink:!0},fullWidth:!0})]}),e?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{width:"100%"},children:Object(s.jsx)(qe.a,{rows:Q,columns:te,pageSize:10,rowsPerPageOptions:[10,15,20],checkboxSelection:!0,onRowSelectionModelChange:N,components:{Toolbar:ze.a},autoHeight:!0,editMode:"row",onRowEditCommit:async e=>{const t=W[e];if(t){const a={...l.find((t=>t.id===e)),...Object.fromEntries(Object.entries(t).map((e=>{let[t,a]=e;return[t,a.value]})))};await he.updateCertificate(e,a),k({open:!0,message:"Certificate updated",severity:"success"}),J()}},onEditRowsModelChange:e=>I(e),"aria-label":"Certificates Table"})}),Object(s.jsxs)(G.a,{open:y,onClose:()=>S(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsxs)(V.a,{children:[Object(s.jsx)(Xs.a,{sx:{mr:1}})," Create Certificate"]}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Us,{closeModal:()=>S(!1),onCreate:async e=>{try{await he.createCertificate(e),k({open:!0,message:"Certificate created successfully",severity:"success"}),J()}catch(t){k({open:!0,message:"Failed to create certificate",severity:"error"})}}})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>S(!1),color:"secondary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:p,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsxs)(V.a,{children:[Object(s.jsx)(Xs.a,{sx:{mr:1}})," Edit Certificate"]}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Gs,{closeModal:()=>{g(!1),J()},certificate:j})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>g(!1),color:"secondary",children:"Close"})})]}),Object(s.jsx)(ct.a,{anchor:"right",open:m,onClose:()=>h(!1),PaperProps:{sx:{width:{xs:320,sm:480}}},children:Object(s.jsx)(F.a,{sx:{p:3,maxWidth:480},children:u&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{variant:"h6",gutterBottom:!0,children:"Certificate Preview"}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Type: ",u.certificateType]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Patient: ",Z(u.patientId)]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Doctor: ",X(u.doctorId)]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Clinic: ",K(u.clinicId)]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Diagnosis: ",u.diagnosis]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Treatment: ",u.treatmentDetails]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Recommendations: ",u.recommendations]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Status: ",u.status]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Issued: ",new Date(u.issueDate).toLocaleDateString()]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Valid Until: ",new Date(u.validUntil).toLocaleDateString()]}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mt:2},children:"Notes:"}),Object(s.jsx)(U.a,{variant:"body2",children:u.notes}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:3},children:[Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(bt.a,{}),onClick:()=>ce(u),children:"Export PDF"}),Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(ht.a,{}),onClick:ee,children:"Download Excel"}),Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(Ys.a,{}),onClick:()=>k({open:!0,message:"Share not implemented",severity:"info"}),children:"Share"})]})]})})}),Object(s.jsx)(rt.a,{open:D.open,autoHideDuration:3e3,onClose:()=>k((e=>({...e,open:!1}))),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(s.jsx)(lt.a,{onClose:()=>k((e=>({...e,open:!1}))),severity:D.severity,sx:{width:"100%"},children:D.message})})]})})})};Ks.defaultProps={};var en=Ks;a(491),a(492);var tn=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),[l,c]=Object(n.useState)(0),[r,o]=Object(n.useState)([]),[j,m]=Object(n.useState)(!1),h=Object(n.useRef)(null),u=Object(n.useRef)(null),x=Me()(),p=()=>{m(!0),b.a.get("/consultations").then((e=>t(e.data))).finally((()=>m(!1)))},O=()=>{p(),x()};Object(n.useEffect)((()=>{p()}),[]);const f=[{field:"id",headerName:"ID",width:70},{field:"appointmentId",headerName:"Appointment ID",width:220},{field:"patientId",headerName:"Patient ID",width:220},{field:"doctorId",headerName:"Doctor ID",width:220},{field:"clinicId",headerName:"Clinic ID",width:220},{field:"consultationDate",headerName:"Date",width:160,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"consultationType",headerName:"Type",width:130},{field:"reasonForVisit",headerName:"Reason",width:200},{field:"symptoms",headerName:"Symptoms",width:180,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.join(", ")}},{field:"diagnosis",headerName:"Diagnosis",width:180,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.diagnosisName}},{field:"prescribedMedications",headerName:"Medications",width:200,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.map((e=>`${e.medicamentName} (${e.dosage})`)).join(", ")}},{field:"recommendedTreatments",headerName:"Treatments",width:180,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.map((e=>e.treatmentName)).join(", ")}},{field:"labTestsOrdered",headerName:"Lab Tests",width:150,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.map((e=>e.testName)).join(", ")}},{field:"consultationNotes",headerName:"Notes",width:250},{field:"followUpRequired",headerName:"Follow-up",width:120},{field:"followUpDate",headerName:"Follow-up Date",width:160,valueFormatter:e=>e.value?new Date(e.value).toLocaleString():"N/A"},{field:"consultationFee",headerName:"Fee ($)",width:100},{field:"paymentStatus",headerName:"Payment",width:120},{field:"attachments",headerName:"Attachments",width:150,renderCell:e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.length)?Object(s.jsx)("a",{href:e.value[0],target:"_blank",rel:"noopener noreferrer",children:"View"}):"None"}},{field:"status",headerName:"Status",width:130},{field:"createdAt",headerName:"Created At",width:160,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"updatedAt",headerName:"Updated At",width:160,valueFormatter:e=>new Date(e.value).toLocaleString()}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-stethoscope"})," Consultations"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("button",{type:"button",className:"btn btn-success btn-sm","data-toggle":"modal","data-target":"#addConsultation",children:[Object(s.jsx)("i",{className:"far fa-plus-square"})," Create"]}),Object(s.jsxs)("button",{onClick:e=>((e,t)=>{e.preventDefault(),i(t),O()})(e,a),type:"button","data-toggle":"modal","data-target":"#editConsultation",className:"btn btn-warning btn-sm",children:[Object(s.jsx)("i",{className:"fas fa-edit"})," Edit"]}),Object(s.jsxs)("button",{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm(d.DELETE_MSG)&&b.a.delete(`/consultations/${t}`).then((()=>O()))})(e,l),type:"button",className:"btn btn-danger btn-sm",children:[Object(s.jsx)("i",{className:"fas fa-trash-alt"})," Remove"]}),j?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:500,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:f,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){c(t[0]);const a=e.find((e=>e.id===t[0]));i(a)}o(t)},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{className:"modal fade",id:"addConsultation",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"New Consultation"}),Object(s.jsx)("button",{onClick:O,type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{onClick:O,ref:u,type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editConsultation",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Consultation"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{onClick:O,ref:h,type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})]})};a(493),a(494);var an={name:"Sequelize.STRING",content:"Sequelize.STRING"};var sn=()=>h.get("/certificate-templates"),nn=e=>h.post("/certificate-templates",e),ln=(e,t)=>h.put(`/certificate-templates/${e}`,t);const cn=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(),r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})},o={name:"",content:""};return Object(s.jsx)("div",{className:"AddCertificateTemplate",children:Object(s.jsx)("form",{onSubmit:a((t=>{console.log(t),nn(t).then((t=>{c(o),e.closeModal()}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Title:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("input",{onChange:r,value:null===l||void 0===l?void 0:l.name,ref:t({required:!0}),type:"text",id:"date",name:"name",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""}),Object(s.jsx)("div",{className:"error text-danger",children:i.date&&an.name})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Content:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("textarea",{onChange:r,value:null===l||void 0===l?void 0:l.content,ref:t({required:!0}),type:"text",name:"content",id:"patient_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadName(this.value);",class:"form-control",autocomplete:"off",required:""}),Object(s.jsx)("div",{className:"error text-danger",children:i.content&&an.content})]})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};cn.defaultProps={};var rn=cn;a(495);const on=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.certificateTemplate),[r,o]=Object(n.useState)([]);Object(n.useEffect)((()=>{c(e.certificateTemplate),ke.getAllPatients().then((e=>{o(e.data)})).catch((e=>{}))}),[e.certificateTemplate]);const j=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditCertificateTemplate",children:Object(s.jsx)("form",{onSubmit:a((t=>{ln(e.certificateTemplate.id,t).then((t=>{e.closeModal(),O("Confirmation",d.UPDATE_MSG,"success")}))})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Title:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:j,value:null===l||void 0===l?void 0:l.name,ref:t({required:!0}),type:"text",id:"date",name:"name",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Content:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("textarea",{onChange:j,value:null===l||void 0===l?void 0:l.content,ref:t({required:!0}),type:"text",name:"content",id:"patient_id",onkeyup:"if (!window.__cfRLUnblockHandlers) return false; loadName(this.value);",class:"form-control",autocomplete:"off",required:""})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};on.defaultProps={};var dn=on;const jn=()=>{const[e,t]=Object(n.useState)([]),a=Object(n.useRef)(null),i=Object(n.useRef)(null),[l,c]=Object(n.useState)({}),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{j()}),[]);const j=()=>{o(!0),sn().then((e=>{console.log(e.data),t(e.data),o(!1)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},[b,m]=Object(n.useState)(0),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)(!1),[f,g]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"CertificateTemplates",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Manage Certificate Templates"]}),Object(s.jsx)("br",{}),Object(s.jsx)(_.a,{variant:"contained",color:"primary",onClick:()=>{return e={name:"Template 1",format:"PDF"},void console.log("Creating template:",e);var e},children:"Create Template"}),Object(s.jsx)(_.a,{variant:"contained",color:"secondary",onClick:()=>{return e={text:"Certificate of Achievement",logo:"logo.png",signatures:["signature1.png","signature2.png"]},void console.log("Designing certificate layout:",e);var e},style:{marginLeft:"10px"},children:"Design Layout"}),Object(s.jsx)(_.a,{variant:"contained",color:"info",onClick:()=>{return e="template1",t={name:"John Doe",date:"2025-07-13"},void console.log("Applying template to generate certificate:",{templateId:e,data:t});var e,t},style:{marginLeft:"10px"},children:"Generate Certificate"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:200},{field:"name",headerName:"Certificate Template Name",width:200},{field:"description",headerName:"Description",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){m(t[0]);const a=e.find((e=>e.id===t[0]));c(a),console.log(l)}u(t)},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{class:"modal fade",id:"addMedicament",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"New"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(rn,{closeModal:e=>{j(),i.current.click()}})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",ref:i,class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"edit",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(dn,{closeModal:e=>{j(),a.current.click()},certificateTemplate:l})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",ref:a,class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})})};jn.defaultProps={};var bn=jn;ce.f.register(ce.e,ce.k,ce.c,ce.r,ce.s,ce.h,ce.a,ce.m,ce.j,ce.p);var mn=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({bar:{labels:[],datasets:[]},pie:{labels:[],datasets:[]},doughnut:{labels:[],datasets:[]},line:{labels:[],datasets:[]},polar:{labels:[],datasets:[]},radar:{labels:[],datasets:[]},scatter:{datasets:[]},bubble:{datasets:[]},typePie:{labels:[],datasets:[]}});Object(n.useEffect)((()=>{d.DEMO_MODE?fetch("/demo/medicaments.json").then((e=>e.json())).then((e=>{t(e),l(e)})).catch((e=>{O("Error","HTTP_ERR_MESSAGE","warning")})):fetch("/medicaments").then((e=>e.json())).then((e=>{t(e),l(e)})).catch((e=>{O("Error","HTTP_ERR_MESSAGE","warning")}))}),[]);const l=e=>{const t={};e.forEach((e=>{t[e.category||"Unknown"]=(t[e.category||"Unknown"]||0)+1}));const a={};e.forEach((e=>{a[e.manufacturerName||"Unknown"]=(a[e.manufacturerName||"Unknown"]||0)+1}));const s={};e.forEach((e=>{s[e.type||"Unknown"]=(s[e.type||"Unknown"]||0)+1}));const n={};e.forEach((e=>{const t=new Date(e.createdAt).toLocaleString("default",{month:"short",year:"numeric"});n[t]=(n[t]||0)+1}));const l=Object.keys(n),c={};e.forEach((e=>{c[e.stockStatus||"Unknown"]=(c[e.stockStatus||"Unknown"]||0)+1}));const r={};e.forEach((e=>{(e.activeIngredients||[]).forEach((e=>{r[e]=(r[e]||0)+1}))}));const o=e.map((e=>({x:e.price||Math.floor(100*Math.random()),y:e.stock||Math.floor(500*Math.random())}))),d=Object.keys(t).map((e=>({x:e,y:t[e],r:2*t[e]})));i({bar:{labels:Object.keys(t),datasets:[{label:"Category",data:Object.values(t),backgroundColor:"rgba(53, 162, 235, 0.5)"}]},pie:{labels:Object.keys(a),datasets:[{label:"Manufacturer",data:Object.values(a),backgroundColor:["#1976d2","#388e3c","#fbc02d","#d32f2f","#7b1fa2","#0288d1"]}]},doughnut:{labels:Object.keys(s),datasets:[{label:"Type",data:Object.values(s),backgroundColor:["#ff6384","#36a2eb","#cc65fe","#ffce56","#009688","#8bc34a"]}]},line:{labels:l,datasets:[{label:"Added",data:l.map((e=>n[e])),borderColor:"#1976d2",backgroundColor:"rgba(25, 118, 210, 0.2)",fill:!0}]},polar:{labels:Object.keys(c),datasets:[{label:"Stock Status",data:Object.values(c),backgroundColor:["#1976d2","#388e3c","#fbc02d","#d32f2f","#7b1fa2","#0288d1"]}]},radar:{labels:Object.keys(r),datasets:[{label:"Active Ingredients",data:Object.values(r),backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)"}]},scatter:{datasets:[{label:"Price vs Stock",data:o,backgroundColor:"rgba(53, 162, 235, 0.5)"}]},bubble:{datasets:[{label:"Price by Category",data:d,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},typePie:{labels:Object.keys(s),datasets:[{label:"Type",data:Object.values(s),backgroundColor:["#1976d2","#d32f2f","#7b1fa2","#388e3c"]}]}})};return Object(s.jsx)("div",{className:"MedicamentAnalytics",children:Object(s.jsx)("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",margin:"24px 0"},children:Object(s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px"},children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Medicaments by Category (Bar)"}),Object(s.jsx)(le.a,{options:re,data:a.bar})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Medicaments by Manufacturer (Pie)"}),Object(s.jsx)(le.e,{data:a.pie})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Medicaments by Type (Doughnut)"}),Object(s.jsx)(le.c,{data:a.doughnut})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Added per Month (Line)"}),Object(s.jsx)(le.d,{data:a.line})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Stock Status (PolarArea)"}),Object(s.jsx)(le.f,{data:a.polar})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Active Ingredients (Radar)"}),Object(s.jsx)(le.g,{data:a.radar})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Price vs Stock (Scatter)"}),Object(s.jsx)(le.h,{data:a.scatter})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Price by Category (Bubble)"}),Object(s.jsx)(le.b,{data:a.bubble})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Medicaments by Type (Pie)"}),Object(s.jsx)(le.e,{data:a.typePie})]})]})})})};ce.f.register(ce.e,ce.k,ce.c,ce.r,ce.s,ce.h,ce.a,ce.m,ce.j,ce.p);var hn=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({bar:{labels:[],datasets:[]},pie:{labels:[],datasets:[]},doughnut:{labels:[],datasets:[]},line:{labels:[],datasets:[]},polar:{labels:[],datasets:[]},radar:{labels:[],datasets:[]},scatter:{datasets:[]},bubble:{datasets:[]},genderPie:{labels:[],datasets:[]}});Object(n.useEffect)((()=>{d.DEMO_MODE?fetch("/demo/patients.json").then((e=>e.json())).then((e=>{t(e),l(e)})).catch((e=>{O("Error","HTTP_ERR_MESSAGE","warning")})):fetch("/patients").then((e=>e.json())).then((e=>{t(e),l(e)})).catch((e=>{O("Error","HTTP_ERR_MESSAGE","warning")}))}),[]);const l=e=>{const t={};e.forEach((e=>{t[e.insuranceId]=(t[e.insuranceId]||0)+1}));const a={};e.forEach((e=>{a[e.bloodType]=(a[e.bloodType]||0)+1}));const s={};e.forEach((e=>{var t;const a=(null===(t=e.address)||void 0===t?void 0:t.city)||"Unknown";s[a]=(s[a]||0)+1}));const n={};e.forEach((e=>{const t=new Date(e.createdAt).toLocaleString("default",{month:"short",year:"numeric"});n[t]=(n[t]||0)+1}));const l=Object.keys(n),c={};e.forEach((e=>{c[e.paymentStatus||"Unknown"]=(c[e.paymentStatus||"Unknown"]||0)+1}));const r={};e.forEach((e=>{(e.allergies||[]).forEach((e=>{r[e]=(r[e]||0)+1}))}));const o=e.map((e=>({x:e.age||Math.floor(60*Math.random())+18,y:e.amount||Math.floor(1e3*Math.random())}))),d=Object.keys(a).map((e=>({x:e,y:a[e],r:2*a[e]}))),j={};e.forEach((e=>{j[e.gender||"Unknown"]=(j[e.gender||"Unknown"]||0)+1})),i({bar:{labels:Object.keys(t),datasets:[{label:"Insurance",data:Object.values(t),backgroundColor:"rgba(53, 162, 235, 0.5)"}]},pie:{labels:Object.keys(a),datasets:[{label:"Blood Type",data:Object.values(a),backgroundColor:["#1976d2","#388e3c","#fbc02d","#d32f2f","#7b1fa2","#0288d1"]}]},doughnut:{labels:Object.keys(s),datasets:[{label:"City",data:Object.values(s),backgroundColor:["#ff6384","#36a2eb","#cc65fe","#ffce56","#009688","#8bc34a"]}]},line:{labels:l,datasets:[{label:"Registrations",data:l.map((e=>n[e])),borderColor:"#1976d2",backgroundColor:"rgba(25, 118, 210, 0.2)",fill:!0}]},polar:{labels:Object.keys(c),datasets:[{label:"Payment Status",data:Object.values(c),backgroundColor:["#1976d2","#388e3c","#fbc02d","#d32f2f","#7b1fa2","#0288d1"]}]},radar:{labels:Object.keys(r),datasets:[{label:"Allergies",data:Object.values(r),backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)"}]},scatter:{datasets:[{label:"Age vs Amount",data:o,backgroundColor:"rgba(53, 162, 235, 0.5)"}]},bubble:{datasets:[{label:"Amount by Blood Type",data:d,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},genderPie:{labels:Object.keys(j),datasets:[{label:"Gender",data:Object.values(j),backgroundColor:["#1976d2","#d32f2f","#7b1fa2","#388e3c"]}]}})};return Object(s.jsx)("div",{className:"PatientAnalytics",children:Object(s.jsx)("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",margin:"24px 0"},children:Object(s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px"},children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Patients by Insurance (Bar)"}),Object(s.jsx)(le.a,{options:re,data:a.bar})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Patients by Blood Type (Pie)"}),Object(s.jsx)(le.e,{data:a.pie})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Patients by City (Doughnut)"}),Object(s.jsx)(le.c,{data:a.doughnut})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Registrations per Month (Line)"}),Object(s.jsx)(le.d,{data:a.line})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Payment Status (PolarArea)"}),Object(s.jsx)(le.f,{data:a.polar})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Allergies (Radar)"}),Object(s.jsx)(le.g,{data:a.radar})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Age vs Amount (Scatter)"}),Object(s.jsx)(le.h,{data:a.scatter})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Amount by Blood Type (Bubble)"}),Object(s.jsx)(le.b,{data:a.bubble})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Patients by Gender (Pie)"}),Object(s.jsx)(le.e,{data:a.genderPie})]})]})})})};a(496);ce.f.register(ce.e,ce.k,ce.c,ce.r,ce.s,ce.h);const un={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"}}},xn={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",data:[1,2,3,4],backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Dataset 2",data:[1,2,3,4],backgroundColor:"rgba(53, 162, 235, 0.5)"}]},pn=()=>Object(s.jsx)("div",{className:"SaleAnalytics",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("strong",{className:"card-title",children:"Sales Analytics"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(le.a,{options:un,data:xn})})]})});pn.defaultProps={};var On=pn;a(497),a(498);var fn=()=>h.get("/api/service"),gn=(e,t)=>h.post(`/api/service/${e}`,t),vn=e=>h.delete(`/api/service/${e}`),yn=e=>h.post("/api/service/image/uploadfile",e);const Cn=e=>{const t={name:"",description:"",status:"",file:null,fileName:""};Object(n.useEffect)((()=>{r({file:null}),r(t)}),[]);const{register:a,handleSubmit:i,errors:l}=Object(Ne.a)(),[c,r]=Object(n.useState)(t),o=e=>{const{name:t,value:a}=e.target;r({...c,[t]:a})};return Object(s.jsx)("div",{className:"AddService",children:Object(s.jsxs)("form",{id:"addService",onSubmit:i((a=>{const s=new FormData(document.getElementById("addService"));console.log(s.get("file").name),yn(s).then((e=>{})),gn(s.get("file").name,a).then((a=>{r(t),O("Confirmation",d.CREATE_MSG,"success"),e.closeModal()}))})),enctype:"multipart/form-data",class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Image:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{ref:a({required:!0}),name:"file",type:"file",onChange:e=>{r({file:e.target.files[0]})}})})]}),Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Service Name:"})})]}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsx)("input",{value:c.name,onChange:o,ref:a({required:!0}),type:"text",id:"date",name:"name",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""}),Object(s.jsx)("div",{className:"error text-danger",children:l.date&&De.date})]})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Description:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("textarea",{value:c.description,onChange:o,ref:a({required:!1}),type:"text",name:"description",id:"service_id",class:"form-control",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Status:"})})}),Object(s.jsxs)("div",{class:"col-md-12",children:[Object(s.jsxs)("select",{value:c.status,onChange:o,ref:a({required:!0}),name:"status",class:"form-control",rows:"3",children:[Object(s.jsx)("option",{children:"Active"}),Object(s.jsx)("option",{children:"Inactive"})]}),Object(s.jsx)("div",{className:"error text-danger",children:l.status&&De.status})]})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:" col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})]})})};Cn.defaultProps={};var Sn=Cn;a(499);const wn=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.service);Object(n.useEffect)((()=>{c(e.service)}),[e.service]);return Object(s.jsx)("div",{className:"EditGroupe",children:Object(s.jsxs)("form",{onSubmit:a((e=>{})),children:[Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Nom du groupe"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})},value:l.groupe_name,ref:t({required:!0}),id:"text",name:"groupe_name",type:"text",class:"form-control"})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{class:"far fa-save"}),"Sauvegarder"]})})})]})})};wn.defaultProps={};const Nn=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Object(n.useRef)(null),c=Object(n.useRef)(null),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),j()}),[]);const j=()=>{fn().then((e=>{t(e.data)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},b=()=>{j()},[m,h]=Object(n.useState)(0),[u,x]=Object(n.useState)([]),[p,f]=Object(n.useState)(!1),[g,v]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Services"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addPatient",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm("Etes-vous s\xfbr que vous voulez supprimer ?")&&vn(t).then((e=>{b(),O("Confirmation",d.REMOVE_MSG,"success")})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))})(e,u),type:"button",children:[Object(s.jsx)("i",{class:"fas fa-trash-alt"})," Remove"]}),Object(s.jsxs)(_.a,{type:"button",onClick:()=>j(),children:[Object(s.jsx)("i",{class:"fas fa-refresh"})," Reload"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:20},{field:"name",headerName:"Service Name",width:200},{field:"status",headerName:"Status",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){h(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}x(t)},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{class:"modal fade",id:"addPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{onClick:b,type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Sn,{closeModal:e=>{c.current.click(),j()}})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{onClick:b,ref:c,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{ref:l,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})};Nn.defaultProps={};var Dn=Nn;a(500),a(501);var kn=()=>h.get("/api/frontoffice/openinghours"),Wn=(e,t)=>h.put(`/api/frontoffice/${e}`,t),In=()=>h.get("/api/frontoffice"),Pn=(e,t)=>h.put(`/api/frontoffice/openinghours/${e}`,t),Tn=(e,t)=>h.put(`/api/frontoffice/blogs/${e}`,t),An=()=>h.get("/api/frontoffice/blogs");const Mn=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.frontOffice);Object(n.useEffect)((()=>{c(e.frontOffice)}),[e.frontOffice]);const r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditGroupe",children:Object(s.jsxs)("form",{onSubmit:a((t=>{Pn(e.frontOffice.id,t).then((e=>{O("Confirmation",d.UPDATE_MSG,"success")}))})),children:[Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Title"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.title,ref:t({required:!0}),id:"text",name:"title",type:"text",class:"form-control"})})]}),Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Sub title"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.subtitle,ref:t({required:!0}),id:"text",name:"subtitle",type:"text",class:"form-control"})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{class:"far fa-save"}),"Save "]})})})]})})};Mn.defaultProps={};var Rn=Mn;const En=()=>{const[e,t]=Object(n.useState)({});Object(n.useEffect)((()=>{a()}),[]);const a=()=>{kn().then((e=>{t(e.data)})).catch((e=>{console.log(e)}))};return Object(s.jsx)("div",{className:"FrontOffice",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Opening Hours"]}),Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsxs)(_.a,{onClick:a=>((e,a)=>{e.preventDefault(),t(a)})(a,e),type:"button","data-toggle":"modal","data-target":"#editFrontOffice",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit "]}),Object(s.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(s.jsxs)("li",{class:"list-group-item",children:["Title : ",null===e||void 0===e?void 0:e.title]}),Object(s.jsxs)("li",{class:"list-group-item",children:["Sub Title : ",null===e||void 0===e?void 0:e.subtitle," "]})]})]})]}),Object(s.jsx)("div",{class:"modal fade",id:"editFrontOffice",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Rn,{frontOffice:e})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"preview",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Preview"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)("iframe",{src:"https://dentic-client.herokuapp.com/opening",height:"420",width:"750",title:"Iframe Example"})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})})})};En.defaultProps={};var qn=En;a(502),a(503);const zn=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.frontOffice);Object(n.useEffect)((()=>{c(e.frontOffice)}),[e.frontOffice]);const r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditGroupe",children:Object(s.jsxs)("form",{onSubmit:a((t=>{Wn(e.frontOffice.id,t).then((t=>{e.closeModal(),O("Confirmation",d.UPDATE_MSG,"success")}))})),children:[Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Email"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.email,ref:t({required:!0}),id:"text",name:"name",type:"text",class:"form-control"})})]}),Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Subject"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.subject,ref:t({required:!0}),id:"text",name:"name",type:"text",class:"form-control"})})]}),Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Message"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.message,ref:t({required:!0}),id:"text",name:"name",type:"text",class:"form-control"})})]}),Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"send"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.sendButton,ref:t({required:!0}),id:"text",name:"name",type:"text",class:"form-control"})})]}),Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Name"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.name,ref:t({required:!0}),id:"text",name:"name",type:"text",class:"form-control"})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{class:"far fa-save"}),"Save "]})})})]})})};zn.defaultProps={};var Ln=zn;const Fn=()=>{const[e,t]=Object(n.useState)({});Object(n.useEffect)((()=>{a()}),[]);const a=()=>{In().then((e=>{t(e.data)})).catch((e=>{console.log(e)}))};return Object(s.jsx)("div",{className:"FrontOffice",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Contact"]}),Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#editFrontOffice",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit "]}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#preview",children:[Object(s.jsx)("i",{class:"fas fa-eye"})," Preview "]}),Object(s.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(s.jsxs)("li",{class:"list-group-item",children:["Email Label: ",null===e||void 0===e?void 0:e.email]}),Object(s.jsxs)("li",{class:"list-group-item",children:["Subject Label: ",null===e||void 0===e?void 0:e.subject," "]}),Object(s.jsxs)("li",{class:"list-group-item",children:["Message Label: ",null===e||void 0===e?void 0:e.message," "]}),Object(s.jsxs)("li",{class:"list-group-item",children:["Button Label :  ",null===e||void 0===e?void 0:e.sendButton," Title "]}),Object(s.jsxs)("li",{class:"list-group-item",children:["Name Label : ",null===e||void 0===e?void 0:e.name,"  "]})]})]})]}),Object(s.jsx)("div",{class:"modal fade",id:"editFrontOffice",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Ln,{frontOffice:e})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"preview",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Preview"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)("iframe",{src:"https://dentic-client.herokuapp.com/contact",height:"420",width:"750",title:"Iframe Example"})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})})})};Fn.defaultProps={};var Bn=Fn;a(504);var $n=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(""),[l,c]=Object(n.useState)(!0),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(""),[m,h]=Object(n.useState)("");Object(n.useEffect)((()=>{u()}),[]);const u=async()=>{c(!0),h("");try{const e=await b.a.get("/services");t(e.data.services||[]),i((e.data.services||[]).join("\n"))}catch(e){h("Failed to load services.")}c(!1)};return Object(s.jsxs)(Mt.a,{sx:{maxWidth:700,mx:"auto",mt:6,p:4},children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"})," Services"]}),m&&Object(s.jsx)(lt.a,{severity:"error",sx:{mb:2},children:m}),d&&Object(s.jsx)(lt.a,{severity:"success",sx:{mb:2},children:d}),Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Services List",multiline:!0,minRows:8,value:a,onChange:e=>{i(e.target.value)},fullWidth:!0,disabled:!r||l,helperText:"One service per line"}),r?Object(s.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(s.jsx)(_.a,{variant:"contained",color:"success",onClick:async()=>{c(!0),h(""),j("");try{const e=a.split("\n").map((e=>e.trim())).filter(Boolean);await b.a.post("/services",{services:e}),t(e),o(!1),j("Services updated successfully.")}catch(e){h("Failed to update services.")}c(!1)},disabled:l,children:"Save"}),Object(s.jsx)(_.a,{variant:"outlined",color:"secondary",onClick:()=>{o(!1),i(e.join("\n")),j(""),h("")},disabled:l,children:"Cancel"})]}):Object(s.jsx)(_.a,{variant:"contained",color:"primary",onClick:()=>{o(!0),j(""),h("")},disabled:l,sx:{width:120},children:"Edit"})]}),!r&&Object(s.jsx)("ul",{className:"list-group list-group-flush",style:{marginTop:24},children:e.map(((e,t)=>Object(s.jsx)("li",{className:"list-group-item",children:e},t)))})]})};a(505),a(506);const Un=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.frontOffice);Object(n.useEffect)((()=>{c(e.frontOffice)}),[e.frontOffice]);const r=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)("div",{className:"EditGroupe",children:Object(s.jsxs)("form",{onSubmit:a((t=>{Tn(e.frontOffice.id,t).then((e=>{O("Confirmation",d.UPDATE_MSG,"success")}))})),children:[Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Title"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.title,ref:t({required:!0}),id:"text",name:"title",type:"text",class:"form-control"})})]}),Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Sub title"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:r,value:l.subtitle,ref:t({required:!0}),id:"text",name:"subtitle",type:"text",class:"form-control"})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{class:"far fa-save"}),"Save "]})})})]})})};Un.defaultProps={};var _n=Un;const Gn=()=>{const[e,t]=Object(n.useState)({});Object(n.useEffect)((()=>{a()}),[]);const a=()=>{An().then((e=>{t(e.data)})).catch((e=>{console.log(e)}))};return Object(s.jsx)("div",{className:"FrontOffice",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Blog Page"]}),Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsxs)(_.a,{onClick:a=>((e,a)=>{e.preventDefault(),t(a)})(a,e),type:"button","data-toggle":"modal","data-target":"#editFrontOffice",children:[Object(s.jsx)("i",{class:"fas fa-edit"})," Edit "]}),Object(s.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(s.jsxs)("li",{class:"list-group-item",children:[" Title : ",null===e||void 0===e?void 0:e.title]}),Object(s.jsxs)("li",{class:"list-group-item",children:["sub Title : ",null===e||void 0===e?void 0:e.subtitle," "]})]})]})]}),Object(s.jsx)("div",{class:"modal fade",id:"editFrontOffice",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(_n,{frontOffice:e})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"preview",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Preview"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)("iframe",{src:"https://dentic-client.herokuapp.com/blog",height:"420",width:"750",title:"Iframe Example"})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})})})};Gn.defaultProps={};var Vn=Gn;a(507),a(508);const Hn=()=>{const{register:e,handleSubmit:t,errors:a}=Object(Ne.a)(),[i,l]=Object(n.useState)({name:"",date:"",status:""}),c=e=>{const{name:t,value:a}=e.target;l({...i,[t]:a})};return Object(s.jsx)("div",{className:"AddService",children:Object(s.jsx)("form",{onSubmit:t((e=>{})),class:"form-horizontal",target:"_blank",name:"p_info",method:"post","accept-charset":"utf-8",children:Object(s.jsxs)("div",{class:"form-body",children:[Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Service Name:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("input",{onChange:c,value:null===i||void 0===i?void 0:i.name,ref:e({required:!0}),type:"text",id:"date",name:"name",class:"form-control datepicker3 hasDatepicker",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsxs)("label",{class:"col-md-3 control-label",children:[Object(s.jsx)("span",{class:"text-danger",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"*"})})}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Description:"})})]}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsx)("textarea",{onChange:c,value:null===i||void 0===i?void 0:i.description,ref:e({required:!1}),type:"text",name:"description",id:"patient_id",class:"form-control",autocomplete:"off",required:""})})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{class:"col-md-3 control-label",children:Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:"Status:"})})}),Object(s.jsx)("div",{class:"col-md-12",children:Object(s.jsxs)("select",{onChange:c,value:null===i||void 0===i?void 0:i.status,ref:e({required:!0}),name:"status",class:"form-control",rows:"3",children:[Object(s.jsx)("option",{children:"Active"}),Object(s.jsx)("option",{children:"Inactive"})]})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{className:"fa fa-check"}),Object(s.jsx)("font",{children:Object(s.jsx)("font",{children:" Save"})})]})})})]})})})};Hn.defaultProps={};var Yn=Hn;a(509);const Jn=e=>{const{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)(e.testimonial);Object(n.useEffect)((()=>{c(e.testimonial)}),[e.testimonial]);return Object(s.jsx)("div",{className:"EditGroupe",children:Object(s.jsxs)("form",{onSubmit:a((e=>{})),children:[Object(s.jsxs)("div",{class:"form-group row",children:[Object(s.jsx)("label",{for:"text",class:"col-4 col-form-label",children:"Nom du groupe"}),Object(s.jsx)("div",{class:"col-8",children:Object(s.jsx)("input",{onChange:e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})},value:null===l||void 0===l?void 0:l.groupe_name,ref:t({required:!0}),id:"text",name:"groupe_name",type:"text",class:"form-control"})})]}),Object(s.jsx)("div",{class:"form-group row",children:Object(s.jsx)("div",{class:"offset-4 col-8",children:Object(s.jsxs)("button",{name:"submit",type:"submit",class:"btn btn-primary",children:[Object(s.jsx)("i",{class:"far fa-save"}),"Sauvegarder"]})})})]})})};Jn.defaultProps={};var Qn=Jn;var Zn=()=>h.get("/api/testimonials");const Xn=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Object(n.useRef)(null),c=Object(n.useRef)(null),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),j()}),[]);const j=()=>{Zn().then((e=>{t(e.data)})).catch((e=>{O("Error",d.ERR_MSG,"warning")}))},b=()=>{j()},[m,h]=Object(n.useState)(0),[u,x]=Object(n.useState)([]),[p,f]=Object(n.useState)(!1),[g,v]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Testimonials"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addPatient",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:50},{field:"name",headerName:"Fullname",width:200},{field:"image",headerName:"Email",width:200},{field:"quote",headerName:"Birth date",width:200},{field:"telephone",headerName:"Telephone",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){h(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}x(t)},components:{Toolbar:ze.a,showQuickFilter:!0}})}),Object(s.jsx)("div",{class:"modal fade",id:"addPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{onClick:b,type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Yn,{})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{onClick:b,ref:c,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body",children:Object(s.jsx)(Qn,{})}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{ref:l,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})};Xn.defaultProps={};var Kn=Xn;a(510);const ei=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Object(n.useRef)(null),c=Object(n.useRef)(null),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),d()}),[]);const d=()=>{},j=()=>{d()},[b,m]=Object(n.useState)(0),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)(!1),[O,f]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bars"}),"   Schedule"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addPatient",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:50},{field:"namepatient",headerName:"Fullname",width:200},{field:"emailpatient",headerName:"Email",width:200},{field:"birth",headerName:"Birth date",width:200},{field:"telephone",headerName:"Telephone",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1==t.length){m(t[0]);const s=e.find((e=>e.id==t[0]));i(s),console.log(a)}u(t)},components:{Toolbar:ze.a,showQuickFilter:!0}})}),Object(s.jsx)("div",{class:"modal fade",id:"addPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{onClick:j,type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{onClick:j,ref:c,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{ref:l,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})};ei.defaultProps={};var ti=ei;a(511);const ai=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)({}),l=Object(n.useRef)(null),c=Object(n.useRef)(null),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(),d()}),[]);const d=()=>{},j=()=>{d()},[b,m]=Object(n.useState)(0),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)(!1),[O,f]=Object(n.useState)(!1);return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-bats"}),"   Newsletters"]}),Object(s.jsx)("br",{}),Object(s.jsxs)(_.a,{type:"button","data-toggle":"modal","data-target":"#addMedicament",children:[Object(s.jsx)("i",{class:"fas fa-plus"})," Create "]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,columns:[{field:"id",headerName:"#",width:50},{field:"namepatient",headerName:"Fullname",width:200},{field:"emailpatient",headerName:"Email",width:200},{field:"birth",headerName:"Birth date",width:200},{field:"telephone",headerName:"Telephone",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:e=>{},components:{Toolbar:ze.a,showQuickFilter:!0}})}),Object(s.jsx)("div",{class:"modal fade",id:"addPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Nouveau"}),Object(s.jsx)("button",{onClick:j,type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{onClick:j,ref:c,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{class:"modal fade",id:"editPatient",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLongTitle",children:"Edit"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{class:"modal-body"}),Object(s.jsx)("div",{class:"modal-footer",children:Object(s.jsx)("button",{ref:l,type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})})};ai.defaultProps={};var si=ai;const ni=e=>{const[t,a]=Object(n.useState)([]),[i,l]=Object(n.useState)(!1);Object(n.useEffect)((()=>{c(e.match.params.input)}),[]);const c=e=>{l(!0),ke.searchPatient(e).then((e=>{console.log(e.data),a(e.data),l(!1)}))};return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{class:"menu-icon fa fa-search"})," Search Results"]})}),Object(s.jsx)("div",{className:"card-body",children:i?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:t,columns:[{field:"id",headerName:"#",description:"The identification used by the person with access to the online service.",width:20},{field:"namepatient",headerName:"Full Name",width:200},{field:"emailpatient",headerName:"Email",width:200},{field:"birth",headerName:"Date of Birth",width:200},{field:"telephone",headerName:"Telephone",width:200},{field:"address",headerName:"Address",width:200}],pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,components:{Toolbar:ze.a}})})})]})};ni.defaultProps={};var ii=ni;var li=()=>{var e;const t=d.USER_DETAIL;return Object(s.jsx)("div",{className:"Profile",style:{width:"100%",maxWidth:520,minWidth:320,margin:"40px auto",padding:0,background:"linear-gradient(135deg, #e3f2fd 0%, #fff 100%)",borderRadius:24,boxShadow:"0 8px 32px rgba(25, 118, 210, 0.10)"},children:Object(s.jsxs)("div",{style:{background:"#fff",borderRadius:24,boxShadow:"0 2px 12px rgba(25, 118, 210, 0.08)",padding:36,textAlign:"center",position:"relative"},children:[Object(s.jsx)("div",{style:{position:"absolute",top:24,right:24,background:"#e3f2fd",borderRadius:"50%",width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 4px rgba(25,118,210,0.08)",cursor:"pointer"},title:"Edit Profile",children:Object(s.jsx)("i",{className:"fas fa-user-edit",style:{color:"#1976d2",fontSize:18}})}),Object(s.jsx)("div",{style:{marginBottom:18},children:Object(s.jsx)("img",{className:"rounded-circle",alt:"Profile",src:"images/admin.png",style:{width:120,height:120,objectFit:"cover",borderRadius:"50%",border:"5px solid #1976d2",boxShadow:"0 4px 16px rgba(25,118,210,0.12)",marginBottom:8}})}),Object(s.jsx)("h2",{style:{margin:"10px 0 2px",color:"#1976d2",fontWeight:800,letterSpacing:.5},children:t.name}),Object(s.jsx)("div",{style:{color:"#fff",background:"#1976d2",display:"inline-block",borderRadius:8,padding:"2px 16px",fontSize:15,fontWeight:600,marginBottom:18,marginTop:4,letterSpacing:.2},children:t.role}),Object(s.jsxs)("div",{style:{textAlign:"left",margin:"0 auto",maxWidth:320,marginTop:18,fontSize:16},children:[Object(s.jsxs)("div",{style:{marginBottom:14,display:"flex",alignItems:"center"},children:[Object(s.jsx)("i",{className:"fas fa-birthday-cake",style:{color:"#1976d2",marginRight:10}}),Object(s.jsx)("span",{style:{fontWeight:600,color:"#1976d2",minWidth:90},children:"Birth date:"}),Object(s.jsx)("span",{style:{marginLeft:8},children:(null===(e=t.birthday)||void 0===e?void 0:e.substring(0,10))||"-"})]}),Object(s.jsxs)("div",{style:{marginBottom:14,display:"flex",alignItems:"center"},children:[Object(s.jsx)("i",{className:"fas fa-envelope",style:{color:"#1976d2",marginRight:10}}),Object(s.jsx)("span",{style:{fontWeight:600,color:"#1976d2",minWidth:90},children:"Email:"}),Object(s.jsx)("span",{style:{marginLeft:8},children:t.email})]}),Object(s.jsxs)("div",{style:{marginBottom:14,display:"flex",alignItems:"center"},children:[Object(s.jsx)("i",{className:"fas fa-phone",style:{color:"#1976d2",marginRight:10}}),Object(s.jsx)("span",{style:{fontWeight:600,color:"#1976d2",minWidth:90},children:"Telephone:"}),Object(s.jsx)("span",{style:{marginLeft:8},children:t.telephone})]}),Object(s.jsxs)("div",{style:{marginBottom:14,display:"flex",alignItems:"center"},children:[Object(s.jsx)("i",{className:"fas fa-map-marker-alt",style:{color:"#1976d2",marginRight:10}}),Object(s.jsx)("span",{style:{fontWeight:600,color:"#1976d2",minWidth:90},children:"Address:"}),Object(s.jsx)("span",{style:{marginLeft:8},children:t.address})]})]})]})})},ci=(a(512),a(762)),ri=a(744),oi=a(733),di=a(234),ji=a.n(di),bi=a(775),mi=a(742);const hi=["Pending","Confirmed","Completed","No-show","Cancelled"],ui=["Consultation","Follow-up","Emergency","Routine","Other"];var xi=e=>{let{closeModal:t,doctors:a=[],patients:i=[],clinics:l=[],onSuccess:c}=e;const[r,o]=Object(n.useState)({patientId:"",doctorId:"",clinicLocationId:"",appointmentDate:"",startTime:"",endTime:"",status:"Pending",appointmentType:"",reasonForVisit:"",notes:"",roomNumber:"",isFirstVisit:!1,followUpDate:""}),[d,j]=Object(n.useState)(!1),m=e=>{const{name:t,value:a,type:s,checked:n}=e.target;o((e=>({...e,[t]:"checkbox"===s?n:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0);try{await b.a.post("/appointments",r),c&&c(),t&&t()}finally{j(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:r.patientId,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:i.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:r.doctorId,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:a.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic Location",name:"clinicLocationId",value:r.clinicLocationId,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Appointment Date",name:"appointmentDate",type:"date",value:r.appointmentDate,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(s.jsx)(q.a,{label:"Start Time",name:"startTime",type:"time",value:r.startTime,onChange:m,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"End Time",name:"endTime",type:"time",value:r.endTime,onChange:m,InputLabelProps:{shrink:!0},margin:"normal",required:!0})]}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:r.status,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:hi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Appointment Type",name:"appointmentType",value:r.appointmentType,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:ui.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Reason for Visit",name:"reasonForVisit",value:r.reasonForVisit,onChange:m,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:r.notes,onChange:m,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsx)(q.a,{label:"Room Number",name:"roomNumber",value:r.roomNumber,onChange:m,fullWidth:!0,margin:"normal"}),Object(s.jsx)(bi.a,{control:Object(s.jsx)(mi.a,{checked:r.isFirstVisit,onChange:m,name:"isFirstVisit",color:"primary"}),label:"Is First Visit"}),Object(s.jsx)(q.a,{label:"Follow Up Date",name:"followUpDate",type:"date",value:r.followUpDate,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:d,children:d?"Saving...":"Add Appointment"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:d,children:"Cancel"})]})]})};const pi=["Pending","Confirmed","Completed","No-show","Cancelled"],Oi=["Consultation","Follow-up","Emergency","Routine","Other"],fi=["Unpaid","Paid","Pending","Partial"];var gi=e=>{let{appointment:t,closeModal:a,doctors:i=[],patients:l=[],clinics:c=[],onSuccess:r}=e;const[o,d]=Object(n.useState)({patientId:"",doctorId:"",clinicLocationId:"",appointmentDate:"",startTime:"",endTime:"",status:"Pending",appointmentType:"",reasonForVisit:"",notes:"",roomNumber:"",isFirstVisit:!1,followUpDate:"",paymentStatus:"Unpaid",paymentAmount:"",insuranceProvider:"",insuranceNumber:""}),[j,m]=Object(n.useState)(!1);Object(n.useEffect)((()=>{t&&d({patientId:t.patientId||"",doctorId:t.doctorId||"",clinicLocationId:t.clinicLocationId||"",appointmentDate:t.appointmentDate||"",startTime:t.startTime||"",endTime:t.endTime||"",status:t.status||"Pending",appointmentType:t.appointmentType||"",reasonForVisit:t.reasonForVisit||"",notes:t.notes||"",roomNumber:t.roomNumber||"",isFirstVisit:!!t.isFirstVisit,followUpDate:t.followUpDate||"",paymentStatus:t.paymentStatus||"Unpaid",paymentAmount:t.paymentAmount||"",insuranceProvider:t.insuranceProvider||"",insuranceNumber:t.insuranceNumber||""})}),[t]);const h=e=>{const{name:t,value:a,type:s,checked:n}=e.target;d((e=>({...e,[t]:"checkbox"===s?n:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{await b.a.put(`/appointments/${t.id}`,o),r&&r(),a&&a()}finally{m(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:o.patientId,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:o.doctorId,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:i.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic Location",name:"clinicLocationId",value:o.clinicLocationId,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:c.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Appointment Date",name:"appointmentDate",type:"date",value:o.appointmentDate,onChange:h,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(s.jsx)(q.a,{label:"Start Time",name:"startTime",type:"time",value:o.startTime,onChange:h,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"End Time",name:"endTime",type:"time",value:o.endTime,onChange:h,InputLabelProps:{shrink:!0},margin:"normal",required:!0})]}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:o.status,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:pi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Appointment Type",name:"appointmentType",value:o.appointmentType,onChange:h,fullWidth:!0,margin:"normal",required:!0,children:Oi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Reason for Visit",name:"reasonForVisit",value:o.reasonForVisit,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:o.notes,onChange:h,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsx)(q.a,{label:"Room Number",name:"roomNumber",value:o.roomNumber,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(bi.a,{control:Object(s.jsx)(mi.a,{checked:o.isFirstVisit,onChange:h,name:"isFirstVisit",color:"primary"}),label:"Is First Visit"}),Object(s.jsx)(q.a,{label:"Follow Up Date",name:"followUpDate",type:"date",value:o.followUpDate,onChange:h,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Payment Status",name:"paymentStatus",value:o.paymentStatus,onChange:h,fullWidth:!0,margin:"normal",children:fi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Payment Amount",name:"paymentAmount",type:"number",value:o.paymentAmount,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Insurance Provider",name:"insuranceProvider",value:o.insuranceProvider,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Insurance Number",name:"insuranceNumber",value:o.insuranceNumber,onChange:h,fullWidth:!0,margin:"normal"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:j,children:j?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:j,children:"Cancel"})]})]})};var vi=e=>{let{open:t,onClose:a,appointment:n,getPatientName:i,getDoctorName:l,getClinicName:c}=e;return n?Object(s.jsxs)(G.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsxs)(V.a,{sx:{background:"#e3f2fd",fontWeight:700,fontSize:22},children:[Object(s.jsx)("i",{className:"fas fa-calendar-check",style:{color:"#1976d2",marginRight:10}}),"Appointment Details"]}),Object(s.jsxs)(H.a,{dividers:!0,sx:{background:"#f8fafc"},children:[Object(s.jsxs)(Mt.a,{elevation:0,sx:{p:2,mb:2,bgcolor:"#fff",borderRadius:2},children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[Object(s.jsx)(y.a,{title:"Patient",children:Object(s.jsx)("i",{className:"fas fa-user",style:{color:"#1976d2",fontSize:18}})}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,children:i(n.patientId)}),Object(s.jsx)(nt.a,{label:n.status,color:"Completed"===n.status?"success":"Confirmed"===n.status?"primary":"Pending"===n.status?"warning":"No-show"===n.status?"error":"default",size:"small",sx:{ml:2}})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[Object(s.jsx)(y.a,{title:"Doctor",children:Object(s.jsx)("i",{className:"fas fa-user-md",style:{color:"#388e3c",fontSize:18}})}),Object(s.jsx)(U.a,{variant:"subtitle2",children:l(n.doctorId)})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(s.jsx)(y.a,{title:"Clinic",children:Object(s.jsx)("i",{className:"fas fa-hospital",style:{color:"#d32f2f",fontSize:18}})}),Object(s.jsx)(U.a,{variant:"subtitle2",children:c(n.clinicLocationId)})]})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(Pt.a,{container:!0,spacing:2,children:[Object(s.jsxs)(Pt.a,{item:!0,xs:12,sm:6,children:[Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Date:"})," ",n.appointmentDate]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Time:"})," ",n.startTime," - ",n.endTime]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Room:"})," ",n.roomNumber||"-"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Type:"})," ",n.appointmentType]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"First Visit:"})," ",n.isFirstVisit?"Yes":"No"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("strong",{children:"Follow Up Date:"})," ",n.followUpDate||"-"]})]}),Object(s.jsxs)(Pt.a,{item:!0,xs:12,sm:6,children:[Object(s.jsx)(U.a,{variant:"body2",sx:{mb:1},children:Object(s.jsx)("strong",{children:"Reason for Visit:"})}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:2,color:"#1976d2"},children:n.reasonForVisit||"-"}),Object(s.jsx)(U.a,{variant:"body2",sx:{mb:1},children:Object(s.jsx)("strong",{children:"Notes:"})}),Object(s.jsx)(U.a,{variant:"body2",sx:{color:"#555"},children:n.notes||"-"})]})]}),Object(s.jsx)(it.a,{sx:{my:2}}),Object(s.jsx)(F.a,{sx:{mt:2,textAlign:"right"},children:Object(s.jsxs)(U.a,{variant:"caption",color:"text.secondary",children:[Object(s.jsx)("i",{className:"fas fa-clock",style:{marginRight:4}}),"Created: ",n.createdAt?new Date(n.createdAt).toLocaleString():"-",Object(s.jsx)("br",{}),Object(s.jsx)("i",{className:"fas fa-sync-alt",style:{marginRight:4}}),"Updated: ",n.updatedAt?new Date(n.updatedAt).toLocaleString():"-"]})})]}),Object(s.jsx)(Y.a,{sx:{background:"#f8fafc"},children:Object(s.jsx)(_.a,{onClick:a,color:"primary",variant:"contained",sx:{minWidth:100},children:"Close"})})]}):null};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var yi=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)({}),c=Me()(),[r,o]=Object(n.useState)(!1),d=(Object(n.useRef)(null),Object(n.useRef)(null)),[j,m]=Object(n.useState)(0),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)(null),[O,g]=Object(n.useState)(null),[y,S]=Object(n.useState)(""),[w,N]=Object(n.useState)(!1),[D,k]=Object(n.useState)([]),[W,I]=Object(n.useState)([]),[P,T]=Object(n.useState)([]),[A,M]=Object(n.useState)("table"),[R,E]=Object(n.useState)(!1),[z,L]=Object(n.useState)(!1),[B,$]=Object(n.useState)(null),J=()=>{o(!0),b.a.get("/appointments").then((e=>{t(e.data)})).finally((()=>o(!1)))},Q=()=>{J(),c()};Object(n.useEffect)((()=>{J(),b.a.get("/doctors").then((e=>k(e.data))),b.a.get("/patients").then((e=>I(e.data))),b.a.get("/clinics").then((e=>T(e.data)))}),[]);const Z=e=>{const t=D.find((t=>t.id===e));return t?t.fullName:"Doctor not found"},X=e=>{const t=W.find((t=>t.id===e));return t?t.fullName:"Patient not found"},K=e=>{const t=P.find((t=>t.id===e));return t&&t.name?t.name:"Clinic not found"},ee=()=>{p(null),g(null)},te=e=>{"view"===e&&($(O),ee(),L(!0)),"edit"===e&&(l(O),ee(),E(!0)),"delete"===e&&(ee(),window.confirm("Are you sure you want to delete this appointment?")&&b.a.delete(`/appointments/${O.id}`).then((()=>{Q(),alert("Appointment deleted.")})).catch((()=>alert("Failed to delete appointment.")))),"archive"===e&&(ee(),b.a.put(`/appointments/${O.id}/archive`).then((()=>{Q(),alert("Appointment archived.")})).catch((()=>alert("Failed to archive appointment.")))),"reschedule"===e&&(ee(),l(O),E(!0)),"complete"===e&&(ee(),b.a.put(`/appointments/${O.id}/completed`,{status:"Completed"}).then((()=>{Q(),alert("Appointment marked as completed.")})).catch((()=>alert("Failed to update status.")))),"export"===e&&(ee(),ae()),"sync"===e&&(ee(),ne()),"reminder"===e&&(ee(),se(O.id,"Email"))},ae=()=>{const t=[["ID","Patient ID","Doctor ID","Clinic Location","Date","Start Time","End Time","Status","Type","Reason","Notes"],...e.map((e=>[e.id,e.patientId,e.doctorId,e.clinicLocationId,e.appointmentDate,e.startTime,e.endTime,e.status,e.appointmentType,e.reasonForVisit,e.notes]))].map((e=>e.join(","))).join("\n"),a=new Blob([t],{type:"text/csv;charset=utf-8;"});Object(ra.saveAs)(a,"appointments.csv")},se=(e,t)=>{b.a.post(`/appointments/${e}/reminder`,{type:t}).then((()=>{alert(`Reminder sent via ${t}`)}))},ne=()=>{alert("Syncing with Google Calendar...")},ie=[{field:"patientId",headerName:"Patient",width:200,renderCell:e=>Object(s.jsx)("span",{children:X(e.value)})},{field:"doctorId",headerName:"Doctor",width:200,renderCell:e=>Object(s.jsx)("span",{children:Z(e.value)})},{field:"clinicLocationId",headerName:"Clinic",width:200,renderCell:e=>Object(s.jsx)("span",{children:K(e.value)})},{field:"appointmentDate",headerName:"Date",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"info",variant:"outlined"})},{field:"startTime",headerName:"Start Time",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",variant:"outlined"})},{field:"endTime",headerName:"End Time",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",variant:"outlined"})},{field:"status",headerName:"Status",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Completed"===e.value?"success":"Confirmed"===e.value?"primary":"Pending"===e.value?"warning":"No-show"===e.value?"error":"Archived"===e.value?"secondary":"default",variant:"filled"})},{field:"actions",headerName:"Actions",width:220,renderCell:e=>Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{p(e.currentTarget),g(t)})(t,e.row),children:Object(s.jsx)(ji.a,{})}),Object(s.jsxs)(C.a,{id:"simple-menu",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:ee,children:[Object(s.jsx)(v.a,{onClick:()=>te("view"),children:"View"}),Object(s.jsx)(v.a,{onClick:()=>te("delete"),children:"Delete"}),Object(s.jsx)(v.a,{onClick:()=>te("archive"),children:"Archive"}),Object(s.jsx)(v.a,{onClick:()=>te("reschedule"),children:"Reschedule"}),Object(s.jsx)(v.a,{onClick:()=>te("complete"),children:"Mark as Completed"})]})]})}],ce=e.length,re=e.filter((e=>"Completed"===e.status)).length,oe=e.filter((e=>"Pending"===e.status)).length,de=e.filter((e=>"Confirmed"===e.status)).length,je=e.filter((e=>"No-show"===e.status)).length,be={labels:["Completed","Pending","Confirmed","No-show"],datasets:[{data:[re,oe,de,je],backgroundColor:["#43a047","#ffa000","#1976d2","#e53935"]}]},me={labels:Object.keys(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e[t.appointmentDate]++,e)),{})),datasets:[{label:"Appointments per Day",data:Object.values(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e[t.appointmentDate]++,e)),{})),backgroundColor:"#1976d2"}]},he={labels:Object.keys(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e[t.appointmentDate]++,e)),{})),datasets:[{label:"Completed",data:Object.keys(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e)),{})).map((t=>e.filter((e=>e.appointmentDate===t&&"Completed"===e.status)).length)),borderColor:"#43a047",fill:!1},{label:"Pending",data:Object.keys(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e)),{})).map((t=>e.filter((e=>e.appointmentDate===t&&"Pending"===e.status)).length)),borderColor:"#ffa000",fill:!1},{label:"Confirmed",data:Object.keys(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e)),{})).map((t=>e.filter((e=>e.appointmentDate===t&&"Confirmed"===e.status)).length)),borderColor:"#1976d2",fill:!1},{label:"No-show",data:Object.keys(e.reduce(((e,t)=>(e[t.appointmentDate]=e[t.appointmentDate]||0,e)),{})).map((t=>e.filter((e=>e.appointmentDate===t&&"No-show"===e.status)).length)),borderColor:"#e53935",fill:!1}]},ue=e.filter((e=>{const t=y.trim().toLowerCase();return!t||(X(e.patientId).toLowerCase().includes(t)||Z(e.doctorId).toLowerCase().includes(t)||K(e.clinicLocationId).toLowerCase().includes(t)||e.appointmentType&&e.appointmentType.toLowerCase().includes(t)||e.reasonForVisit&&e.reasonForVisit.toLowerCase().includes(t)||e.status&&e.status.toLowerCase().includes(t)||e.appointmentDate&&e.appointmentDate.toLowerCase().includes(t)||e.startTime&&e.startTime.toLowerCase().includes(t)||e.endTime&&e.endTime.toLowerCase().includes(t))}));return Object(s.jsxs)("div",{className:"card "+(w?"dark-mode":""),children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"menu-icon fas fa-calendar-check"})," Appointments"]})}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total"}),Object(s.jsx)(U.a,{variant:"h6",children:ce})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Completed"}),Object(s.jsx)(U.a,{variant:"h6",children:re})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Pending"}),Object(s.jsx)(U.a,{variant:"h6",children:oe})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#f3e5f5",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Confirmed"}),Object(s.jsx)(U.a,{variant:"h6",children:de})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#ffebee",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"error.main",children:"No-show"}),Object(s.jsx)(U.a,{variant:"h6",children:je})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Appointments by Status"}),Object(s.jsx)(le.c,{data:be})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Appointments per Day"}),Object(s.jsx)(le.a,{data:me})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Status Trends Over Time"}),Object(s.jsx)(le.d,{data:he})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,flexWrap:"wrap",mb:2},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),"data-toggle":"modal","data-target":"#addAppointment",style:{minWidth:150},children:"Add Appointment"}),Object(s.jsx)(_.a,{onClick:ae,variant:"outlined",color:"primary",style:{minWidth:120},children:"Export"}),Object(s.jsx)(_.a,{onClick:()=>{window.confirm("Are you sure you want to archive the selected appointments?")&&h.forEach((e=>{console.log(`Archiving appointment with ID: ${e}`)}))},variant:"outlined",color:"primary",style:{minWidth:160},children:"Archive Selected"}),Object(s.jsx)(_.a,{onClick:Q,variant:"outlined",color:"primary",style:{minWidth:120},startIcon:Object(s.jsx)("i",{className:"fas fa-sync-alt"}),children:"Reload"})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:1,mb:2},children:[Object(s.jsx)(_.a,{variant:"table"===A?"contained":"outlined",color:"primary",onClick:()=>M("table"),size:"small",children:"Table View"}),Object(s.jsx)(_.a,{variant:"cards"===A?"contained":"outlined",color:"primary",onClick:()=>M("cards"),size:"small",children:"Card View"}),Object(s.jsx)(_.a,{variant:"calendar"===A?"contained":"outlined",color:"primary",onClick:()=>M("calendar"),size:"small",children:"Calendar View"}),Object(s.jsx)(_.a,{variant:"list"===A?"contained":"outlined",color:"primary",onClick:()=>M("list"),size:"small",children:"List View"}),Object(s.jsx)(_.a,{variant:"timeline"===A?"contained":"outlined",color:"primary",onClick:()=>M("timeline"),size:"small",children:"Timeline View"})]}),Object(s.jsx)(q.a,{label:"Search",variant:"outlined",fullWidth:!0,margin:"normal",value:y,onChange:e=>{S(e.target.value)}}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{width:"100%"},children:"table"===A?Object(s.jsx)(qe.a,{rows:ue,getRowId:e=>e.id,columns:ie,pageSize:10,rowsPerPageOptions:[10,15,20],checkboxSelection:!0,autoHeight:!0,components:{Toolbar:ze.a}}):"cards"===A?Object(s.jsx)(Pt.a,{container:!0,spacing:2,children:e.map((e=>Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:6,md:4,children:Object(s.jsx)(Tt.a,{variant:"outlined",style:{marginBottom:16},children:Object(s.jsxs)(At.a,{children:[Object(s.jsx)(U.a,{variant:"h6",gutterBottom:!0,children:X(e.patientId)}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Doctor:"})," ",Z(e.doctorId)]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Clinic:"})," ",K(e.clinicLocationId)]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Date:"})," ",e.appointmentDate]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Time:"})," ",e.startTime," - ",e.endTime]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Status:"})," ",e.status]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Type:"})," ",e.appointmentType]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Reason:"})," ",e.reasonForVisit]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Notes:"})," ",e.notes]})]})})},e.id)))}):"calendar"===A?(()=>{const t={};e.forEach((e=>{t[e.appointmentDate]||(t[e.appointmentDate]=[]),t[e.appointmentDate].push(e)}));const a=Object.keys(t).sort();return Object(s.jsxs)("div",{style:{marginTop:24},children:[Object(s.jsx)(U.a,{variant:"h5",gutterBottom:!0,children:"Calendar View"}),Object(s.jsx)(Pt.a,{container:!0,spacing:2,children:a.map((e=>Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:6,md:4,children:Object(s.jsxs)(Mt.a,{elevation:3,style:{padding:16},children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:e}),t[e].map((e=>Object(s.jsx)(Tt.a,{variant:"outlined",style:{marginBottom:8},children:Object(s.jsxs)(At.a,{children:[Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Patient:"})," ",X(e.patientId)]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Doctor:"})," ",Z(e.doctorId)]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Time:"})," ",e.startTime," - ",e.endTime]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Status:"})," ",e.status]})]})},e.id)))]})},e)))})]})})():"list"===A?Object(s.jsxs)(F.a,{sx:{marginTop:2},children:[Object(s.jsx)(U.a,{variant:"h5",gutterBottom:!0,children:"List View"}),Object(s.jsx)(ci.a,{children:e.map(((t,a)=>Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)(ri.a,{children:Object(s.jsx)(oi.a,{primary:`${X(t.patientId)} with ${Z(t.doctorId)}`,secondary:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Date:"})," ",t.appointmentDate]}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Time:"})," ",t.startTime," - ",t.endTime]}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Status:"})," ",t.status]}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Clinic:"})," ",K(t.clinicLocationId)]})]})})}),a<e.length-1&&Object(s.jsx)(it.a,{})]},t.id)))})]}):(()=>{const t=[...e].sort(((e,t)=>new Date(e.appointmentDate+" "+e.startTime)-new Date(t.appointmentDate+" "+t.startTime)));return Object(s.jsxs)(F.a,{sx:{marginTop:2},children:[Object(s.jsx)(U.a,{variant:"h5",gutterBottom:!0,children:"Timeline View"}),Object(s.jsx)("div",{style:{borderLeft:"2px solid #1976d2",paddingLeft:24},children:t.map((e=>Object(s.jsxs)("div",{style:{marginBottom:32,position:"relative"},children:[Object(s.jsx)("div",{style:{position:"absolute",left:-32,top:0,background:"#1976d2",color:"#fff",borderRadius:"50%",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14},children:e.appointmentDate.split("-")[2]}),Object(s.jsxs)(U.a,{variant:"subtitle1",color:"primary",children:[e.appointmentDate," ",e.startTime," - ",e.endTime]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Patient:"})," ",X(e.patientId),Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Doctor:"})," ",Z(e.doctorId),Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Status:"})," ",e.status]})]},e.id)))})]})})()}),Object(s.jsx)("div",{className:"modal fade",id:"addAppointment",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"New Appointment"}),Object(s.jsx)("button",{onClick:Q,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(xi,{closeModal:()=>{Q(),d.current.click()},doctors:D,patients:W,clinics:P,onSuccess:Q})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{onClick:Q,ref:d,type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsxs)(G.a,{open:R,onClose:()=>E(!1),maxWidth:"lg",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Appointment"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(gi,{appointment:a,closeModal:()=>E(!1),doctors:D,patients:W,clinics:P,onSuccess:()=>{Q(),E(!1)}})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>E(!1),color:"secondary",children:"Close"})})]}),Object(s.jsx)(vi,{open:z,onClose:()=>L(!1),appointment:B,getPatientName:X,getDoctorName:Z,getClinicName:K})]})]})},Ci=(a(513),a(175));var Si=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)([]),[l,c]=Object(n.useState)(""),[r,o]=Object(n.useState)({}),[j,m]=Object(n.useState)(0),h=Object(n.useRef)(null),u=Object(n.useRef)(null),x=Me()(),[p,O]=Object(n.useState)(!1),f=()=>{O(!0),b.a.get("/casestudies").then((e=>{t(e.data),i(e.data)})).finally((()=>O(!1)))},g=()=>{f(),x()};Object(n.useEffect)((()=>{f()}),[]);const v=[{field:"id",headerName:"ID",width:90},{field:"patientId",headerName:"Patient ID",width:200},{field:"doctorId",headerName:"Doctor ID",width:200},{field:"title",headerName:"Title",width:200},{field:"description",headerName:"Description",width:250},{field:"proceduresPerformed",headerName:"Procedures",width:200,renderCell:e=>e.value.join(", ")},{field:"outcome",headerName:"Outcome",width:250},{field:"researchFiles",headerName:"Files",width:200,renderCell:e=>Object(s.jsx)(y.a,{title:"View Research File",children:Object(s.jsx)(_.a,{href:e.value[0],target:"_blank",rel:"noopener noreferrer",variant:"contained",color:"primary",children:"View PDF"})})},{field:"status",headerName:"Status",width:130},{field:"createdAt",headerName:"Created At",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"updatedAt",headerName:"Updated At",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"menu-icon fas fa-file-medical-alt"})," Case Studies"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between"},children:[Object(s.jsx)(q.a,{label:"Search Case Studies",variant:"outlined",value:l,onChange:t=>{const a=t.target.value.toLowerCase();c(a);const s=e.filter((e=>e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)));i(s)},style:{width:"300px"}}),Object(s.jsx)(_.a,{onClick:()=>{const e=Ci.a.json_to_sheet(a),t=Ci.a.book_new();Ci.a.book_append_sheet(t,e,"CaseStudies");const s=Ci.b(t,{bookType:"xlsx",type:"array"}),n=new Blob([s],{type:"application/octet-stream"});Object(ra.saveAs)(n,"CaseStudies.xlsx")},variant:"contained",color:"primary",children:"Export to CSV"})]}),Object(s.jsx)(y.a,{title:"Create New Case Study",children:Object(s.jsxs)(_.a,{type:"button",variant:"contained",color:"success","data-toggle":"modal","data-target":"#addCaseStudy",children:[Object(s.jsx)("i",{className:"far fa-plus-square"})," Create"]})}),Object(s.jsx)(y.a,{title:"Edit Selected Case Study",children:Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),o(t),g()})(e,r),type:"button",variant:"contained",color:"warning","data-toggle":"modal","data-target":"#editCaseStudy",children:[Object(s.jsx)("i",{className:"fas fa-edit"})," Edit"]})}),Object(s.jsx)(y.a,{title:"Remove Selected Case Study",children:Object(s.jsxs)(_.a,{onClick:e=>((e,t)=>{e.preventDefault(),window.confirm(d.DELETE_MSG)&&b.a.delete(`/casestudies/${t}`).then((()=>g()))})(e,j),type:"button",variant:"contained",color:"error",children:[Object(s.jsx)("i",{className:"fas fa-trash-alt"})," Remove"]})}),p?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:430,width:"100%"},children:Object(s.jsx)(qe.a,{rows:a,getRowId:e=>e.id,columns:v,pageSize:5,rowsPerPageOptions:[6],checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){m(t[0]);const a=e.find((e=>e.id===t[0]));o(a)}},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{className:"modal fade",id:"addCaseStudy",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"New Case Study"}),Object(s.jsx)("button",{onClick:g,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)(_.a,{onClick:g,ref:u,type:"button",variant:"contained",color:"secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editCaseStudy",tabIndex:"-1",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Case Study"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)(_.a,{onClick:g,ref:h,type:"button",variant:"contained",color:"secondary","data-dismiss":"modal",children:"Close"})})]})})})]})]})};const wi=["Basic","Standard","Premium"],Ni=["Active","Inactive","Expired","Cancelled"],Di=["Free Cleanings","Discounted Treatments","Priority Booking","Emergency Support"];var ki=e=>{let{onSuccess:t,onCancel:a}=e;const[i,l]=Object(n.useState)({patientId:"",membershipPlan:"Basic",benefits:[],validityPeriod:{startDate:"",endDate:""},paymentStatus:"Active",renewalDate:"",lastPaymentAmount:0,lastPaymentDate:""}),[c,r]=Object(n.useState)(""),[o,d]=Object(n.useState)(!1),j=e=>{const{name:t,value:a}=e.target;t.startsWith("validityPeriod.")?l((e=>({...e,validityPeriod:{...e.validityPeriod,[t.split(".")[1]]:a}}))):l((e=>({...e,[t]:a})))},m=()=>{c&&!i.benefits.includes(c)&&(l((e=>({...e,benefits:[...e.benefits,c]}))),r(""))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);(new Date).toISOString();const a={membershipPlan:i.membershipPlan,benefits:i.benefits,validityPeriod:{startDate:i.validityPeriod.startDate,endDate:i.validityPeriod.endDate},paymentStatus:i.paymentStatus,renewalDate:i.renewalDate,lastPaymentAmount:i.lastPaymentAmount,lastPaymentDate:i.lastPaymentDate};console.log("Membership object to send:",a);try{await b.a.post("/memberships",a),t&&t()}finally{d(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Membership Plan",name:"membershipPlan",value:i.membershipPlan,onChange:j,fullWidth:!0,margin:"normal",children:wi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(F.a,{sx:{my:2},children:[Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",children:i.benefits.map((e=>Object(s.jsx)(nt.a,{label:e,onDelete:()=>{return t=e,void l((e=>({...e,benefits:e.benefits.filter((e=>e!==t))})));var t},sx:{mb:1}},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",sx:{mt:1},children:[Object(s.jsx)(q.a,{label:"Add Benefit",value:c,onChange:e=>r(e.target.value),size:"small",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),m())}}),Object(s.jsx)(_.a,{variant:"outlined",onClick:m,size:"small",children:"Add"}),Object(s.jsx)(_.a,{variant:"text",size:"small",onClick:()=>l((e=>({...e,benefits:[...e.benefits,...Di.filter((t=>!e.benefits.includes(t)))]}))),children:"Add Defaults"})]})]}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(s.jsx)(q.a,{label:"Start Date",name:"validityPeriod.startDate",type:"date",value:i.validityPeriod.startDate,onChange:j,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"End Date",name:"validityPeriod.endDate",type:"date",value:i.validityPeriod.endDate,onChange:j,InputLabelProps:{shrink:!0},margin:"normal",required:!0})]}),Object(s.jsx)(q.a,{select:!0,label:"Payment Status",name:"paymentStatus",value:i.paymentStatus,onChange:j,fullWidth:!0,margin:"normal",children:Ni.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Renewal Date",name:"renewalDate",type:"date",value:i.renewalDate,onChange:j,InputLabelProps:{shrink:!0},margin:"normal",fullWidth:!0}),Object(s.jsx)(q.a,{label:"Last Payment Amount",name:"lastPaymentAmount",type:"number",value:i.lastPaymentAmount,onChange:j,margin:"normal",fullWidth:!0}),Object(s.jsx)(q.a,{label:"Last Payment Date",name:"lastPaymentDate",type:"date",value:i.lastPaymentDate,onChange:j,InputLabelProps:{shrink:!0},margin:"normal",fullWidth:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:o,children:o?"Saving...":"Create"}),a&&Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:o,children:"Cancel"})]})]})};const Wi=["Premium","Standard","Basic"],Ii=["Active","Inactive","Expired","Cancelled"];var Pi=e=>{let{membership:t,closeModal:a,onSuccess:i}=e;const[l,c]=Object(n.useState)({membershipPlan:"",paymentStatus:"",benefits:[],validityPeriod:{startDate:"",endDate:""},renewalDate:"",lastPaymentAmount:"",lastPaymentDate:""});Object(n.useEffect)((()=>{var e,a;t&&c({membershipPlan:t.membershipPlan||"",paymentStatus:t.paymentStatus||"",benefits:t.benefits||[],validityPeriod:{startDate:(null===(e=t.validityPeriod)||void 0===e?void 0:e.startDate)||"",endDate:(null===(a=t.validityPeriod)||void 0===a?void 0:a.endDate)||""},renewalDate:t.renewalDate||"",lastPaymentAmount:t.lastPaymentAmount||"",lastPaymentDate:t.lastPaymentDate||""})}),[t]);const r=e=>{const{name:t,value:a}=e.target;c("startDate"===t||"endDate"===t?e=>({...e,validityPeriod:{...e.validityPeriod,[t]:a}}):"benefits"===t?e=>({...e,benefits:a.split(",").map((e=>e.trim()))}):e=>({...e,[t]:a}))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s={...l,id:t.id,validityPeriod:{startDate:l.validityPeriod.startDate,endDate:l.validityPeriod.endDate}};await b.a.put(`/memberships/${t.id}`,s),i&&i(),a&&a()},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Membership Plan",name:"membershipPlan",value:l.membershipPlan,onChange:r,fullWidth:!0,margin:"normal",required:!0,children:Wi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Payment Status",name:"paymentStatus",value:l.paymentStatus,onChange:r,fullWidth:!0,margin:"normal",required:!0,children:Ii.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Benefits (comma separated)",name:"benefits",value:l.benefits.join(", "),onChange:r,fullWidth:!0,margin:"normal"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2},children:[Object(s.jsx)(q.a,{label:"Start Date",name:"startDate",type:"date",value:l.validityPeriod.startDate,onChange:r,InputLabelProps:{shrink:!0},required:!0}),Object(s.jsx)(q.a,{label:"End Date",name:"endDate",type:"date",value:l.validityPeriod.endDate,onChange:r,InputLabelProps:{shrink:!0},required:!0})]}),Object(s.jsx)(q.a,{label:"Renewal Date",name:"renewalDate",type:"date",value:l.renewalDate,onChange:r,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Last Payment Amount",name:"lastPaymentAmount",type:"number",value:l.lastPaymentAmount,onChange:r,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Last Payment Date",name:"lastPaymentDate",type:"date",value:l.lastPaymentDate,onChange:r,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,children:"Cancel"})]})]})};const Ti={Premium:"success",Standard:"primary",Basic:"default"},Ai={Active:"success",Inactive:"default",Expired:"warning",Cancelled:"error"};var Mi=()=>{var e,t;const[a,i]=Object(n.useState)([]),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(null),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(null),[p,O]=Object(n.useState)(null),[g,y]=Object(n.useState)(!1),[S,w]=Object(n.useState)(null),N=(Object(n.useRef)(null),Object(n.useRef)(null)),D=()=>{j(!0),b.a.get("/memberships").then((e=>i(e.data))).finally((()=>j(!1)))};Object(n.useEffect)((()=>{D()}),[]);const k=()=>{D()},W=()=>{x(null),O(null)},I=[{field:"membershipPlan",headerName:"Plan",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:Ti[e.value]||"default",size:"small",variant:"outlined"})},{field:"paymentStatus",headerName:"Payment Status",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:Ai[e.value]||"default",size:"small",variant:"outlined"})},{field:"benefits",headerName:"Benefits",width:300,renderCell:e=>{var t;return Object(s.jsx)(E.a,{direction:"row",spacing:.5,flexWrap:"wrap",children:null===(t=e.value)||void 0===t?void 0:t.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,size:"small",variant:"outlined"},t)))})}},{field:"validityStart",headerName:"Start Date",width:140,valueGetter:e=>{var t;return null===(t=e.row.validityPeriod)||void 0===t?void 0:t.startDate},renderCell:e=>e.value?Object(s.jsx)(nt.a,{label:new Date(e.value).toLocaleDateString(),color:"info",size:"small",variant:"outlined"}):""},{field:"validityEnd",headerName:"End Date",width:140,valueGetter:e=>{var t;return null===(t=e.row.validityPeriod)||void 0===t?void 0:t.endDate},renderCell:e=>e.value?Object(s.jsx)(nt.a,{label:new Date(e.value).toLocaleDateString(),color:"warning",size:"small",variant:"outlined"}):""},{field:"renewalDate",headerName:"Renewal Date",width:140,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():""},{field:"lastPaymentAmount",headerName:"Last Payment ($)",width:150,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value?`$${e.value}`:"$0",color:"primary",size:"small",variant:"outlined"})},{field:"lastPaymentDate",headerName:"Last Payment Date",width:160,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():""},{field:"actions",headerName:"Actions",width:90,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{"aria-label":"more","aria-controls":"action-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{x(e.currentTarget),O(t)})(t,e.row),size:"small",children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-id-card-alt"})," Memberships"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(s.jsx)("i",{className:"far fa-plus-square"}),onClick:()=>h(!0),children:"Add Membership"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),"data-toggle":"modal","data-target":"#editMembershipModal",disabled:!l,children:"Edit"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),onClick:()=>{r&&window.confirm("Are you sure you want to delete this membership?")&&b.a.delete(`/memberships/${r}`).then((()=>k()))},disabled:!r,children:"Delete"})]}),d?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%",marginTop:"10px"},children:[Object(s.jsx)(qe.a,{rows:a,getRowId:e=>e.id,columns:I,pageSize:5,checkboxSelection:!0,onSelectionModelChange:e=>{if(1===e.length){const t=a.find((t=>t.id===e[0]));c(t),o(e[0])}else c(null),o(null)},components:{Toolbar:ze.a}}),Object(s.jsxs)(C.a,{id:"action-menu",anchorEl:u,open:Boolean(u),onClose:W,children:[Object(s.jsx)(v.a,{onClick:()=>{w(p),y(!0),W()},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{c(p),o(p.id),document.querySelector('[data-target="#editMembershipModal"]').click(),W()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{p&&window.confirm("Are you sure you want to delete this membership?")&&b.a.delete(`/memberships/${p.id}`).then((()=>k())),W()},children:"Delete"})]})]}),Object(s.jsx)("div",{className:"modal fade",id:"editMembershipModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Membership"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(Pi,{membership:l,closeModal:()=>N.current.click(),onSuccess:k})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:k,ref:N,children:"Close"})})]})})}),Object(s.jsxs)(G.a,{open:m,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Create Membership"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(ki,{onSuccess:()=>{h(!1)},onCancel:()=>h(!1)})})]}),Object(s.jsxs)(G.a,{open:g,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(s.jsx)("i",{className:"fas fa-id-card-alt",style:{color:"#1976d2",fontSize:22}}),Object(s.jsx)("span",{children:"Membership Details"})]})}),Object(s.jsx)(H.a,{children:S?Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,boxShadow:1,p:{xs:2,sm:3},minWidth:320,minHeight:200},children:[Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:S.membershipPlan,color:Ti[S.membershipPlan]||"default",icon:Object(s.jsx)("i",{className:"fas fa-crown"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:S.paymentStatus,color:Ai[S.paymentStatus]||"default",icon:Object(s.jsx)("i",{className:"fas fa-credit-card"}),sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Status: ${S.status||"-"}`,color:Ai[S.status]||"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,sx:{mb:1},children:"Benefits:"}),Object(s.jsx)(E.a,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:(S.benefits||[]).map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"info",variant:"outlined",size:"small",sx:{mb:1}},t)))}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2},children:[Object(s.jsx)(nt.a,{label:`Start: ${(null===(e=S.validityPeriod)||void 0===e?void 0:e.startDate)?new Date(S.validityPeriod.startDate).toLocaleDateString():"-"}`,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`End: ${(null===(t=S.validityPeriod)||void 0===t?void 0:t.endDate)?new Date(S.validityPeriod.endDate).toLocaleDateString():"-"}`,color:"warning",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Renewal: ${S.renewalDate?new Date(S.renewalDate).toLocaleDateString():"-"}`,color:"primary",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2},children:[Object(s.jsx)(nt.a,{label:"Last Payment: "+(S.lastPaymentAmount?`$${S.lastPaymentAmount}`:"-"),color:"success",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Last Payment Date: ${S.lastPaymentDate?new Date(S.lastPaymentDate).toLocaleDateString():"-"}`,color:"default",sx:{fontWeight:600,fontSize:15}})]})]}):Object(s.jsx)(U.a,{children:"No membership selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>y(!1),color:"secondary",variant:"outlined",children:"Close"})})]})]})]})};const Ri=["Surgical","Non-Surgical","Diagnostic","Other"],Ei=["Local","General","Sedation","None"],qi=["Yes","No"],zi=["Scheduled","Completed","Cancelled"];var Li=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({operationType:"",procedureName:"",operationDate:"",duration:"",anesthesiaType:"",complications:"",postOperationInstructions:"",followUpRequired:"No",followUpDate:"",status:"Scheduled"}),[c,r]=Object(n.useState)(!1),o=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={operationType:i.operationType,procedureName:i.procedureName,operationDate:new Date(i.operationDate).toISOString(),duration:Number(i.duration),anesthesiaType:i.anesthesiaType,complications:i.complications,postOperationInstructions:i.postOperationInstructions,followUpRequired:i.followUpRequired,followUpDate:i.followUpDate?new Date(i.followUpDate).toISOString():null,status:i.status,createdAt:s,updatedAt:s};try{await b.a.post("/operations",n),a&&a(n),t&&t()}finally{r(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{select:!0,label:"Operation Type",name:"operationType",value:i.operationType,onChange:o,required:!0,fullWidth:!0,children:Ri.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Procedure Name",name:"procedureName",value:i.procedureName,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Operation Date & Time",name:"operationDate",type:"datetime-local",value:i.operationDate,onChange:o,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Duration (minutes)",name:"duration",type:"number",value:i.duration,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Anesthesia Type",name:"anesthesiaType",value:i.anesthesiaType,onChange:o,required:!0,fullWidth:!0,children:Ei.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Complications",name:"complications",value:i.complications,onChange:o,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Post-Operation Instructions",name:"postOperationInstructions",value:i.postOperationInstructions,onChange:o,multiline:!0,rows:2,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Follow-Up Required",name:"followUpRequired",value:i.followUpRequired,onChange:o,required:!0,fullWidth:!0,children:qi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),"Yes"===i.followUpRequired&&Object(s.jsx)(q.a,{label:"Follow-Up Date & Time",name:"followUpDate",type:"datetime-local",value:i.followUpDate,onChange:o,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:o,required:!0,fullWidth:!0,children:zi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Operation"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};const Fi=["Surgical","Non-Surgical","Diagnostic","Other"],Bi=["Local","General","Sedation","None"],$i=["Yes","No"],Ui=["Scheduled","Completed","Cancelled"];var _i=e=>{let{operation:t,closeModal:a,onEdit:i}=e;const[l,c]=Object(n.useState)({operationType:"",procedureName:"",operationDate:"",duration:"",anesthesiaType:"",complications:"",postOperationInstructions:"",followUpRequired:"No",followUpDate:"",status:"Scheduled"}),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{t&&c({operationType:t.operationType||"",procedureName:t.procedureName||"",operationDate:t.operationDate?t.operationDate.slice(0,16):"",duration:t.duration||"",anesthesiaType:t.anesthesiaType||"",complications:t.complications||"",postOperationInstructions:t.postOperationInstructions||"",followUpRequired:t.followUpRequired||"No",followUpDate:t.followUpDate?t.followUpDate.slice(0,16):"",status:t.status||"Scheduled"})}),[t]);const d=e=>{const{name:t,value:a}=e.target;c((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),o(!0);const s=(new Date).toISOString(),n={operationType:l.operationType,procedureName:l.procedureName,operationDate:new Date(l.operationDate).toISOString(),duration:Number(l.duration),anesthesiaType:l.anesthesiaType,complications:l.complications,postOperationInstructions:l.postOperationInstructions,followUpRequired:l.followUpRequired,followUpDate:l.followUpDate?new Date(l.followUpDate).toISOString():null,status:l.status,updatedAt:s};try{await b.a.put(`/operations/${t.id}`,n),i&&i(n),a&&a()}finally{o(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{select:!0,label:"Operation Type",name:"operationType",value:l.operationType,onChange:d,required:!0,fullWidth:!0,children:Fi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Procedure Name",name:"procedureName",value:l.procedureName,onChange:d,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Operation Date & Time",name:"operationDate",type:"datetime-local",value:l.operationDate,onChange:d,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Duration (minutes)",name:"duration",type:"number",value:l.duration,onChange:d,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Anesthesia Type",name:"anesthesiaType",value:l.anesthesiaType,onChange:d,required:!0,fullWidth:!0,children:Bi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Complications",name:"complications",value:l.complications,onChange:d,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Post-Operation Instructions",name:"postOperationInstructions",value:l.postOperationInstructions,onChange:d,multiline:!0,rows:2,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Follow-Up Required",name:"followUpRequired",value:l.followUpRequired,onChange:d,required:!0,fullWidth:!0,children:$i.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),"Yes"===l.followUpRequired&&Object(s.jsx)(q.a,{label:"Follow-Up Date & Time",name:"followUpDate",type:"datetime-local",value:l.followUpDate,onChange:d,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:l.status,onChange:d,required:!0,fullWidth:!0,children:Ui.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:r,children:r?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:r,children:"Cancel"})]})]})})};var Gi=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)(!1),[p,O]=Object(n.useState)(!1),g=()=>{o(!0),b.a.get("/operations").then((e=>t(e.data))).finally((()=>o(!1)))};Object(n.useEffect)((()=>{g()}),[]);const y=()=>{g()},S=()=>{j(null),h(null)},w=[{field:"operationType",headerName:"Type",width:150},{field:"procedureName",headerName:"Procedure",width:200},{field:"operationDate",headerName:"Date",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"duration",headerName:"Duration (min)",width:150},{field:"anesthesiaType",headerName:"Anesthesia",width:150},{field:"complications",headerName:"Complications",width:200},{field:"status",headerName:"Status",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Completed"===e.value?"success":"Scheduled"===e.value?"primary":"Cancelled"===e.value?"error":"default",variant:"outlined",size:"small"})},{field:"followUpRequired",headerName:"Follow-Up Required",width:170},{field:"followUpDate",headerName:"Follow-Up Date",width:180,valueFormatter:e=>e.value?new Date(e.value).toLocaleString():""},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{size:"small",onClick:t=>{return a=t,s=e.row,j(a.currentTarget),void h(s);var a,s},children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-procedures"})," Operations"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(_.a,{variant:"outlined",color:"success",sx:{mb:2,mr:2},onClick:()=>x(!0),startIcon:Object(s.jsx)("i",{className:"far fa-plus-square"}),children:"Add Operation"}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%",marginTop:"10px"},children:[Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:w,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}}),Object(s.jsxs)(C.a,{anchorEl:d,open:Boolean(d),onClose:S,children:[Object(s.jsx)(v.a,{onClick:()=>{i(m),c(m.id),O(!0),S()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{i(m),c(m.id),(null===m||void 0===m?void 0:m.id)&&window.confirm("Are you sure you want to delete this operation?")&&b.a.delete(`/operations/${m.id}`).then((()=>y())),S()},children:"Delete"})]})]}),Object(s.jsxs)(G.a,{open:u,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add New Operation"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Li,{closeModal:()=>x(!1),onCreate:y})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>x(!1),color:"secondary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:p,onClose:()=>O(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Operation"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(_i,{operation:a,closeModal:()=>O(!1),onEdit:y})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>O(!1),color:"secondary",children:"Close"})})]})]})]})};const Vi={name:"",address:"",city:"",state:"",zipCode:"",country:"",contactNumber:"",email:"",workingHours:{},doctorsAvailable:[]};var Hi=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(!1),[p,O]=Object(n.useState)(Vi),[g,y]=Object(n.useState)(null),[S,N]=Object(n.useState)(null),D=(Object(n.useRef)(null),Object(n.useRef)(null),()=>{o(!0),b.a.get("/clinics").then((e=>t(e.data))).finally((()=>o(!1)))});Object(n.useEffect)((()=>{D()}),[]);const k=()=>D(),W=e=>{const{name:t,value:a}=e.target;O((e=>({...e,[t]:a})))},I=()=>{y(null),N(null)},P=[{field:"name",headerName:"Clinic Name",width:220},{field:"address",headerName:"Address",width:250},{field:"city",headerName:"City",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",size:"small",sx:{fontWeight:600}})},{field:"state",headerName:"State",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"info",size:"small",sx:{fontWeight:600}})},{field:"zipCode",headerName:"Zip Code",width:110},{field:"country",headerName:"Country",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"success",size:"small",sx:{fontWeight:600}})},{field:"contactNumber",headerName:"Contact Number",width:160,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"secondary",size:"small",sx:{fontWeight:600}})},{field:"email",headerName:"Email",width:220,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"default",size:"small",sx:{fontWeight:600}})},{field:"workingHours",headerName:"Working Hours",width:400,renderCell:e=>{const t=e.value||{};return Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:Object.entries(t).map((e=>{let[t,a]=e;return Object(s.jsx)(nt.a,{label:`${t.charAt(0).toUpperCase()+t.slice(1)}: ${a}`,color:"primary",size:"small",sx:{mb:.5}},t)}))})}},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{"aria-label":"more","aria-controls":"clinic-row-menu","aria-haspopup":"true",onClick:t=>{return a=t,s=e.row.id,y(a.currentTarget),void N(s);var a,s},children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-clinic-medical"})," Clinics"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(s.jsx)("i",{className:"far fa-plus-square"}),onClick:()=>j(!0),sx:{mr:1},children:"Add Clinic"}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:480,width:"100%",marginTop:10},children:Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:P,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}})}),d&&Object(s.jsx)(G.a,{open:d,onClose:()=>j(!1),maxWidth:"md",fullWidth:!0,children:Object(s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(!0),b.a.post("/clinics",p).then((()=>{j(!1),O(Vi),k()})).finally((()=>o(!1)))},children:[Object(s.jsx)(V.a,{children:"Add Clinic"}),Object(s.jsx)(H.a,{dividers:!0,children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Clinic Name",name:"name",value:p.name,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Address",name:"address",value:p.address,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"City",name:"city",value:p.city,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"State",name:"state",value:p.state,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Zip Code",name:"zipCode",value:p.zipCode,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Country",name:"country",value:p.country,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Contact Number",name:"contactNumber",value:p.contactNumber,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Email",name:"email",value:p.email,onChange:W,required:!0,fullWidth:!0})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:r,children:r?"Saving...":"Create Clinic"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:()=>j(!1),disabled:r,children:"Cancel"})]})]})}),Object(s.jsxs)(G.a,{open:m,onClose:()=>h(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(F.a,{display:"flex",alignItems:"center",gap:2,children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",width:48,height:48},children:Object(s.jsx)("i",{className:"fas fa-clinic-medical",style:{fontSize:28,color:"#fff"}})}),Object(s.jsx)(U.a,{variant:"h5",color:"primary",children:(null===a||void 0===a?void 0:a.name)||"Clinic Details"})]})}),Object(s.jsx)(H.a,{dividers:!0,children:a?Object(s.jsx)(F.a,{sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",children:"General Info"}),Object(s.jsx)(it.a,{sx:{mb:1}}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Address:"})," ",a.address]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"City:"})," ",a.city]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"State:"})," ",a.state]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Zip Code:"})," ",a.zipCode]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Country:"})," ",a.country]})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",children:"Contact"}),Object(s.jsx)(it.a,{sx:{mb:1}}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Contact Number:"})," ",Object(s.jsx)(nt.a,{label:a.contactNumber,color:"info"})]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Email:"})," ",Object(s.jsx)(nt.a,{label:a.email,color:"success"})]})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",children:"Working Hours"}),Object(s.jsx)(it.a,{sx:{mb:1}}),Object(s.jsx)(F.a,{component:"ul",sx:{pl:2,mb:0},children:a.workingHours&&Object.entries(a.workingHours).map((e=>{let[t,a]=e;return Object(s.jsx)("li",{children:Object(s.jsx)(nt.a,{label:`${t.charAt(0).toUpperCase()+t.slice(1)}: ${a}`,color:"primary",sx:{mr:1,mb:1}})},t)}))})]}),Object(s.jsx)(it.a,{}),Object(s.jsx)(F.a,{children:Object(s.jsxs)(U.a,{variant:"caption",color:"text.secondary",children:[Object(s.jsx)("b",{children:"Created At:"})," ",a.createdAt?new Date(a.createdAt).toLocaleString():"-",Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Updated At:"})," ",a.updatedAt?new Date(a.updatedAt).toLocaleString():"-"]})})]})}):Object(s.jsx)(U.a,{children:"No clinic selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>h(!1),color:"primary",variant:"contained",children:"Close"})})]}),Object(s.jsx)(G.a,{open:u,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:Object(s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(!0),b.a.put(`/clinics/${l}`,p).then((()=>{x(!1),O(Vi),k()})).finally((()=>o(!1)))},children:[Object(s.jsx)(V.a,{children:"Edit Clinic"}),Object(s.jsx)(H.a,{dividers:!0,children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Clinic Name",name:"name",value:p.name,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Address",name:"address",value:p.address,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"City",name:"city",value:p.city,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"State",name:"state",value:p.state,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Zip Code",name:"zipCode",value:p.zipCode,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Country",name:"country",value:p.country,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Contact Number",name:"contactNumber",value:p.contactNumber,onChange:W,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Email",name:"email",value:p.email,onChange:W,required:!0,fullWidth:!0})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"info",disabled:r,children:r?"Saving...":"Update Clinic"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:()=>x(!1),disabled:r,children:"Cancel"})]})]})}),Object(s.jsxs)(C.a,{id:"clinic-row-menu",anchorEl:g,open:Boolean(g),onClose:I,children:[Object(s.jsx)(v.a,{onClick:()=>{const t=e.find((e=>e.id===S));i(t),h(!0),I()},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{const t=e.find((e=>e.id===S));i(t),O(t),c(S),x(!0),I()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{c(S),l&&window.confirm("Are you sure you want to delete this clinic?")&&b.a.delete(`/clinics/${l}`).then((()=>k())),I()},children:"Delete"})]})]})]})};const Yi=["Mild","Moderate","Severe"];var Ji=e=>{let{open:t,onClose:a,onSuccess:i}=e;const[l,c]=Object(n.useState)({patientId:"",doctorId:"",diagnosisDate:"",condition:"",severity:"Mild",notes:""}),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)([]),[m,h]=Object(n.useState)([]);Object(n.useEffect)((()=>{b.a.get("/patients").then((e=>j(e.data))).catch((()=>j([]))),b.a.get("/doctors").then((e=>h(e.data))).catch((()=>h([])))}),[]);const u=e=>{const{name:t,value:a}=e.target;c((e=>({...e,[t]:a})))};return Object(s.jsxs)(G.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Diagnosis"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);const t=(new Date).toISOString(),s={...l,id:Math.random().toString(36).substr(2,9),createdAt:t,updatedAt:t};try{await b.a.post("/diagnoses",s),i&&i(),a&&a()}finally{o(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:l.patientId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:d.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:l.doctorId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:m.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{label:"Diagnosis Date",name:"diagnosisDate",type:"datetime-local",value:l.diagnosisDate,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Condition",name:"condition",value:l.condition,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Severity",name:"severity",value:l.severity,onChange:u,fullWidth:!0,margin:"normal",children:Yi.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:l.notes,onChange:u,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:r,children:r?"Saving...":"Create Diagnosis"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:r,children:"Cancel"})]})]})})]})};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var Qi=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!0),[r,o]=Object(n.useState)(""),[d,j]=Object(n.useState)(""),[m,h]=Object(n.useState)(""),[u,x]=Object(n.useState)(""),[p,O]=Object(n.useState)({from:"",to:""}),[g,S]=Object(n.useState)([]),[w,N]=Object(n.useState)(null),[D,k]=Object(n.useState)(null),[W,I]=Object(n.useState)(!1),[P,T]=Object(n.useState)(null),[A,M]=Object(n.useState)({open:!1,message:"",severity:"info"}),[R,z]=Object(n.useState)({}),[L,B]=Object(n.useState)({}),[$,G]=Object(n.useState)({condition:"",severity:""}),[V,H]=Object(n.useState)(!1),Y=Object(n.useCallback)((()=>{i(!0),c(!0),b.a.get("/diagnoses").then((e=>{t(e.data),setTimeout((()=>c(!1)),800)})).catch((()=>M({open:!0,message:"Failed to load diagnoses",severity:"error"}))).finally((()=>i(!1)))}),[]);Object(n.useEffect)((()=>{Y()}),[Y]);const J=e.filter((e=>{const t=!d||e.severity===d,a=!m||e.condition===m,s=!u||(e.doctorName||"").toLowerCase().includes(u.toLowerCase()),n=Object.values(e).some((e=>null===e||void 0===e?void 0:e.toString().toLowerCase().includes(r.toLowerCase()))),i=(!p.from||new Date(e.diagnosisDate)>=new Date(p.from))&&(!p.to||new Date(e.diagnosisDate)<=new Date(p.to)),l=(!$.condition||e.condition===$.condition)&&(!$.severity||e.severity===$.severity);return t&&a&&s&&n&&i&&l})),Q=[{field:"diagnosisDate",headerName:"Date",width:160,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"condition",headerName:"Condition",width:200,editable:!0,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",variant:"outlined"})},{field:"severity",headerName:"Severity",width:120,editable:!0,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Severe"===e.value?"error":"Moderate"===e.value?"warning":"success",variant:"outlined"})},{field:"doctorName",headerName:"Doctor",width:180},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{title:"View Details",children:Object(s.jsx)(f.a,{size:"small",onClick:()=>{T(e.row),I(!0)},"aria-label":"View details",children:Object(s.jsx)("i",{className:"fas fa-eye"})})}),Object(s.jsx)(f.a,{size:"small",onClick:t=>{N(t.currentTarget),k(e.row)},"aria-label":"More actions",children:Object(s.jsx)(dt.a,{})})]})}],Z=e.reduce(((e,t)=>{const a=t.condition||"Other";return e[a]=(e[a]||0)+1,e}),{}),X=e.reduce(((e,t)=>{const a=t.severity||"Other";return e[a]=(e[a]||0)+1,e}),{}),K=e.reduce(((e,t)=>{const a=t.doctorName||"Unknown";return e[a]=(e[a]||0)+1,e}),{}),ee=e.reduce(((e,t)=>{const a=t.diagnosisDate?new Date(t.diagnosisDate).toLocaleDateString():"Unknown";return e[a]=(e[a]||0)+1,e}),{}),te={labels:Object.keys(Z),datasets:[{data:Object.values(Z),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},ae={labels:Object.keys(X),datasets:[{data:Object.values(X),backgroundColor:["#43a047","#ffa000","#e53935","#1976d2"]}]},se={labels:Object.keys(K),datasets:[{label:"Diagnoses per Doctor",data:Object.values(K),backgroundColor:"#1976d2"}]},ne={labels:Object.keys(ee),datasets:[{label:"Diagnoses per Date",data:Object.values(ee),borderColor:"#e53935",backgroundColor:"rgba(229,57,53,0.2)",fill:!0,tension:.4}]};return l?Object(s.jsxs)(F.a,{sx:{p:3},children:[Object(s.jsx)(Vs.a,{variant:"rectangular",width:"100%",height:60,sx:{mb:2}}),Object(s.jsx)(Vs.a,{variant:"rectangular",width:"100%",height:300,sx:{mb:2}}),Object(s.jsx)(Vs.a,{variant:"rectangular",width:"100%",height:500})]}):Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-notes-medical"})," Diagnoses"]})}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2,flexWrap:"wrap"},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center",minWidth:120},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Diagnoses"}),Object(s.jsx)(U.a,{variant:"h6",children:e.length})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center",minWidth:120},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Mild"}),Object(s.jsx)(U.a,{variant:"h6",children:e.filter((e=>"Mild"===e.severity)).length})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center",minWidth:120},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Moderate"}),Object(s.jsx)(U.a,{variant:"h6",children:e.filter((e=>"Moderate"===e.severity)).length})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#ffebee",p:2,borderRadius:2,textAlign:"center",minWidth:120},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"error.main",children:"Severe"}),Object(s.jsx)(U.a,{variant:"h6",children:e.filter((e=>"Severe"===e.severity)).length})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:4,mb:4,mt:2,justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Diagnoses by Condition"}),Object(s.jsx)(le.c,{data:te})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fffde7",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Diagnoses by Severity"}),Object(s.jsx)(le.e,{data:ae})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Diagnoses per Doctor"}),Object(s.jsx)(le.a,{data:se})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fce4ec",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Diagnoses Over Time"}),Object(s.jsx)(le.d,{data:ne})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(_.a,{variant:"outlined",color:"success",sx:{mb:2},onClick:()=>H(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create Diagnosis"}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2},children:[Object(s.jsx)(q.a,{label:"Search",value:r,onChange:e=>o(e.target.value),size:"small",fullWidth:!0}),Object(s.jsxs)(q.a,{label:"Severity",select:!0,value:d,onChange:e=>j(e.target.value),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Severities"}),Object(s.jsx)(v.a,{value:"Mild",children:"Mild"}),Object(s.jsx)(v.a,{value:"Moderate",children:"Moderate"}),Object(s.jsx)(v.a,{value:"Severe",children:"Severe"})]}),Object(s.jsxs)(q.a,{label:"Condition",select:!0,value:m,onChange:e=>h(e.target.value),size:"small",fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"",children:"All Conditions"}),Object.keys(Z).map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))]}),Object(s.jsx)(q.a,{label:"Doctor",value:u,onChange:e=>x(e.target.value),size:"small",fullWidth:!0}),Object(s.jsx)(q.a,{label:"From",type:"date",value:p.from,onChange:e=>O((t=>({...t,from:e.target.value}))),size:"small",InputLabelProps:{shrink:!0},fullWidth:!0}),Object(s.jsx)(q.a,{label:"To",type:"date",value:p.to,onChange:e=>O((t=>({...t,to:e.target.value}))),size:"small",InputLabelProps:{shrink:!0},fullWidth:!0})]}),a?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:500,width:"100%"},children:[Object(s.jsx)(qe.a,{rows:J,getRowId:e=>e.id,columns:Q,pageSize:5,rowsPerPageOptions:[5,10,20],checkboxSelection:!0,onRowSelectionModelChange:e=>S(e),components:{Toolbar:ze.a},editMode:"row",onRowEditCommit:async t=>{const a=R[t];if(a){const s={...e.find((e=>e.id===t)),...Object.fromEntries(Object.entries(a).map((e=>{let[t,a]=e;return[t,a.value]})))};await b.a.put(`/diagnoses/${t}`,s),B((e=>({...e,[t]:[...e[t]||[],{date:(new Date).toISOString(),user:"CurrentUser",changes:a}]}))),M({open:!0,message:"Diagnosis updated",severity:"success"}),Y()}},onEditRowsModelChange:e=>{z(e)},"aria-label":"Diagnoses Table"}),Object(s.jsxs)(C.a,{anchorEl:w,open:Boolean(w),onClose:()=>N(null),children:[Object(s.jsx)(v.a,{onClick:()=>{T(D),I(!0),N(null)},children:"View"}),Object(s.jsx)(v.a,{onClick:async()=>{await b.a.delete(`/diagnoses/${D.id}`),M({open:!0,message:"Diagnosis deleted",severity:"success"}),Y(),N(null)},children:"Delete"})]})]}),Object(s.jsx)(ct.a,{anchor:"right",open:W,onClose:()=>I(!1),PaperProps:{sx:{width:{xs:320,sm:480}}},children:Object(s.jsx)(F.a,{sx:{p:3,maxWidth:480},children:P&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{variant:"h6",gutterBottom:!0,children:"Diagnosis Details"}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Condition: ",P.condition]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Severity: ",P.severity]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Doctor: ",P.doctorName]}),Object(s.jsxs)(U.a,{variant:"subtitle2",children:["Date: ",new Date(P.diagnosisDate).toLocaleString()]}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mt:2},children:"Results:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:P.diagnosisResults}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mt:2},children:"Notes:"}),Object(s.jsx)(U.a,{variant:"body2",children:P.notes}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mt:2},children:"Audit Trail:"}),Object(s.jsx)(F.a,{sx:{maxHeight:120,overflow:"auto",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:0===(L[P.id]||[]).length?Object(s.jsx)(U.a,{variant:"caption",children:"No changes yet."}):L[P.id].map(((e,t)=>Object(s.jsxs)(U.a,{variant:"caption",sx:{display:"block"},children:[e.date,": ",e.user," changed ",Object.keys(e.changes).join(", ")]},t)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:3},children:[Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(bt.a,{}),onClick:()=>{window.print(),M({open:!0,message:"Print dialog opened for PDF export",severity:"info"})},children:"Print"}),Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(ht.a,{}),onClick:()=>{const t=[Object.keys(e[0]||{}).join(","),...e.map((e=>Object.values(e).join(",")))].join("\n"),a=new Blob([t],{type:"application/vnd.ms-excel"});Object(ra.saveAs)(a,"diagnoses.xlsx"),M({open:!0,message:"Exported to Excel",severity:"success"})},children:"Download Excel"})]})]})})}),Object(s.jsx)(rt.a,{open:A.open,autoHideDuration:3e3,onClose:()=>M((e=>({...e,open:!1}))),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(s.jsx)(lt.a,{onClose:()=>M((e=>({...e,open:!1}))),severity:A.severity,sx:{width:"100%"},children:A.message})}),Object(s.jsx)(Ji,{open:V,onClose:()=>H(!1),onSuccess:()=>{H(!1),Y()}})]})]})},Zi=a(734),Xi=a(357),Ki=a.n(Xi),el=a(358),tl=a.n(el);const al=["In Service","Out of Service","Maintenance Due","In Maintenance","Retired"];var sl=e=>{let{open:t,onClose:a,technicians:i=[],clinics:l=[],onSuccess:c}=e;const[r,o]=Object(n.useState)({clinicId:"",equipmentName:"",modelNumber:"",manufacturer:"",purchaseDate:"",lastServiceDate:"",nextServiceDue:"",status:"In Service",assignedTechnician:"",maintenanceNotes:""}),[d,j]=Object(n.useState)(!1),m=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return Object(s.jsxs)(G.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Equipment Maintenance"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0);const t=(new Date).toISOString(),s={...r,id:Math.random().toString(36).substr(2,9),createdAt:t,updatedAt:t};try{await b.a.post("/equipments",s),c&&c(),a&&a()}finally{j(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:r.clinicId,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Equipment Name",name:"equipmentName",value:r.equipmentName,onChange:m,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Model Number",name:"modelNumber",value:r.modelNumber,onChange:m,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Manufacturer",name:"manufacturer",value:r.manufacturer,onChange:m,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Purchase Date",name:"purchaseDate",type:"date",value:r.purchaseDate,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Last Service Date",name:"lastServiceDate",type:"date",value:r.lastServiceDate,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Next Service Due",name:"nextServiceDue",type:"date",value:r.nextServiceDue,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:r.status,onChange:m,fullWidth:!0,margin:"normal",children:al.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Assigned Technician",name:"assignedTechnician",value:r.assignedTechnician,onChange:m,fullWidth:!0,margin:"normal",children:i.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Maintenance Notes",name:"maintenanceNotes",value:r.maintenanceNotes,onChange:m,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:d,children:d?"Saving...":"Create"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:d,children:"Cancel"})]})]})})]})};const nl=["In Service","Out of Service","Maintenance Due","In Maintenance","Retired"];var il=e=>{let{open:t,onClose:a,equipment:i={},technicians:l=[],onSuccess:c}=e;const[r,o]=Object(n.useState)({clinicId:"",equipmentName:"",modelNumber:"",manufacturer:"",purchaseDate:"",lastServiceDate:"",nextServiceDue:"",status:"In Service",assignedTechnician:"",maintenanceNotes:""}),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)([]);Object(n.useEffect)((()=>{b.a.get("/clinics").then((e=>h(e.data))).catch((()=>h([])))}),[]),Object(n.useEffect)((()=>{i&&o({clinicId:i.clinicId||"",equipmentName:i.equipmentName||"",modelNumber:i.modelNumber||"",manufacturer:i.manufacturer||"",purchaseDate:i.purchaseDate?i.purchaseDate.slice(0,10):"",lastServiceDate:i.lastServiceDate?i.lastServiceDate.slice(0,10):"",nextServiceDue:i.nextServiceDue?i.nextServiceDue.slice(0,10):"",status:i.status||"In Service",assignedTechnician:i.assignedTechnician||"",maintenanceNotes:i.maintenanceNotes||""})}),[i]);const u=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return Object(s.jsxs)(G.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Equipment Maintenance"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0);const t=(new Date).toISOString(),s={...r,updatedAt:t};try{await b.a.put(`/equipments/${i.id}`,s),c&&c(),a&&a()}finally{j(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:r.clinicId,onChange:u,fullWidth:!0,margin:"normal",required:!0,children:m.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Equipment Name",name:"equipmentName",value:r.equipmentName,onChange:u,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Model Number",name:"modelNumber",value:r.modelNumber,onChange:u,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Manufacturer",name:"manufacturer",value:r.manufacturer,onChange:u,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Purchase Date",name:"purchaseDate",type:"date",value:r.purchaseDate,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Last Service Date",name:"lastServiceDate",type:"date",value:r.lastServiceDate,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Next Service Due",name:"nextServiceDue",type:"date",value:r.nextServiceDue,onChange:u,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:r.status,onChange:u,fullWidth:!0,margin:"normal",children:nl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Assigned Technician",name:"assignedTechnician",value:r.assignedTechnician,onChange:u,fullWidth:!0,margin:"normal",children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Maintenance Notes",name:"maintenanceNotes",value:r.maintenanceNotes,onChange:u,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:d,children:d?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:d,children:"Cancel"})]})]})})]})};const ll={"In Service":"success","Out of Service":"error","Maintenance Due":"warning","In Maintenance":"info",Retired:"default"};var cl=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(null),[j,m]=Object(n.useState)(!1),[h,u]=Object(n.useState)(!1),[x,p]=Object(n.useState)([]),[O,S]=Object(n.useState)(""),[w,N]=Object(n.useState)(""),[D,k]=Object(n.useState)(""),[W,I]=Object(n.useState)(""),[P,T]=Object(n.useState)([]),[A,M]=Object(n.useState)(!1),[R,E]=Object(n.useState)(!1),[B,$]=Object(n.useState)({open:!1,message:"",severity:"info"}),[J,Q]=Object(n.useState)(!1),[Z,X]=Object(n.useState)(!1),[K,ee]=Object(n.useState)(!1),[te,ae]=Object(n.useState)(null),[se,ne]=Object(n.useState)(!1),[ie,le]=Object(n.useState)(null),[ce,re]=Object(n.useState)([]),[oe,de]=Object(n.useState)(!1),[je,be]=Object(n.useState)(null),[me,he]=Object(n.useState)(""),[ue,xe]=Object(n.useState)(""),[pe,Oe]=Object(n.useState)(""),fe=Object(Zi.a)("(max-width:600px)");Object(n.useEffect)((()=>{ge(),b.a.get("/clinics").then((e=>re(e.data))).catch((()=>re([])))}),[]);const ge=()=>{i(!0),d.DEMO_MODE?fetch("/demo/equipement.json").then((e=>e.json())).then((e=>{t(e),i(!1)})).catch((()=>{t([]),i(!1)})):b.a.get("/equipments").then((e=>t(e.data))).finally((()=>i(!1)))},ve=e=>{const t=ce.find((t=>t.id===e));return t?t.name:e},ye=()=>{c(null),o(null)},Ce=e.filter((e=>{var t;return(!O||(null===(t=e.equipmentName)||void 0===t?void 0:t.toLowerCase().includes(O.toLowerCase())))&&(!w||e.status===w)&&(!D||e.assignedTechnician===D)&&(!W||e.clinicId===W)})),Se=e=>!!e.nextServiceDue&&(new Date(e.nextServiceDue)<new Date&&"Retired"!==e.status),we=[{field:"clinicId",headerName:"Clinic",width:fe?120:230,renderCell:e=>ve(e.value)},{field:"equipmentName",headerName:"Equipment",width:fe?100:180},{field:"modelNumber",headerName:"Model #",width:fe?80:130},{field:"manufacturer",headerName:"Manufacturer",width:fe?90:150},{field:"purchaseDate",headerName:"Purchased On",width:fe?90:140,renderCell:e=>Ne(e.value,"info")},{field:"lastServiceDate",headerName:"Last Serviced",width:fe?90:140,renderCell:e=>Ne(e.value,"success")},{field:"nextServiceDue",headerName:"Next Service Due",width:fe?100:150,renderCell:e=>Object(s.jsx)(y.a,{title:Se(e.row)?"Overdue!":"",children:Object(s.jsxs)("span",{children:[Ne(e.value,Se(e.row)?"error":"warning"),Se(e.row)&&Object(s.jsx)(nt.a,{label:"Overdue",color:"error",size:"small",sx:{ml:1}})]})})},{field:"status",headerName:"Status",width:fe?90:140,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:ll[e.value]||"default",size:"small",variant:Se(e.row)?"filled":"outlined"})},{field:"actions",headerName:"Actions",width:fe?60:120,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{"aria-label":"more","aria-controls":"action-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{c(e.currentTarget),o(t)})(t,e.row),size:"small",children:Object(s.jsx)(dt.a,{})})})}];function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e?Object(s.jsx)(nt.a,{label:new Date(e).toLocaleDateString(),color:t,size:"small",variant:"outlined"}):""}const De=fe?{p:1,width:"100vw",maxWidth:"100vw",bgcolor:"#fff"}:{p:3,maxWidth:1200,mx:"auto",bgcolor:"#fff"};return Object(s.jsxs)(F.a,{sx:De,children:[Object(s.jsx)("div",{className:"card-header",style:{marginBottom:24},children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-tools"})," Equipment Maintenance"]})}),Object(s.jsxs)(F.a,{sx:{mb:2,mt:2,display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[Object(s.jsx)(q.a,{label:"Search Equipment",size:"small",value:O,onChange:e=>S(e.target.value),sx:{minWidth:180}}),Object(s.jsxs)(z.a,{size:"small",sx:{minWidth:120},children:[Object(s.jsx)(L.a,{children:"Status"}),Object(s.jsxs)(g.a,{value:w,label:"Status",onChange:e=>N(e.target.value),children:[Object(s.jsx)(v.a,{value:"",children:"All"}),Object.keys(ll).map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))]})]}),Object(s.jsxs)(z.a,{size:"small",sx:{minWidth:120},children:[Object(s.jsx)(L.a,{children:"Technician"}),Object(s.jsx)(g.a,{value:D,label:"Technician",onChange:e=>k(e.target.value),children:Object(s.jsx)(v.a,{value:"",children:"All"})})]}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)(ht.a,{}),sx:{minWidth:170,height:40,fontWeight:600},onClick:()=>{$({open:!0,message:"Exported equipment data (CSV/Excel)",severity:"success"})},children:"Export"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{minWidth:170,height:40,fontWeight:600},onClick:()=>{$({open:!0,message:`Deleted ${P.length} items`,severity:"success"})},disabled:0===P.length,children:"Delete Selected"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{minWidth:170,height:40,fontWeight:600},onClick:()=>{$({open:!0,message:`Updated status for ${P.length} items`,severity:"success"})},disabled:0===P.length,children:"Mark as In Maintenance"}),Object(s.jsxs)(_.a,{variant:"outlined",color:"primary",sx:{minWidth:170,height:40,fontWeight:600},onClick:()=>X(!0),children:[Object(s.jsx)("i",{className:"fas fa-plus",style:{marginRight:8}})," Create Equipment"]})]}),Object(s.jsx)("div",{className:"card-body",children:a?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:fe?400:600,width:"100%"},children:[Object(s.jsx)(qe.a,{rows:Ce,getRowId:e=>e.id,columns:we,pageSize:fe?5:10,rowsPerPageOptions:[5,10,20],checkboxSelection:!0,components:{Toolbar:ze.a},onSelectionModelChange:T,sx:{"& .MuiDataGrid-row":{bgcolor:e=>e.palette.background.paper},"& .MuiDataGrid-row.Mui-selected":{bgcolor:e=>e.palette.action.selected}}}),Object(s.jsxs)(C.a,{id:"action-menu",anchorEl:l,open:Boolean(l),onClose:ye,children:[Object(s.jsx)(v.a,{onClick:()=>{ae(r),ee(!0),ye()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:async()=>{if(r)if(window.confirm(`Are you sure you want to delete equipment "${r.equipmentName}"?`)){i(!0);try{await b.a.delete(`/equipments/${r.id}`),$({open:!0,message:"Equipment deleted successfully.",severity:"success"}),ge()}catch(e){$({open:!0,message:"Failed to delete equipment.",severity:"error"})}finally{i(!1),ye()}}else ye()},children:"Delete"}),Object(s.jsx)(v.a,{onClick:()=>{le(r),ne(!0),ye()},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{m(!0),ye()},children:"Schedule Maintenance"}),Object(s.jsx)(v.a,{onClick:()=>{be(r),de(!0),ye()},children:"Add Maintenance"})]})]})}),Object(s.jsxs)(G.a,{open:j,onClose:()=>m(!1),maxWidth:"xs",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Schedule Maintenance"}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(q.a,{label:"Date",type:"date",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),Object(s.jsxs)(z.a,{fullWidth:!0,margin:"normal",children:[Object(s.jsx)(L.a,{children:"Technician"}),Object(s.jsx)(g.a,{label:"Technician"})]}),Object(s.jsx)(q.a,{label:"Notes",fullWidth:!0,margin:"normal",multiline:!0,rows:2})]}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>m(!1),children:"Cancel"}),Object(s.jsx)(_.a,{variant:"contained",onClick:()=>{m(!1),$({open:!0,message:"Maintenance scheduled",severity:"success"})},children:"Schedule"})]})]}),Object(s.jsx)(ct.a,{anchor:"right",open:h,onClose:()=>u(!1),children:Object(s.jsxs)(F.a,{sx:{width:fe?280:400,p:2},children:[Object(s.jsx)(U.a,{variant:"h6",gutterBottom:!0,children:"Maintenance History"}),0===x.length?Object(s.jsx)(U.a,{children:"No history available."}):x.map(((e,t)=>Object(s.jsxs)(F.a,{sx:{mb:2,p:1,border:"1px solid #eee",borderRadius:1},children:[Object(s.jsx)(U.a,{variant:"subtitle2",children:e.date?new Date(e.date).toLocaleDateString():"-"}),Object(s.jsxs)(U.a,{variant:"body2",children:["Technician: ",e.technician||"-"]}),Object(s.jsxs)(U.a,{variant:"body2",children:["Notes: ",e.notes||"-"]})]},t)))]})}),Object(s.jsxs)(G.a,{open:A,onClose:()=>M(!1),maxWidth:"xs",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Assign Technician"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)(z.a,{fullWidth:!0,margin:"normal",children:[Object(s.jsx)(L.a,{children:"Technician"}),Object(s.jsx)(g.a,{label:"Technician"})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>M(!1),children:"Cancel"}),Object(s.jsx)(_.a,{variant:"contained",onClick:()=>{M(!1),$({open:!0,message:"Technician assigned",severity:"success"})},children:"Assign"})]})]}),Object(s.jsxs)(G.a,{open:R,onClose:()=>E(!1),maxWidth:"xs",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Attach File"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)(_.a,{variant:"contained",component:"label",startIcon:Object(s.jsx)(Ki.a,{}),children:["Upload File",Object(s.jsx)("input",{type:"file",hidden:!0})]})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>E(!1),children:"Close"})})]}),Object(s.jsxs)(G.a,{open:J,onClose:()=>Q(!1),maxWidth:"xs",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Equipment QR Code"}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(F.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:120},children:Object(s.jsx)(tl.a,{sx:{fontSize:80}})}),Object(s.jsx)(U.a,{align:"center",variant:"caption",children:"Scan to identify equipment"})]}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>Q(!1),children:"Close"})})]}),Object(s.jsx)(sl,{open:Z,onClose:()=>X(!1),technicians:[],clinics:[],onSuccess:ge}),Object(s.jsx)(il,{open:K,onClose:()=>ee(!1),equipment:te,technicians:[],clinics:[],onSuccess:ge}),Object(s.jsxs)(G.a,{open:se,onClose:()=>ne(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)("i",{className:"fas fa-tools",style:{color:"#1976d2",fontSize:24}}),Object(s.jsx)("span",{children:"Equipment Details"})]})}),Object(s.jsx)(H.a,{children:ie?Object(s.jsxs)(F.a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,py:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,minWidth:260},children:[Object(s.jsx)(U.a,{variant:"h6",sx:{color:"#1976d2",mb:2},children:ie.equipmentName}),Object(s.jsxs)(F.a,{component:"ul",sx:{listStyle:"none",p:0,m:0},children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Clinic:"})," ",ve(ie.clinicId)]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Model Number:"})," ",ie.modelNumber||Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Manufacturer:"})," ",ie.manufacturer||Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Purchase Date:"})," ",ie.purchaseDate?new Date(ie.purchaseDate).toLocaleDateString():Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Last Service Date:"})," ",ie.lastServiceDate?new Date(ie.lastServiceDate).toLocaleDateString():Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Next Service Due:"})," ",ie.nextServiceDue?new Date(ie.nextServiceDue).toLocaleDateString():Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Status:"})," ",Object(s.jsx)(nt.a,{label:ie.status,color:ll[ie.status]||"default",size:"small",sx:{fontWeight:600}})]})]})]}),Object(s.jsxs)(F.a,{sx:{flex:1,minWidth:260,bgcolor:"#f5faff",borderRadius:2,p:2,display:"flex",flexDirection:"column",gap:1,boxShadow:1},children:[Object(s.jsx)(U.a,{variant:"subtitle1",sx:{color:"#1976d2",mb:1},children:"Additional Info"}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)("b",{children:"Assigned Technician:"})," ",ie.assignedTechnician||Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)("b",{children:"Notes:"}),Object(s.jsx)(U.a,{variant:"body2",sx:{color:"#444",mt:.5},children:ie.maintenanceNotes||Object(s.jsx)("span",{style:{color:"#888"},children:"No notes."})})]})]})]}):Object(s.jsx)(U.a,{children:"No equipment selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>ne(!1),color:"secondary",variant:"outlined",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:oe,onClose:()=>de(!1),maxWidth:"xs",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Maintenance Record"}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(q.a,{label:"Date",type:"date",value:me,onChange:e=>he(e.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),Object(s.jsxs)(z.a,{fullWidth:!0,margin:"normal",children:[Object(s.jsx)(L.a,{children:"Type"}),Object(s.jsx)(g.a,{value:ue,label:"Type",onChange:e=>xe(e.target.value),children:["Routine Check","Repair","Calibration","Cleaning","Software Update","Other"].map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))})]}),Object(s.jsx)(q.a,{label:"Notes",value:pe,onChange:e=>Oe(e.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:2})]}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>de(!1),children:"Cancel"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:async()=>{if(je){i(!0);try{const e=[...je.maintenanceHistory||[],{date:me,type:ue,notes:pe}];await b.a.put(`/equipments/${je.id}`,{...je,maintenanceHistory:e,status:"In Maintenance"}),$({open:!0,message:"Maintenance record added.",severity:"success"}),ge()}catch(e){$({open:!0,message:"Failed to add maintenance record.",severity:"error"})}finally{i(!1),de(!1),he(""),xe(""),Oe("")}}},disabled:!me||!ue,sx:{fontWeight:600,minWidth:100},children:"Add"})]})]}),Object(s.jsx)(rt.a,{open:B.open,autoHideDuration:3e3,onClose:()=>$({...B,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(s.jsx)(lt.a,{onClose:()=>$({...B,open:!1}),severity:B.severity,sx:{width:"100%"},children:B.message})})]})};const rl=["Active","Expired","Pending"];var ol=e=>{let{open:t,onClose:a,onSuccess:i}=e;const[l,c]=Object(n.useState)({patientId:"",providerName:"",policyNumber:"",coverageDetails:{maxAnnualCoverage:"",treatmentCoverage:"",medicationCoverage:"",consultationCoverage:""},validFrom:"",validUntil:"",status:"Active"}),[r,o]=Object(n.useState)(!1),d=e=>{const{name:t,value:a}=e.target;t in l.coverageDetails?c((e=>({...e,coverageDetails:{...e.coverageDetails,[t]:a}}))):c((e=>({...e,[t]:a})))};return Object(s.jsxs)(G.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Insurance Policy"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);const t=(new Date).toISOString(),s={...l,id:Math.random().toString(36).substr(2,9),coverageDetails:{maxAnnualCoverage:Number(l.coverageDetails.maxAnnualCoverage),treatmentCoverage:Number(l.coverageDetails.treatmentCoverage),medicationCoverage:Number(l.coverageDetails.medicationCoverage),consultationCoverage:Number(l.coverageDetails.consultationCoverage)},createdAt:t,updatedAt:t};try{await b.a.post("/insurances",s),i&&i(),a&&a()}finally{o(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{label:"Patient ID",name:"patientId",value:l.patientId,onChange:d,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Provider Name",name:"providerName",value:l.providerName,onChange:d,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Policy Number",name:"policyNumber",value:l.policyNumber,onChange:d,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(U.a,{variant:"subtitle1",sx:{mt:2},children:"Coverage Details"}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2},children:[Object(s.jsx)(q.a,{label:"Max Annual Coverage",name:"maxAnnualCoverage",type:"number",value:l.coverageDetails.maxAnnualCoverage,onChange:d,required:!0}),Object(s.jsx)(q.a,{label:"Treatment (%)",name:"treatmentCoverage",type:"number",value:l.coverageDetails.treatmentCoverage,onChange:d,required:!0}),Object(s.jsx)(q.a,{label:"Medication (%)",name:"medicationCoverage",type:"number",value:l.coverageDetails.medicationCoverage,onChange:d,required:!0}),Object(s.jsx)(q.a,{label:"Consultation (%)",name:"consultationCoverage",type:"number",value:l.coverageDetails.consultationCoverage,onChange:d,required:!0})]}),Object(s.jsx)(q.a,{label:"Valid From",name:"validFrom",type:"date",value:l.validFrom,onChange:d,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{label:"Valid Until",name:"validUntil",type:"date",value:l.validUntil,onChange:d,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:l.status,onChange:d,fullWidth:!0,margin:"normal",children:rl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:r,children:r?"Saving...":"Create Insurance"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:r,children:"Cancel"})]})]})})]})};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var dl=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!1),[r,o]=Object(n.useState)(null),[d,j]=Object(n.useState)(null),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(null);Object(n.useEffect)((()=>{i(!0),b.a.get("/insurances").then((e=>t(e.data))).finally((()=>i(!1)))}),[]);const p=()=>{o(null),j(null)},O=e.length,g=e.filter((e=>"Active"===e.status)).length,S=e.filter((e=>"Expired"===e.status)).length,w=e.reduce(((e,t)=>(e[t.providerName]=(e[t.providerName]||0)+1,e)),{}),N={labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},D={labels:Object.keys(w),datasets:[{label:"Policies per Provider",data:Object.values(w),backgroundColor:"#1976d2"}]},k={labels:Object.keys(w),datasets:[{label:"Active",data:Object.keys(w).map((t=>e.filter((e=>e.providerName===t&&"Active"===e.status)).length)),borderColor:"#43a047",fill:!1},{label:"Expired",data:Object.keys(w).map((t=>e.filter((e=>e.providerName===t&&"Expired"===e.status)).length)),borderColor:"#e53935",fill:!1}]},W=[{field:"providerName",headerName:"Provider",width:160},{field:"policyNumber",headerName:"Policy No.",width:180},{field:"validFrom",headerName:"Valid From",width:120,valueFormatter:e=>{let{value:t}=e;return new Date(t).toLocaleDateString()}},{field:"validUntil",headerName:"Valid Until",width:120,valueFormatter:e=>{let{value:t}=e;return new Date(t).toLocaleDateString()}},{field:"status",headerName:"Status",width:120,renderCell:e=>{let{value:t}=e;return Object(s.jsx)(nt.a,{label:t,color:"Active"===t?"success":"default",size:"small"})}},{field:"actions",headerName:"Actions",width:100,renderCell:e=>Object(s.jsx)(y.a,{title:"Actions",children:Object(s.jsx)(f.a,{size:"small",onClick:t=>{return a=t,s=e.row,o(a.currentTarget),void j(s);var a,s},color:"primary",children:Object(s.jsx)(dt.a,{})})})}],I=e=>{var t,a,n;let{coverageDetails:i,insurance:l}=e;if(!i||"object"!==typeof i)return Object(s.jsx)(F.a,{sx:{p:3,textAlign:"center"},children:Object(s.jsxs)(U.a,{color:"error",fontWeight:600,sx:{mb:2},children:[Object(s.jsx)("i",{className:"fas fa-exclamation-circle",style:{marginRight:8}}),"No coverage details available."]})});const c=[{label:`Consultation: ${null!==(t=i.consultationCoverage)&&void 0!==t?t:"N/A"}%`,color:"primary",icon:Object(s.jsx)("i",{className:"fas fa-user-md"})},{label:`Treatment: ${null!==(a=i.treatmentCoverage)&&void 0!==a?a:"N/A"}%`,color:"success",icon:Object(s.jsx)("i",{className:"fas fa-stethoscope"})},{label:`Medication: ${null!==(n=i.medicationCoverage)&&void 0!==n?n:"N/A"}%`,color:"info",icon:Object(s.jsx)("i",{className:"fas fa-pills"})}],r=Object.entries(i).filter((e=>{let[t]=e;return!["consultationCoverage","treatmentCoverage","medicationCoverage"].includes(t)}));return Object(s.jsxs)(F.a,{sx:{p:{xs:1,sm:3},bgcolor:"#fafdff",borderRadius:2,boxShadow:1,minHeight:200},children:[Object(s.jsxs)(U.a,{variant:"h5",color:"primary",fontWeight:700,gutterBottom:!0,sx:{mb:2},children:[Object(s.jsx)("i",{className:"fas fa-eye",style:{marginRight:10}}),"Coverage Details"]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Provider: ${(null===l||void 0===l?void 0:l.providerName)||"N/A"}`,color:"primary",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Policy No: ${(null===l||void 0===l?void 0:l.policyNumber)||"N/A"}`,color:"info",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Patient: ${(null===l||void 0===l?void 0:l.patientFullName)||"N/A"}`,color:"success",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Status: ${(null===l||void 0===l?void 0:l.status)||"N/A"}`,color:"Active"===(null===l||void 0===l?void 0:l.status)?"success":"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsxs)(E.a,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:2,flexWrap:"wrap"},children:[Object(s.jsx)(nt.a,{label:`Valid From: ${(null===l||void 0===l?void 0:l.validFrom)?new Date(l.validFrom).toLocaleDateString():"N/A"}`,color:"default",sx:{fontWeight:600,fontSize:15}}),Object(s.jsx)(nt.a,{label:`Valid Until: ${(null===l||void 0===l?void 0:l.validUntil)?new Date(l.validUntil).toLocaleDateString():"N/A"}`,color:"default",sx:{fontWeight:600,fontSize:15}})]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,sx:{mb:1},children:"Coverage Percentages:"}),Object(s.jsx)(E.a,{direction:"row",spacing:2,sx:{mb:2,flexWrap:"wrap"},children:c.map((e=>Object(s.jsx)(nt.a,{label:e.label,color:e.color,icon:e.icon,sx:{fontWeight:600,fontSize:16,minWidth:170,mb:1}},e.label)))}),r.length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Additional Info:"}),Object(s.jsx)(E.a,{spacing:1,direction:"row",flexWrap:"wrap",children:r.map((e=>{let[t,a]=e;return Object(s.jsx)(nt.a,{label:`${t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))}: ${a}`,color:"warning",variant:"outlined",sx:{fontWeight:600,fontSize:15,mb:1,mr:1}},t)}))})]})]})};return Object(s.jsxs)(Mt.a,{elevation:4,sx:{p:3,bgcolor:"#f5f7fa",minHeight:"100vh"},children:[Object(s.jsxs)(F.a,{sx:{mb:3},children:[Object(s.jsxs)(U.a,{variant:"h4",color:"primary",fontWeight:700,gutterBottom:!0,children:[Object(s.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:10}})," Insurance Records"]}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:3},children:[Object(s.jsxs)(Mt.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},elevation:2,children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Policies"}),Object(s.jsx)(U.a,{variant:"h6",children:O})]}),Object(s.jsxs)(Mt.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},elevation:2,children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Active"}),Object(s.jsx)(U.a,{variant:"h6",children:g})]}),Object(s.jsxs)(Mt.a,{sx:{flex:1,bgcolor:"#ffebee",p:2,borderRadius:2,textAlign:"center"},elevation:2,children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"error.main",children:"Expired"}),Object(s.jsx)(U.a,{variant:"h6",children:S})]})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(Mt.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},elevation:1,children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",fontWeight:600,children:"Policies by Provider"}),Object(s.jsx)(le.c,{data:N})]}),Object(s.jsxs)(Mt.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},elevation:1,children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",fontWeight:600,children:"Policies per Provider"}),Object(s.jsx)(le.a,{data:D})]}),Object(s.jsxs)(Mt.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},elevation:1,children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",fontWeight:600,children:"Status Trends by Provider"}),Object(s.jsx)(le.d,{data:k})]})]}),Object(s.jsxs)(F.a,{className:"card-body",sx:{mt:2},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,fontWeight:600,boxShadow:2},onClick:()=>c(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create Insurance"}),a?Object(s.jsx)(Ee.a,{sx:{my:3}}):Object(s.jsxs)(F.a,{sx:{height:550,width:"100%",bgcolor:"#fff",borderRadius:2,boxShadow:1},children:[Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:W,pageSize:5,rowsPerPageOptions:[5,10],checkboxSelection:!0,components:{Toolbar:ze.a},sx:{border:0,"& .MuiDataGrid-columnHeaders":{bgcolor:"#f5f5f5",fontWeight:700},"& .MuiDataGrid-row":{bgcolor:"#f9f9f9"},"& .MuiDataGrid-cell":{fontSize:15}}}),Object(s.jsxs)(C.a,{anchorEl:r,open:Boolean(r),onClose:p,children:[Object(s.jsxs)(v.a,{onClick:()=>{(e=>{if(e){let t="";"object"===typeof e?Object.entries(e).forEach((e=>{let[a,s]=e;const n=a.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).replace("Coverage"," Coverage");t+=`${n}: ${s}%\n`})):t="No coverage details available.",x({title:"Coverage Details",content:t.trim()})}else x({title:"Coverage Details",content:"No coverage details available."});h(!0)})(d.coverageDetails),p()},children:[Object(s.jsx)("i",{className:"fas fa-eye",style:{marginRight:8,color:"#ffa000"}}),"View Coverage"]}),Object(s.jsxs)(v.a,{onClick:()=>{x({title:"Policy Details",content:`Policy Number: ${d.policyNumber}`}),h(!0),p()},children:[Object(s.jsx)("i",{className:"fas fa-id-card",style:{marginRight:8,color:"#8e24aa"}}),"View Policy Details"]}),Object(s.jsxs)(v.a,{onClick:()=>{x({title:"Download",content:`Download for policy ${d.policyNumber} started.`}),h(!0),p()},children:[Object(s.jsx)("i",{className:"fas fa-download",style:{marginRight:8,color:"#00bcd4"}}),"Download Policy PDF"]}),Object(s.jsxs)(v.a,{onClick:()=>{x({title:"Renewal Reminder",content:`Send renewal reminder to ${d.patientFullName}`}),h(!0),p()},children:[Object(s.jsx)("i",{className:"fas fa-bell",style:{marginRight:8,color:"#e53935"}}),"Send Renewal Reminder"]})]})]}),Object(s.jsxs)(G.a,{open:m,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{sx:{fontWeight:700},children:null===u||void 0===u?void 0:u.title}),Object(s.jsx)(H.a,{children:"Coverage Details"===(null===u||void 0===u?void 0:u.title)&&d?Object(s.jsx)(I,{coverageDetails:d.coverageDetails,insurance:d}):Object(s.jsx)(U.a,{sx:{fontSize:16,color:"#1976d2",fontWeight:600},children:null===u||void 0===u?void 0:u.content})})]})]}),Object(s.jsx)(ol,{open:l,onClose:()=>c(!1),onSuccess:()=>{c(!1),b.a.get("/insurances").then((e=>t(e.data)))}})]})};var jl=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(!1);Object(n.useEffect)((()=>{i(!0),b.a.get("/legalcompliance").then((e=>t(e.data))).finally((()=>i(!1)))}),[]);const l=[{field:"id",headerName:"ID",width:70},{field:"patientId",headerName:"Patient ID",width:250},{field:"documentType",headerName:"Document Type",width:150},{field:"signedDate",headerName:"Signed Date",width:140,valueFormatter:e=>{let{value:t}=e;return new Date(t).toLocaleDateString()}},{field:"expiryDate",headerName:"Expiry Date",width:140,valueFormatter:e=>{let{value:t}=e;return t?new Date(t).toLocaleDateString():"N/A"}},{field:"status",headerName:"Status",width:120,renderCell:e=>{let{value:t}=e;return Object(s.jsx)(nt.a,{label:t,color:"Signed"===t?"success":"warning",size:"small"})}},{field:"documentUrl",headerName:"View Document",width:180,renderCell:e=>{let{value:t}=e;return Object(s.jsx)(Fa.a,{href:t,target:"_blank",rel:"noopener",children:"View PDF"})}}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-file-signature"})," Legal Compliance Documents"]})}),Object(s.jsx)("div",{className:"card-body",children:a?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:500,width:"100%"},children:Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:l,pageSize:5,rowsPerPageOptions:[5,10],checkboxSelection:!0,components:{Toolbar:ze.a}})})})]})};var bl=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),d=Object(n.useRef)(null),j=Object(n.useRef)(null),m=()=>{o(!0),b.a.get("/loyalty").then((e=>{const a=e.data.map((e=>({...e,earnedFrom:JSON.parse(e.earnedFrom),redeemedRewards:JSON.parse(e.redeemedRewards)})));t(a)})).finally((()=>o(!1)))};Object(n.useEffect)((()=>{m()}),[]);const h=()=>{m()},u=[{field:"id",headerName:"ID",width:70},{field:"patientId",headerName:"Patient ID",width:220},{field:"points",headerName:"Total Points",width:120},{field:"earnedFrom",headerName:"Points Earned From",width:400,renderCell:e=>e.value.map(((e,t)=>Object(s.jsxs)("div",{children:[e.activity,": ",e.pointsEarned," pts (",new Date(e.date).toLocaleDateString(),")"]},t)))},{field:"redeemedRewards",headerName:"Redeemed Rewards",width:400,renderCell:e=>e.value.length>0?e.value.map(((e,t)=>Object(s.jsxs)("div",{children:[e.rewardName,": ",e.pointsUsed," pts (",new Date(e.redeemedDate).toLocaleDateString(),")"]},t))):Object(s.jsx)("span",{children:"No rewards redeemed"})},{field:"createdAt",headerName:"Created At",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"updatedAt",headerName:"Updated At",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-gift"})," Loyalty Points"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("button",{type:"button",className:"btn btn-success btn-sm","data-toggle":"modal","data-target":"#addLoyaltyModal",children:[Object(s.jsx)("i",{className:"far fa-plus-square"})," Add Loyalty"]}),Object(s.jsxs)("button",{type:"button",className:"btn btn-warning btn-sm","data-toggle":"modal","data-target":"#editLoyaltyModal",disabled:!a,children:[Object(s.jsx)("i",{className:"fas fa-edit"})," Edit"]}),Object(s.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{l&&window.confirm("Are you sure you want to delete this loyalty record?")&&b.a.delete(`/loyalty/${l}`).then((()=>h()))},disabled:!l,children:[Object(s.jsx)("i",{className:"fas fa-trash-alt"})," Remove"]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:480,width:"100%",marginTop:"10px"},children:Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:u,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{className:"modal fade",id:"addLoyaltyModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Add Loyalty Points"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:h,ref:d,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:h,ref:d,children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editLoyaltyModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Loyalty Points"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:h,ref:j,children:"Close"})})]})})})]})]})};var ml=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),d=Object(n.useRef)(null),j=Object(n.useRef)(null),m=()=>{o(!0),b.a.get("https://your-api-url.com/marketing").then((e=>t(e.data))).finally((()=>o(!1)))};Object(n.useEffect)((()=>{m()}),[]);const h=()=>{m()},u=[{field:"id",headerName:"ID",width:70},{field:"campaignName",headerName:"Campaign Name",width:200},{field:"campaignType",headerName:"Type",width:130},{field:"targetAudience",headerName:"Target Audience",width:300,renderCell:e=>{const t=e.value||{};return`Age: ${t.ageGroup||"-"}, Last Visit: ${t.lastVisitDate||"-"}, Treatment: ${t.treatmentHistory||"-"}`}},{field:"messageTemplate",headerName:"Message",width:250},{field:"scheduleDate",headerName:"Scheduled Date",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"status",headerName:"Status",width:130},{field:"performanceMetrics",headerName:"Performance",width:300,renderCell:e=>{var t,a,s;const n=e.value||{};return`Open Rate: ${null!==(t=n.openRate)&&void 0!==t?t:"-"}, Click-Through: ${null!==(a=n.clickThroughRate)&&void 0!==a?a:"-"}, Conversion: ${null!==(s=n.conversionRate)&&void 0!==s?s:"-"}`}},{field:"createdAt",headerName:"Created At",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()},{field:"updatedAt",headerName:"Updated At",width:180,valueFormatter:e=>new Date(e.value).toLocaleString()}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-bullhorn"})," Marketing Campaigns"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("button",{type:"button",className:"btn btn-success btn-sm","data-toggle":"modal","data-target":"#addCampaignModal",children:[Object(s.jsx)("i",{className:"far fa-plus-square"})," Create Campaign"]}),Object(s.jsxs)("button",{type:"button",className:"btn btn-warning btn-sm","data-toggle":"modal","data-target":"#editCampaignModal",disabled:!a,children:[Object(s.jsx)("i",{className:"fas fa-edit"})," Edit"]}),Object(s.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{l&&window.confirm("Are you sure you want to delete this campaign?")&&b.a.delete(`https://your-api-url.com/marketing/${l}`).then((()=>h()))},disabled:!l,children:[Object(s.jsx)("i",{className:"fas fa-trash-alt"})," Delete"]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsx)("div",{style:{height:480,width:"100%",marginTop:"10px"},children:Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:u,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}})}),Object(s.jsx)("div",{className:"modal fade",id:"addCampaignModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Create New Campaign"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:h,ref:d,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:h,ref:d,children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editCampaignModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Campaign"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body"}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:h,ref:j,children:"Close"})})]})})})]})]})};const hl=["Admin","Dentist","Assistant","Receptionist","Accountant"],ul=["View Patients","Edit Patients","View Appointments","Edit Appointments","View Billing","Edit Billing","Manage Inventory","Manage Staff"],xl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pl=["Active","Inactive"];var Ol=e=>{let{closeModal:t}=e;const[a,i]=Object(n.useState)({fullName:"",role:"",email:"",phone:"",shiftSchedule:{Mon:{start:"",end:""},Tue:{start:"",end:""},Wed:{start:"",end:""},Thu:{start:"",end:""},Fri:{start:"",end:""},Sat:{start:"",end:""},Sun:{start:"",end:""}},permissions:[],status:"Active"}),[l,c]=Object(n.useState)(!1),r=e=>{const{name:t,value:a}=e.target;i((e=>({...e,[t]:a})))},o=(e,t,a)=>{i((s=>({...s,shiftSchedule:{...s.shiftSchedule,[e]:{...s.shiftSchedule[e],[t]:a}}})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),c(!0);const s=(new Date).toISOString(),n={fullName:a.fullName,role:a.role,email:a.email,phone:a.phone,shiftSchedule:a.shiftSchedule,permissions:a.permissions,status:a.status,createdAt:s,updatedAt:s};try{await b.a.post("/staff",n),t&&t()}finally{c(!1)}},autoComplete:"off",sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Full Name",name:"fullName",value:a.fullName,onChange:r,fullWidth:!0,required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Role",name:"role",value:a.role,onChange:r,fullWidth:!0,required:!0,children:hl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Email",name:"email",value:a.email,onChange:r,fullWidth:!0,type:"email",required:!0}),Object(s.jsx)(q.a,{label:"Phone",name:"phone",value:a.phone,onChange:r,fullWidth:!0,required:!0}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mb:1},children:"Shift Schedule"}),Object(s.jsx)(E.a,{spacing:1,children:xl.map((e=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(U.a,{sx:{width:40},children:e}),Object(s.jsx)(q.a,{label:"Start",type:"time",size:"small",value:a.shiftSchedule[e].start,onChange:t=>o(e,"start",t.target.value),InputLabelProps:{shrink:!0},sx:{width:120}}),Object(s.jsx)(q.a,{label:"End",type:"time",size:"small",value:a.shiftSchedule[e].end,onChange:t=>o(e,"end",t.target.value),InputLabelProps:{shrink:!0},sx:{width:120}})]},e)))})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mb:1},children:"Permissions"}),Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ul.map((e=>Object(s.jsx)(nt.a,{label:e,color:a.permissions.includes(e)?"primary":"default",variant:a.permissions.includes(e)?"filled":"outlined",onClick:()=>(e=>{i((t=>({...t,permissions:t.permissions.includes(e)?t.permissions.filter((t=>t!==e)):[...t.permissions,e]})))})(e),sx:{cursor:"pointer"}},e)))})]}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:a.status,onChange:r,fullWidth:!0,required:!0,children:pl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:l,children:l?"Saving...":"Add Staff"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:l,children:"Cancel"})]})]})})};const fl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var gl=e=>{let{staff:t,open:a,onClose:n}=e;return t?Object(s.jsxs)(G.a,{open:a,onClose:n,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"View Staff Member"}),Object(s.jsx)(H.a,{dividers:!0,children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Full Name:"})," ",t.fullName]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Role:"})," ",t.role]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Email:"})," ",t.email]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Phone:"})," ",t.phone]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Status:"})," ",t.status]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{sx:{mb:1},children:Object(s.jsx)("strong",{children:"Shift Schedule:"})}),Object(s.jsx)(E.a,{spacing:.5,children:fl.map((e=>{var a,n,i,l,c,r;return Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(U.a,{sx:{width:40},children:e}),Object(s.jsx)(nt.a,{label:(null===(a=t.shiftSchedule)||void 0===a||null===(n=a[e])||void 0===n?void 0:n.start)&&(null===(i=t.shiftSchedule)||void 0===i||null===(l=i[e])||void 0===l?void 0:l.end)?`${t.shiftSchedule[e].start} - ${t.shiftSchedule[e].end}`:"Off",color:(null===(c=t.shiftSchedule)||void 0===c||null===(r=c[e])||void 0===r?void 0:r.start)?"primary":"default",size:"small"})]},e)}))})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{sx:{mb:1},children:Object(s.jsx)("strong",{children:"Permissions:"})}),Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(t.permissions||[]).map((e=>Object(s.jsx)(nt.a,{label:e,color:"success",size:"small"},e)))})]})]})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:n,variant:"outlined",color:"primary",children:"Close"})})]}):null};const vl=["Admin","Dentist","Assistant","Receptionist","Accountant"],yl=["View Patients","Edit Patients","View Appointments","Edit Appointments","View Billing","Edit Billing","Manage Inventory","Manage Staff"],Cl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Sl=["Active","Inactive","On Leave"];var wl=e=>{let{staff:t,closeModal:a}=e;const[i,l]=Object(n.useState)({fullName:"",role:"",email:"",phone:"",shiftSchedule:{Mon:{start:"",end:""},Tue:{start:"",end:""},Wed:{start:"",end:""},Thu:{start:"",end:""},Fri:{start:"",end:""},Sat:{start:"",end:""},Sun:{start:"",end:""}},permissions:[],status:"Active"}),[c,r]=Object(n.useState)(!1);Object(n.useEffect)((()=>{t&&l({fullName:t.fullName||"",role:t.role||"",email:t.email||"",phone:t.phone||"",shiftSchedule:t.shiftSchedule||{Mon:{start:"",end:""},Tue:{start:"",end:""},Wed:{start:"",end:""},Thu:{start:"",end:""},Fri:{start:"",end:""},Sat:{start:"",end:""},Sun:{start:"",end:""}},permissions:t.permissions||[],status:t.status||"Active"})}),[t]);const o=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))},d=(e,t,a)=>{l((s=>({...s,shiftSchedule:{...s.shiftSchedule,[e]:{...s.shiftSchedule[e],[t]:a}}})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={fullName:i.fullName,role:i.role,email:i.email,phone:i.phone,shiftSchedule:i.shiftSchedule,permissions:i.permissions,status:i.status,updatedAt:s};try{await b.a.put(`/staff/${t.id}`,n),a&&a()}finally{r(!1)}},autoComplete:"off",sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Full Name",name:"fullName",value:i.fullName,onChange:o,fullWidth:!0,required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Role",name:"role",value:i.role,onChange:o,fullWidth:!0,required:!0,children:vl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Email",name:"email",value:i.email,onChange:o,fullWidth:!0,type:"email",required:!0}),Object(s.jsx)(q.a,{label:"Phone",name:"phone",value:i.phone,onChange:o,fullWidth:!0,required:!0}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mb:1},children:"Shift Schedule"}),Object(s.jsx)(E.a,{spacing:1,children:Cl.map((e=>Object(s.jsxs)(E.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(s.jsx)(U.a,{sx:{width:40},children:e}),Object(s.jsx)(q.a,{label:"Start",type:"time",size:"small",value:i.shiftSchedule[e].start,onChange:t=>d(e,"start",t.target.value),InputLabelProps:{shrink:!0},sx:{width:120}}),Object(s.jsx)(q.a,{label:"End",type:"time",size:"small",value:i.shiftSchedule[e].end,onChange:t=>d(e,"end",t.target.value),InputLabelProps:{shrink:!0},sx:{width:120}})]},e)))})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mb:1},children:"Permissions"}),Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:yl.map((e=>Object(s.jsx)(nt.a,{label:e,color:i.permissions.includes(e)?"primary":"default",variant:i.permissions.includes(e)?"filled":"outlined",onClick:()=>(e=>{l((t=>({...t,permissions:t.permissions.includes(e)?t.permissions.filter((t=>t!==e)):[...t.permissions,e]})))})(e),sx:{cursor:"pointer"}},e)))})]}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:o,fullWidth:!0,required:!0,children:Sl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:c,children:c?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:c,children:"Cancel"})]})]})})};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var Nl=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)(!1),p=Object(n.useRef)(null),O=Object(n.useRef)(null),g=()=>{o(!0),b.a.get("/staff").then((e=>t(e.data))).finally((()=>o(!1)))};Object(n.useEffect)((()=>{g()}),[]);const y=()=>{g()},S=()=>{l&&window.confirm("Are you sure you want to delete this staff member?")&&b.a.delete(`/staff/${l}`).then((()=>y()))},w=()=>{j(null),h(null)},N=e.length,D=e.filter((e=>"Active"===e.status)).length,k=e.filter((e=>"On Leave"===e.status)).length,W=e.filter((e=>"Inactive"===e.status)).length,I=e.reduce(((e,t)=>{const a=t.role||"Other";return e[a]=(e[a]||0)+1,e}),{}),P={labels:Object.keys(I),datasets:[{data:Object.values(I),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},T={labels:Object.keys(I),datasets:[{label:"Staff per Role",data:Object.values(I),backgroundColor:"#1976d2"}]},A={labels:Object.keys(I),datasets:[{label:"Active",data:Object.keys(I).map((t=>e.filter((e=>(e.role||"Other")===t&&"Active"===e.status)).length)),borderColor:"#43a047",fill:!1},{label:"On Leave",data:Object.keys(I).map((t=>e.filter((e=>(e.role||"Other")===t&&"On Leave"===e.status)).length)),borderColor:"#ffa000",fill:!1},{label:"Inactive",data:Object.keys(I).map((t=>e.filter((e=>(e.role||"Other")===t&&"Inactive"===e.status)).length)),borderColor:"#e53935",fill:!1}]},M=[{field:"fullName",headerName:"Full Name",width:200},{field:"role",headerName:"Role",width:130},{field:"email",headerName:"Email",width:230},{field:"phone",headerName:"Phone",width:150},{field:"status",headerName:"Status",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Active"===e.value?"success":"Inactive"===e.value?"default":"On Leave"===e.value?"warning":"primary",variant:"outlined",size:"small"})},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{size:"small",onClick:t=>{return a=t,s=e.row,j(a.currentTarget),void h(s);var a,s},children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-user-md"})," Staff"]})}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Staff"}),Object(s.jsx)(U.a,{variant:"h6",children:N})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Active"}),Object(s.jsx)(U.a,{variant:"h6",children:D})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"On Leave"}),Object(s.jsx)(U.a,{variant:"h6",children:k})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#ffebee",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"error.main",children:"Inactive"}),Object(s.jsx)(U.a,{variant:"h6",children:W})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Staff by Role"}),Object(s.jsx)(le.c,{data:P})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Staff per Role"}),Object(s.jsx)(le.a,{data:T})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Status Trends by Role"}),Object(s.jsx)(le.d,{data:A})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:2},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)("i",{className:"far fa-plus-square"}),onClick:()=>document.querySelector('[data-target="#addStaffModal"]').click(),sx:{fontWeight:600,minWidth:120},children:"Add Staff"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),onClick:()=>document.querySelector('[data-target="#editStaffModal"]').click(),disabled:!a,sx:{fontWeight:600,minWidth:120},children:"Edit"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),onClick:S,disabled:!l,sx:{fontWeight:600,minWidth:120},children:"Delete"})]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:480,width:"100%",marginTop:"10px"},children:[Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:M,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}}),Object(s.jsxs)(C.a,{anchorEl:d,open:Boolean(d),onClose:w,children:[Object(s.jsx)(v.a,{onClick:()=>{i(m),x(!0),w()},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{i(m),c(m.id),document.querySelector('[data-target="#editStaffModal"]').click(),w()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{i(m),c(m.id),S(),w()},children:"Delete"})]})]}),Object(s.jsx)("div",{className:"modal fade",id:"addStaffModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Add New Staff"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:y,ref:p,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(Ol,{closeModal:()=>p.current.click()})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:y,ref:p,children:"Close"})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"editStaffModal",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"Edit Staff"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(wl,{staff:a,closeModal:()=>O.current.click()})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:y,ref:O,children:"Close"})})]})})}),Object(s.jsx)(gl,{staff:a,open:u,onClose:()=>x(!1)})]})]})};const Dl=["Local","General","Sedation","None"],kl=["Scheduled","Completed","Cancelled"];var Wl=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({procedureName:"",procedureDate:"",duration:"",anesthesiaType:"",notes:"",status:"Scheduled"}),[c,r]=Object(n.useState)(!1),o=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={procedureName:i.procedureName,procedureDate:new Date(i.procedureDate).toISOString(),duration:Number(i.duration),anesthesiaType:i.anesthesiaType,notes:i.notes,status:i.status,createdAt:s,updatedAt:s};console.log("Procedure object to send:",n);try{await b.a.post("/procedures",n),a&&a(n),t&&t()}finally{r(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Procedure Name",name:"procedureName",value:i.procedureName,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Procedure Date & Time",name:"procedureDate",type:"datetime-local",value:i.procedureDate,onChange:o,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Duration (minutes)",name:"duration",type:"number",value:i.duration,onChange:o,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Anesthesia Type",name:"anesthesiaType",value:i.anesthesiaType,onChange:o,required:!0,fullWidth:!0,children:Dl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:i.notes,onChange:o,multiline:!0,rows:2,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:o,required:!0,fullWidth:!0,children:kl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Procedure"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};const Il=["Local","General","Sedation","None"],Pl=["Scheduled","Completed","Cancelled"];var Tl=e=>{let{procedure:t,closeModal:a,onSuccess:i}=e;const[l,c]=Object(n.useState)({procedureName:"",procedureDate:"",duration:"",anesthesiaType:"",notes:"",status:"Scheduled"}),[r,o]=Object(n.useState)(!1);Object(n.useEffect)((()=>{t&&c({procedureName:t.procedureName||"",procedureDate:t.procedureDate?new Date(t.procedureDate).toISOString().slice(0,16):"",duration:t.duration||"",anesthesiaType:t.anesthesiaType||"",notes:t.notes||"",status:t.status||"Scheduled"})}),[t]);const d=e=>{const{name:t,value:a}=e.target;c((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),o(!0);const s=(new Date).toISOString(),n={procedureName:l.procedureName,procedureDate:new Date(l.procedureDate).toISOString(),duration:Number(l.duration),anesthesiaType:l.anesthesiaType,notes:l.notes,status:l.status,updatedAt:s};console.log("Procedure object to update:",n);try{await b.a.put(`/procedures/${t.id}`,n),i&&i(n),a&&a()}finally{o(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Procedure Name",name:"procedureName",value:l.procedureName,onChange:d,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Procedure Date & Time",name:"procedureDate",type:"datetime-local",value:l.procedureDate,onChange:d,InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Duration (minutes)",name:"duration",type:"number",value:l.duration,onChange:d,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Anesthesia Type",name:"anesthesiaType",value:l.anesthesiaType,onChange:d,required:!0,fullWidth:!0,children:Il.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:l.notes,onChange:d,multiline:!0,rows:2,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:l.status,onChange:d,required:!0,fullWidth:!0,children:Pl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:r,children:r?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:r,children:"Cancel"})]})]})})};const Al=e=>{let{procedure:t,onClose:a}=e;return t?Object(s.jsxs)(G.a,{open:!!t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"View Procedure"}),Object(s.jsx)(H.a,{dividers:!0,children:Object(s.jsxs)(E.a,{spacing:2,sx:{mt:1},children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Name:"})," ",t.procedureName]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Duration:"})," ",t.duration," mins"]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Anesthesia:"})," ",t.anesthesiaType]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Status:"})," ",t.status]})]})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:a,variant:"outlined",color:"primary",children:"Close"})})]}):null};var Ml=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)(null),[p,O]=Object(n.useState)(!1),[g,y]=Object(n.useState)(!1),S=()=>{o(!0),b.a.get("/procedures").then((e=>t(e.data))).finally((()=>o(!1)))};Object(n.useEffect)((()=>{S()}),[]);const w=()=>{S()},N=()=>{l&&window.confirm("Delete selected procedure?")&&b.a.delete(`/procedures/${l}`).then((()=>w()))},D=()=>{h(null),x(null)},k=[{field:"procedureName",headerName:"Procedure Name",width:150},{field:"duration",headerName:"Duration (mins)",width:130},{field:"anesthesiaType",headerName:"Anesthesia Type",width:150},{field:"status",headerName:"Status",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Completed"===e.value?"success":"Scheduled"===e.value?"primary":"Cancelled"===e.value?"error":"default",variant:"outlined",size:"small"})},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{size:"small",onClick:t=>{return a=t,s=e.row,h(a.currentTarget),void x(s);var a,s},children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-procedures"})," Procedures"]})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mb:2},children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>O(!0),startIcon:Object(s.jsx)("i",{className:"far fa-plus-square"}),children:"Add Procedure"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>y(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-edit"}),disabled:!a,children:"Edit"}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:N,startIcon:Object(s.jsx)("i",{className:"fas fa-trash-alt"}),disabled:!l,children:"Delete"})]}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%",marginTop:"10px"},children:[Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:k,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}}),Object(s.jsxs)(C.a,{anchorEl:m,open:Boolean(m),onClose:D,children:[Object(s.jsxs)(v.a,{onClick:()=>{i(u),j(!0),D()},children:[Object(s.jsx)("i",{className:"fas fa-eye",style:{marginRight:8,color:"#1976d2"}}),"View Procedure"]}),Object(s.jsxs)(v.a,{onClick:()=>{i(u),c(u.id),y(!0),D()},children:[Object(s.jsx)("i",{className:"fas fa-edit",style:{marginRight:8,color:"#ffa000"}}),"Edit Procedure"]}),Object(s.jsxs)(v.a,{onClick:()=>{i(u),c(u.id),N(),D()},children:[Object(s.jsx)("i",{className:"fas fa-trash-alt",style:{marginRight:8,color:"#e53935"}}),"Delete Procedure"]})]})]}),Object(s.jsxs)(G.a,{open:p,onClose:()=>O(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add New Procedure"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Wl,{closeModal:()=>O(!1),onCreate:w})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>O(!1),color:"secondary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Procedure"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Tl,{procedure:a,closeModal:()=>y(!1),onSuccess:w})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>y(!1),color:"secondary",children:"Close"})})]}),Object(s.jsx)(Al,{procedure:d?a:null,onClose:()=>j(!1)})]})]})};const Rl=["Planned","In Progress","Completed","Cancelled"];var El=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({patientId:"",doctorId:"",description:"",estimatedDuration:"",status:"Planned"}),[c,r]=Object(n.useState)(!1),[o,d]=Object(n.useState)([]),[j,m]=Object(n.useState)([]);Object(n.useEffect)((()=>{b.a.get("/patients").then((e=>d(e.data))).catch((()=>d([]))),b.a.get("/doctors").then((e=>m(e.data))).catch((()=>m([])))}),[]);const h=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s=(new Date).toISOString(),n={patientId:i.patientId,doctorId:i.doctorId,description:i.description,estimatedDuration:Number(i.estimatedDuration),status:i.status,createdAt:s,updatedAt:s};try{await b.a.post("/treatmentplans",n),a&&a(n),t&&t()}finally{r(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:i.patientId,onChange:h,required:!0,fullWidth:!0,children:o.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:i.doctorId,onChange:h,required:!0,fullWidth:!0,children:j.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name||e.id},e.id)))}),Object(s.jsx)(q.a,{label:"Description",name:"description",value:i.description,onChange:h,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Estimated Duration (days)",name:"estimatedDuration",type:"number",value:i.estimatedDuration,onChange:h,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:i.status,onChange:h,fullWidth:!0,children:Rl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Treatment Plan"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var ql=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(null),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)(!1),[p,O]=Object(n.useState)([]),[g,y]=Object(n.useState)([]),S=()=>{o(!0),b.a.get("/treatmentplans").then((e=>t(e.data))).finally((()=>o(!1)))};Object(n.useEffect)((()=>{S(),b.a.get("/patients").then((e=>O(e.data))).catch((()=>O([]))),b.a.get("/doctors").then((e=>y(e.data))).catch((()=>y([])))}),[]);const w=()=>{l&&window.confirm("Are you sure you want to delete this treatment plan?")&&b.a.delete(`/treatmentplans/${l}`).then((()=>{S()}))},N=()=>{j(null),h(null)},D=e.length,k=e.filter((e=>"Completed"===e.status)).length,W=e.filter((e=>"In Progress"===e.status)).length,I=e.filter((e=>"Pending"===e.status)).length,P=e.reduce(((e,t)=>{const a=t.treatmentType||"Other";return e[a]=(e[a]||0)+1,e}),{}),T={labels:Object.keys(P),datasets:[{data:Object.values(P),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},A={labels:Object.keys(P),datasets:[{label:"Plans per Treatment Type",data:Object.values(P),backgroundColor:"#1976d2"}]},M={labels:Object.keys(P),datasets:[{label:"Completed",data:Object.keys(P).map((t=>e.filter((e=>(e.treatmentType||"Other")===t&&"Completed"===e.status)).length)),borderColor:"#43a047",fill:!1},{label:"In Progress",data:Object.keys(P).map((t=>e.filter((e=>(e.treatmentType||"Other")===t&&"In Progress"===e.status)).length)),borderColor:"#1976d2",fill:!1},{label:"Pending",data:Object.keys(P).map((t=>e.filter((e=>(e.treatmentType||"Other")===t&&"Pending"===e.status)).length)),borderColor:"#ffa000",fill:!1}]},R=[{field:"patientId",headerName:"Patient Name",width:220,valueGetter:e=>(e=>{const t=p.find((t=>t.id===e));return t?t.fullName||t.name||t.id:"Unknown"})(e.row.patientId)},{field:"doctorId",headerName:"Doctor Name",width:220,valueGetter:e=>(e=>{const t=g.find((t=>t.id===e));return t?t.fullName||t.name||t.id:"Unknown"})(e.row.doctorId)},{field:"estimatedDuration",headerName:"Est. Duration (days)",width:160},{field:"status",headerName:"Status",width:140,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"Completed"===e.value?"success":"In Progress"===e.value?"primary":"Pending"===e.value?"warning":"default",variant:"outlined",size:"small"})},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{size:"small",onClick:t=>{return a=t,s=e.row,j(a.currentTarget),void h(s);var a,s},children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-notes-medical"})," Treatment Plans"]})}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Plans"}),Object(s.jsx)(U.a,{variant:"h6",children:D})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Completed"}),Object(s.jsx)(U.a,{variant:"h6",children:k})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#f3e5f5",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"In Progress"}),Object(s.jsx)(U.a,{variant:"h6",children:W})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Pending"}),Object(s.jsx)(U.a,{variant:"h6",children:I})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Plans by Treatment Type"}),Object(s.jsx)(le.c,{data:T})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Plans per Treatment Type"}),Object(s.jsx)(le.a,{data:A})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Status Trends by Type"}),Object(s.jsx)(le.d,{data:M})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(_.a,{variant:"outlined",color:"success",sx:{mb:2,mr:2},onClick:()=>x(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Add Treatment Plan"}),r?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%",marginTop:"10px"},children:[Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:R,pageSize:5,checkboxSelection:!0,onSelectionModelChange:t=>{if(1===t.length){const a=e.find((e=>e.id===t[0]));i(a),c(t[0])}else i(null),c(null)},components:{Toolbar:ze.a}}),Object(s.jsx)(C.a,{anchorEl:d,open:Boolean(d),onClose:N,children:Object(s.jsx)(v.a,{onClick:()=>{i(m),c(m.id),w(),N()},children:"Delete"})})]}),Object(s.jsxs)(G.a,{open:u,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add New Treatment Plan"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(El,{closeModal:()=>x(!1),onCreate:S})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>x(!1),color:"secondary",children:"Close"})})]})]})]})},zl=a(745);const Ll=["General Dentist","Orthodontist","Periodontist","Endodontist","Prosthodontist","Oral Surgeon","Pediatric Dentist","Other"],Fl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var Bl=e=>{let{closeModal:t,onCreate:a}=e;const[i,l]=Object(n.useState)({fullName:"",licenseNumber:"",specialization:"",experienceYears:"",consultationFee:"",availableDays:[],availableTimeSlots:[],rating:0}),[c,r]=Object(n.useState)(!1),[o,d]=Object(n.useState)({startTime:"",endTime:""}),j=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),r(!0);const s={...i,experienceYears:Number(i.experienceYears),consultationFee:Number(i.consultationFee),rating:Number(i.rating)};try{await b.a.post("/doctors",s),a&&a(s),t&&t()}finally{r(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Full Name",name:"fullName",value:i.fullName,onChange:j,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"License Number",name:"licenseNumber",value:i.licenseNumber,onChange:j,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Specialization",name:"specialization",value:i.specialization,onChange:j,required:!0,fullWidth:!0,children:Ll.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Experience (years)",name:"experienceYears",type:"number",value:i.experienceYears,onChange:j,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Consultation Fee ($)",name:"consultationFee",type:"number",value:i.consultationFee,onChange:j,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Available Days",name:"availableDays",value:i.availableDays,onChange:e=>{l((t=>({...t,availableDays:e.target.value})))},SelectProps:{multiple:!0},required:!0,fullWidth:!0,children:Fl.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(F.a,{children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(s.jsx)(q.a,{label:"Start Time",name:"startTime",type:"time",value:o.startTime,onChange:e=>d((t=>({...t,startTime:e.target.value}))),InputLabelProps:{shrink:!0},sx:{width:140}}),Object(s.jsx)(q.a,{label:"End Time",name:"endTime",type:"time",value:o.endTime,onChange:e=>d((t=>({...t,endTime:e.target.value}))),InputLabelProps:{shrink:!0},sx:{width:140}}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>{o.startTime&&o.endTime&&(l((e=>({...e,availableTimeSlots:[...e.availableTimeSlots,{...o}]}))),d({startTime:"",endTime:""}))},disabled:!o.startTime||!o.endTime,children:"Add Slot"})]}),Object(s.jsx)(F.a,{sx:{mt:1,display:"flex",gap:1,flexWrap:"wrap"},children:i.availableTimeSlots.map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.startTime} - ${e.endTime}`,onDelete:()=>(e=>{l((t=>({...t,availableTimeSlots:t.availableTimeSlots.filter(((t,a)=>a!==e))})))})(t),color:"secondary",variant:"outlined"},t)))})]}),Object(s.jsx)(q.a,{label:"Rating",name:"rating",type:"number",inputProps:{min:0,max:5,step:.1},value:i.rating,onChange:j,required:!0,fullWidth:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"success",disabled:c,children:c?"Saving...":"Create Doctor"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:t,disabled:c,children:"Cancel"})]})]})})};const $l=["General Dentist","Orthodontist","Periodontist","Endodontist","Prosthodontist","Oral Surgeon","Pediatric Dentist","Other"],Ul=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var _l=e=>{let{doctor:t,closeModal:a,onEdit:i}=e;const[l,c]=Object(n.useState)({fullName:"",licenseNumber:"",specialization:"",experienceYears:"",consultationFee:"",availableDays:[],availableTimeSlots:[],rating:0}),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)({startTime:"",endTime:""});Object(n.useEffect)((()=>{t&&c({fullName:t.fullName||"",licenseNumber:t.licenseNumber||"",specialization:t.specialization||"",experienceYears:t.experienceYears||"",consultationFee:t.consultationFee||"",availableDays:t.availableDays||[],availableTimeSlots:t.availableTimeSlots||[],rating:t.rating||0})}),[t]);const m=e=>{const{name:t,value:a}=e.target;c((e=>({...e,[t]:a})))};return Object(s.jsx)(F.a,{component:"form",onSubmit:async e=>{e.preventDefault(),o(!0);const s={...l,experienceYears:Number(l.experienceYears),consultationFee:Number(l.consultationFee),rating:Number(l.rating)};try{await b.a.put(`/doctors/${t.id}`,s),i&&i(s),a&&a()}finally{o(!1)}},sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Full Name",name:"fullName",value:l.fullName,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"License Number",name:"licenseNumber",value:l.licenseNumber,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Specialization",name:"specialization",value:l.specialization,onChange:m,required:!0,fullWidth:!0,children:$l.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Experience (years)",name:"experienceYears",type:"number",value:l.experienceYears,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Consultation Fee ($)",name:"consultationFee",type:"number",value:l.consultationFee,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{select:!0,label:"Available Days",name:"availableDays",value:l.availableDays,onChange:e=>{c((t=>({...t,availableDays:e.target.value})))},SelectProps:{multiple:!0},required:!0,fullWidth:!0,children:Ul.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsxs)(F.a,{children:[Object(s.jsxs)(E.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(s.jsx)(q.a,{label:"Start Time",name:"startTime",type:"time",value:d.startTime,onChange:e=>j((t=>({...t,startTime:e.target.value}))),InputLabelProps:{shrink:!0},sx:{width:140}}),Object(s.jsx)(q.a,{label:"End Time",name:"endTime",type:"time",value:d.endTime,onChange:e=>j((t=>({...t,endTime:e.target.value}))),InputLabelProps:{shrink:!0},sx:{width:140}}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",onClick:()=>{d.startTime&&d.endTime&&(c((e=>({...e,availableTimeSlots:[...e.availableTimeSlots,{...d}]}))),j({startTime:"",endTime:""}))},disabled:!d.startTime||!d.endTime,children:"Add Slot"})]}),Object(s.jsx)(F.a,{sx:{mt:1,display:"flex",gap:1,flexWrap:"wrap"},children:l.availableTimeSlots.map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.startTime} - ${e.endTime}`,onDelete:()=>(e=>{c((t=>({...t,availableTimeSlots:t.availableTimeSlots.filter(((t,a)=>a!==e))})))})(t),color:"secondary",variant:"outlined"},t)))})]}),Object(s.jsx)(q.a,{label:"Rating",name:"rating",type:"number",inputProps:{min:0,max:5,step:.1},value:l.rating,onChange:m,required:!0,fullWidth:!0}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:r,children:r?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:r,children:"Cancel"})]})]})})};ce.f.register(ce.a,ce.s,ce.h,ce.e,ce.k,ce.c,ce.m,ce.j);var Gl=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(null),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)(!1),[p,O]=Object(n.useState)(null);Object(n.useEffect)((()=>{i(!0),b.a.get("/doctors").then((e=>t(e.data))).finally((()=>i(!1)))}),[]);const g=()=>{c(null),o(null)},y=[{field:"licenseNumber",headerName:"License #",width:150},{field:"specialization",headerName:"Specialization",width:180,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"primary",variant:"outlined"})},{field:"experienceYears",headerName:"Experience (years)",width:160,type:"number",renderCell:e=>Object(s.jsx)(nt.a,{label:`${e.value} yrs`,color:"success",variant:"outlined"})},{field:"consultationFee",headerName:"Fee ($)",width:120,renderCell:e=>Object(s.jsx)(nt.a,{label:`$${parseFloat(e.value).toFixed(2)}`,color:"info",variant:"outlined"})},{field:"availableDays",headerName:"Available Days",width:200,renderCell:e=>Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.value.map(((e,t)=>Object(s.jsx)(nt.a,{label:e,color:"default",size:"small",variant:"outlined"},t)))})},{field:"availableTimeSlots",headerName:"Time Slots",width:200,renderCell:e=>Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.value.map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.startTime} - ${e.endTime}`,color:"secondary",size:"small",variant:"outlined"},t)))})},{field:"rating",headerName:"Rating",width:160,renderCell:e=>Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(zl.a,{value:e.value,precision:.1,readOnly:!0}),Object(s.jsx)(nt.a,{label:e.value,color:"warning",variant:"outlined"})]})},{field:"actions",headerName:"Actions",width:100,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{size:"small",onClick:t=>{return a=t,s=e.row,c(a.currentTarget),void o(s);var a,s},children:Object(s.jsx)(dt.a,{})})})}],S=e.length,N=e.reduce(((e,t)=>(e[t.specialization]=(e[t.specialization]||0)+1,e)),{}),D=e.length?(e.reduce(((e,t)=>e+(t.rating||0)),0)/e.length).toFixed(2):0,k=e.length?(e.reduce(((e,t)=>e+(t.experienceYears||0)),0)/e.length).toFixed(1):0,W={labels:Object.keys(N),datasets:[{data:Object.values(N),backgroundColor:["#43a047","#ffa000","#1976d2","#e53935","#8e24aa","#00bcd4"]}]},I={labels:Object.keys(N),datasets:[{label:"Doctors per Specialization",data:Object.values(N),backgroundColor:"#1976d2"}]},P={labels:Object.keys(N),datasets:[{label:"Average Rating",data:Object.keys(N).map((t=>e.filter((e=>e.specialization===t)).reduce(((e,t)=>e+(t.rating||0)),0)/(e.filter((e=>e.specialization===t)).length||1))),borderColor:"#43a047",fill:!1},{label:"Average Experience",data:Object.keys(N).map((t=>e.filter((e=>e.specialization===t)).reduce(((e,t)=>e+(t.experienceYears||0)),0)/(e.filter((e=>e.specialization===t)).length||1))),borderColor:"#ffa000",fill:!1}]};return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("i",{className:"fas fa-user-md"})," Doctors"]})}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,mb:3,mt:2},children:[Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e3f2fd",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"primary",children:"Total Doctors"}),Object(s.jsx)(U.a,{variant:"h6",children:S})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#e8f5e9",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"success.main",children:"Avg. Rating"}),Object(s.jsx)(U.a,{variant:"h6",children:D})]}),Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fffde7",p:2,borderRadius:2,textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"subtitle2",color:"warning.main",children:"Avg. Experience"}),Object(s.jsxs)(U.a,{variant:"h6",children:[k," yrs"]})]})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:4,mb:4,mt:2,flexWrap:"wrap",justifyContent:"center"},children:[Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Doctors by Specialization"}),Object(s.jsx)(le.c,{data:W})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Doctors per Specialization"}),Object(s.jsx)(le.a,{data:I})]}),Object(s.jsxs)(F.a,{sx:{minWidth:320,flex:1,bgcolor:"#fafafa",p:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",align:"center",children:"Rating & Experience Trends"}),Object(s.jsx)(le.d,{data:P})]})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(_.a,{variant:"outlined",color:"primary",sx:{mb:2,fontWeight:600},onClick:()=>j(!0),startIcon:Object(s.jsx)("i",{className:"fas fa-plus"}),children:"Create Doctor"}),a?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:600,width:"100%"},children:[Object(s.jsx)(qe.a,{rows:e,getRowId:e=>e.id,columns:y,pageSize:5,rowsPerPageOptions:[5,10],checkboxSelection:!0,components:{Toolbar:ze.a},rowHeight:110}),Object(s.jsxs)(C.a,{anchorEl:l,open:Boolean(l),onClose:g,children:[Object(s.jsx)(v.a,{onClick:()=>{O(r),x(!0),c(null)},children:"View"}),Object(s.jsx)(v.a,{onClick:()=>{h(!0),O(r),g()},children:"Edit"}),Object(s.jsx)(v.a,{onClick:()=>{g()},children:"Delete"})]})]}),Object(s.jsxs)(G.a,{open:d,onClose:()=>j(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Create Doctor"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Bl,{closeModal:()=>j(!1),onCreate:()=>{j(!1),i(!0),b.a.get("/doctors").then((e=>t(e.data))).finally((()=>i(!1)))}})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>j(!1),color:"secondary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:m,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Doctor"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(_l,{doctor:p,closeModal:()=>h(!1),onEdit:()=>{h(!1),i(!0),b.a.get("/doctors").then((e=>t(e.data))).finally((()=>i(!1)))}})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>h(!1),color:"secondary",children:"Close"})})]}),Object(s.jsxs)(G.a,{open:u,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(F.a,{display:"flex",alignItems:"center",gap:2,children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",width:56,height:56},children:Object(s.jsx)("i",{className:"fas fa-user-md",style:{fontSize:32,color:"#fff"}})}),Object(s.jsx)(U.a,{variant:"h5",color:"primary",children:(null===p||void 0===p?void 0:p.fullName)||"Doctor Details"})]})}),Object(s.jsx)(H.a,{dividers:!0,children:p?Object(s.jsx)(F.a,{sx:{p:2},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",children:"General Info"}),Object(s.jsx)(it.a,{sx:{mb:1}}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"License #:"})," ",p.licenseNumber]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Specialization:"})," ",Object(s.jsx)(nt.a,{label:p.specialization,color:"primary"})]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Experience:"})," ",Object(s.jsx)(nt.a,{label:`${p.experienceYears} yrs`,color:"success"})]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("b",{children:"Consultation Fee:"})," ",Object(s.jsx)(nt.a,{label:`$${p.consultationFee}`,color:"info"})]})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",children:"Availability"}),Object(s.jsx)(it.a,{sx:{mb:1}}),Object(s.jsx)(U.a,{children:Object(s.jsx)("b",{children:"Available Days:"})}),Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1},children:(p.availableDays||[]).map(((e,t)=>Object(s.jsx)(nt.a,{label:e,variant:"outlined"},t)))}),Object(s.jsx)(U.a,{children:Object(s.jsx)("b",{children:"Time Slots:"})}),Object(s.jsx)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(p.availableTimeSlots||[]).map(((e,t)=>Object(s.jsx)(nt.a,{label:`${e.startTime} - ${e.endTime}`,color:"secondary",variant:"outlined"},t)))})]}),Object(s.jsxs)(F.a,{children:[Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",children:"Rating"}),Object(s.jsx)(it.a,{sx:{mb:1}}),Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",gap:1},children:[Object(s.jsx)(zl.a,{value:p.rating,precision:.1,readOnly:!0}),Object(s.jsx)(nt.a,{label:p.rating,color:"warning"})]})]}),Object(s.jsx)(it.a,{}),Object(s.jsx)(F.a,{children:Object(s.jsxs)(U.a,{variant:"caption",color:"text.secondary",children:[Object(s.jsx)("b",{children:"Created At:"})," ",p.createdAt?new Date(p.createdAt).toLocaleString():"-",Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"Updated At:"})," ",p.updatedAt?new Date(p.updatedAt).toLocaleString():"-"]})})]})}):Object(s.jsx)(U.a,{children:"No doctor selected."})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>x(!1),color:"primary",variant:"contained",children:"Close"})})]})]})]})};a(514);const Vl=["healthy","decayed","missing","filled"],Hl=["Molar","Molar","Premolar","Premolar","Canine","Incisor","Incisor","Incisor","Incisor","Incisor","Canine","Premolar","Premolar","Molar","Molar","Molar","Molar","Molar","Premolar","Premolar","Canine","Incisor","Incisor","Incisor","Incisor","Incisor","Canine","Premolar","Premolar","Molar","Molar","Molar"],Yl=()=>Array.from({length:32},((e,t)=>({id:t+1,status:"healthy",surfaces:{},notes:"",images:[],history:[],type:Hl[t],procedure:"",operation:"",diagnosis:"",treatmentSummary:""}))),Jl="#4caf50",Ql="#f44336",Zl="#ffeb3b",Xl="#e0e0e0";var Kl=()=>{const[e,t]=Object(n.useState)(Yl()),[i,l]=Object(n.useState)(null),[c,r]=Object(n.useState)(!1),[o,d]=Object(n.useState)([]),[j,m]=Object(n.useState)([]),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)([]),[O,f]=Object(n.useState)([]),[g,v]=Object(n.useState)([]),[y,C]=Object(n.useState)([]),[S,w]=Object(n.useState)(""),[N,k]=Object(n.useState)(""),[W,I]=Object(n.useState)(""),[P,T]=Object(n.useState)(""),[A,M]=Object(n.useState)(""),[R,E]=Object(n.useState)(null),[q,z]=Object(n.useState)([]);Object(n.useEffect)((()=>{fetch("/procedures").then((e=>e.json())).then((e=>d(e))).catch((()=>d([]))),fetch("/operations").then((e=>e.json())).then((e=>m(e))).catch((()=>m([]))),fetch("/diagnoses").then((e=>e.json())).then((e=>u(e))).catch((()=>u([]))),fetch("/patients").then((e=>e.json())).then((e=>p(e))).catch((()=>p([]))),fetch("/doctors").then((e=>e.json())).then((e=>f(e))).catch((()=>f([]))),fetch("/clinics").then((e=>e.json())).then((e=>v(e))).catch((()=>v([]))),fetch("/appointments").then((e=>e.json())).then((e=>C(e))).catch((()=>C([])))}),[]),Object(n.useEffect)((()=>{S&&N&&W&&P&&A&&b.a.post("/ondotogram/teeth",{patient:parseInt(S,10),doctor:parseInt(N,10),clinic:parseInt(W,10),appointment:parseInt(P,10),membership:isNaN(A)?A:parseInt(A,10)}).then((e=>{const a=e.data;z(a),t((e=>e.map((e=>{const t=a.find((t=>t.toothNumber===e.id));return t?{...e,status:t.status,notes:t.notes,procedure:t.procedure,operation:t.operation,diagnosis:t.diagnosis,treatmentSummary:t.treatmentSummary}:{...e,status:"healthy",notes:"",procedure:"",operation:"",diagnosis:"",treatmentSummary:""}}))))})).catch((()=>{t(Yl()),z([])}))}),[S,N,W,P,A]);const L=e=>`\nTooth ${e.id}\nStatus: ${e.status}\nNotes: ${e.notes||"-"}\nProcedure: ${e.procedure||"-"}\nOperation: ${e.operation||"-"}\nDiagnosis: ${e.diagnosis||"-"}\nTreatment: ${e.treatmentSummary||"-"}\n    `.trim(),F=(t,a,n,i)=>{let l="healthy"===a?Jl:"decayed"===a?Ql:"filled"===a?Zl:"missing"===a?Xl:"#fff",c="#ff3b3b";const r=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("line",{x1:"8",y1:"8",x2:"32",y2:"32",stroke:"#f44336",strokeWidth:"3"}),Object(s.jsx)("line",{x1:"32",y1:"8",x2:"8",y2:"32",stroke:"#f44336",strokeWidth:"3"})]});return"Molar"===t?Object(s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:[Object(s.jsx)("ellipse",{cx:"20",cy:"20",rx:"15",ry:"12",fill:l,stroke:"#000",strokeWidth:"2"}),"missing"===a&&r,Object(s.jsx)("title",{children:L({id:n,status:a,...e[n-1]})}),Object(s.jsx)("text",{x:"20",y:"36",textAnchor:"middle",fontSize:"10",fill:c,fontWeight:"bold",children:n})]}):"Premolar"===t?Object(s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:[Object(s.jsx)("ellipse",{cx:"20",cy:"20",rx:"10",ry:"13",fill:l,stroke:"#000",strokeWidth:"2"}),"missing"===a&&r,Object(s.jsx)("title",{children:L({id:n,status:a,...e[n-1]})}),Object(s.jsx)("text",{x:"20",y:"36",textAnchor:"middle",fontSize:"10",fill:c,fontWeight:"bold",children:n})]}):"Canine"===t?Object(s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:[Object(s.jsx)("path",{d:"M20 8 Q25 20 20 32 Q15 20 20 8",fill:l,stroke:"#000",strokeWidth:"2"}),"missing"===a&&r,Object(s.jsx)("title",{children:L({id:n,status:a,...e[n-1]})}),Object(s.jsx)("text",{x:"20",y:"36",textAnchor:"middle",fontSize:"10",fill:c,fontWeight:"bold",children:n})]}):Object(s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:[Object(s.jsx)("rect",{x:"13",y:"10",width:"14",height:"20",rx:"7",fill:l,stroke:"#000",strokeWidth:"2"}),"missing"===a&&r,Object(s.jsx)("title",{children:L({id:n,status:a,...e[n-1]})}),Object(s.jsx)("text",{x:"20",y:"36",textAnchor:"middle",fontSize:"10",fill:c,fontWeight:"bold",children:n})]})},B=(e,t)=>{const a="upper"===t?320:260;return Object(s.jsx)("g",{children:e.map(((e,n)=>{const l="upper"===t?Math.PI*(1-n/15):-Math.PI*(n/15),c=300+200*Math.cos(l),r=a+200*Math.sin(l);i&&(i.id,e.id);return Object(s.jsx)("g",{transform:`translate(${c},${r})`,style:{cursor:"pointer"},onClick:()=>$(e),onMouseEnter:e=>{e.currentTarget.querySelector("ellipse,rect,path").setAttribute("stroke","#1976d2"),e.currentTarget.querySelector("ellipse,rect,path").setAttribute("stroke-width","3")},onMouseLeave:e=>{e.currentTarget.querySelector("ellipse,rect,path").setAttribute("stroke","#000"),e.currentTarget.querySelector("ellipse,rect,path").setAttribute("stroke-width","2")},children:F(e.type,e.status,e.id)},e.id)}))})},$=e=>{l(e)},U=(e,a)=>{t((t=>t.map((t=>t.id===i.id?{...t,[e]:a}:t)))),l((t=>t?{...t,[e]:a}:t))},_=async()=>{if(!i)return;const e={date:(new Date).toLocaleString(),status:i.status,notes:i.notes,procedure:i.procedure,operation:i.operation,diagnosis:i.diagnosis,treatmentSummary:i.treatmentSummary};t((t=>t.map((t=>t.id===i.id?{...t,history:[...t.history,e]}:t)))),E(e);const a={patient:S?parseInt(S,10):null,doctor:N?parseInt(N,10):null,clinic:W?parseInt(W,10):null,appointment:P?parseInt(P,10):null,membership:A&&!isNaN(A)?parseInt(A,10):A,teeth:[{toothNumber:i.id,status:i.status,notes:i.notes,procedure:i.procedure,operation:i.operation,diagnosis:i.diagnosis,treatmentSummary:i.treatmentSummary}]};console.log("Sending data:",a);try{await b.a.post("/ondotogram",a)}catch(s){alert("Failed to save data.")}},G=e=>{if(!e)return"-";const t=new Date(e);return isNaN(t)?e:t.toLocaleString()};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:{background:"#fff",borderRadius:"16px",border:"1px solid #1976d2",boxShadow:"0 4px 24px rgba(25, 118, 210, 0.08)",padding:"32px 24px",margin:"0 auto 32px auto",width:"100%",maxWidth:1200,display:"flex",flexDirection:"row",gap:"32px",justifyContent:"center",alignItems:"center",boxSizing:"border-box"},children:[Object(s.jsxs)("div",{style:{minWidth:200},children:[Object(s.jsxs)("label",{style:{fontWeight:600,color:"#1976d2",display:"flex",alignItems:"center",gap:6},children:[Object(s.jsx)(D.l,{style:{color:"#1976d2"}})," Patient"]}),Object(s.jsxs)("select",{value:S,onChange:e=>w(e.target.value),style:{width:"100%",padding:"10px",marginTop:"8px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},children:[Object(s.jsx)("option",{value:"",children:"Select Patient"}),x.map((e=>Object(s.jsx)("option",{value:e.id,children:e.fullName||e.name},e.id)))]})]}),Object(s.jsxs)("div",{style:{minWidth:200},children:[Object(s.jsxs)("label",{style:{fontWeight:600,color:"#1976d2",display:"flex",alignItems:"center",gap:6},children:[Object(s.jsx)(D.n,{style:{color:"#1976d2"}})," Doctor"]}),Object(s.jsxs)("select",{value:N,onChange:e=>k(e.target.value),style:{width:"100%",padding:"10px",marginTop:"8px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},children:[Object(s.jsx)("option",{value:"",children:"Select Doctor"}),O.map((e=>Object(s.jsx)("option",{value:e.id,children:e.fullName||e.name},e.id)))]})]}),Object(s.jsxs)("div",{style:{minWidth:200},children:[Object(s.jsxs)("label",{style:{fontWeight:600,color:"#1976d2",display:"flex",alignItems:"center",gap:6},children:[Object(s.jsx)(D.d,{style:{color:"#1976d2"}})," Clinic"]}),Object(s.jsxs)("select",{value:W,onChange:e=>I(e.target.value),style:{width:"100%",padding:"10px",marginTop:"8px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},children:[Object(s.jsx)("option",{value:"",children:"Select Clinic"}),g.map((e=>Object(s.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),Object(s.jsxs)("div",{style:{minWidth:200},children:[Object(s.jsxs)("label",{style:{fontWeight:600,color:"#1976d2",display:"flex",alignItems:"center",gap:6},children:[Object(s.jsx)(D.c,{style:{color:"#1976d2"}})," Appointment"]}),Object(s.jsxs)("select",{value:P,onChange:e=>T(e.target.value),style:{width:"100%",padding:"10px",marginTop:"8px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},children:[Object(s.jsx)("option",{value:"",children:"Select Appointment"}),y.map((e=>Object(s.jsx)("option",{value:e.id,children:e.appointmentDate?`${e.appointmentDate} (${e.startTime} - ${e.endTime})`:e.name},e.id)))]})]}),Object(s.jsxs)("div",{style:{minWidth:200},children:[Object(s.jsxs)("label",{style:{fontWeight:600,color:"#1976d2",display:"flex",alignItems:"center",gap:6},children:[Object(s.jsx)(D.g,{style:{color:"#1976d2"}})," Membership"]}),Object(s.jsxs)("select",{value:A,onChange:e=>M(e.target.value),style:{width:"100%",padding:"10px",marginTop:"8px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},children:[Object(s.jsx)("option",{value:"",children:"Select Membership"}),Object(s.jsx)("option",{value:"basic",children:"Basic"}),Object(s.jsx)("option",{value:"premium",children:"Premium"}),Object(s.jsx)("option",{value:"vip",children:"VIP"})]})]})]}),Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",gap:32},children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[Object(s.jsx)("div",{style:{width:"100%",overflowX:"auto",display:"flex",justifyContent:"center",textAlign:"center"},children:Object(s.jsxs)("svg",{width:"800",height:"700",viewBox:"-70 0 800 700",className:"odontogram-svg odontogram",style:{display:"block",background:"#fff"},children:[Object(s.jsx)("text",{x:"320",y:"50",textAnchor:"middle",fontSize:"22",fill:"#007bff",fontWeight:"bold",children:"Upper Jaw"}),Object(s.jsx)("text",{x:"320",y:"610",textAnchor:"middle",fontSize:"22",fill:"#007bff",fontWeight:"bold",children:"Lower Jaw"}),Object(s.jsx)("text",{x:"80",y:"370",textAnchor:"middle",fontSize:"18",fill:"#007bff",fontWeight:"bold",transform:"rotate(-90 80,370)",children:"Left"}),Object(s.jsx)("text",{x:"720",y:"520",textAnchor:"middle",fontSize:"18",fill:"#007bff",fontWeight:"bold",transform:"rotate(90 720,370)",children:"Right"}),B(e.slice(0,16),"upper"),B(e.slice(16),"lower")]})}),Object(s.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:"16px"},children:Object(s.jsx)("button",{style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 32px",fontWeight:"bold",fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.08)"},onClick:()=>{const e=document.querySelector(".odontogram");e&&a.e(0).then(a.t.bind(null,643,7)).then((t=>{t.default(e.parentNode).then((e=>{const t=document.createElement("a");t.download="odontogram.png",t.href=e.toDataURL(),t.click()}))}))},children:"Download Odontogram Image"})})]}),Object(s.jsx)("div",{style:{minWidth:350,maxWidth:420,padding:"28px 24px",border:"none",borderRadius:"18px",background:"#fff",marginLeft:16,boxShadow:"0 4px 24px rgba(25, 118, 210, 0.10)",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:i?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h2",{style:{color:"#1976d2",marginBottom:18,fontWeight:700},children:["Tooth #",i.id," Details"]}),Object(s.jsxs)("div",{style:{marginBottom:16},children:[Object(s.jsx)("label",{style:{fontWeight:600,color:"#1976d2"},children:"Status"}),Object(s.jsxs)("select",{style:{width:"100%",marginBottom:8,padding:"10px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},value:i.status,onChange:e=>U("status",e.target.value),children:[Object(s.jsx)("option",{value:"",children:"Select Status"}),Vl.map((e=>Object(s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]})]}),Object(s.jsxs)("div",{style:{marginBottom:16},children:[Object(s.jsx)("label",{style:{fontWeight:600,color:"#1976d2"},children:"Notes"}),Object(s.jsx)("textarea",{style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:15,minHeight:40,marginTop:4,marginBottom:8,resize:"vertical"},value:i.notes||"",onChange:e=>U("notes",e.target.value),placeholder:"Enter notes..."})]}),Object(s.jsxs)("div",{style:{marginBottom:16},children:[Object(s.jsx)("label",{style:{fontWeight:600,color:"#1976d2"},children:"Procedure"}),Object(s.jsxs)("select",{style:{width:"100%",marginBottom:8,padding:"10px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},value:i.procedure,onChange:e=>U("procedure",e.target.value),children:[Object(s.jsx)("option",{value:"",children:"Select Procedure"}),o.map((e=>Object(s.jsx)("option",{value:e.procedureName,children:e.procedureName},e.id)))]})]}),Object(s.jsxs)("div",{style:{marginBottom:16},children:[Object(s.jsx)("label",{style:{fontWeight:600,color:"#1976d2"},children:"Operation"}),Object(s.jsxs)("select",{style:{width:"100%",marginBottom:8,padding:"10px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},value:i.operation,onChange:e=>U("operation",e.target.value),children:[Object(s.jsx)("option",{value:"",children:"Select Operation"}),j.map((e=>Object(s.jsx)("option",{value:e.procedureName,children:e.procedureName},e.id)))]})]}),Object(s.jsxs)("div",{style:{marginBottom:16},children:[Object(s.jsx)("label",{style:{fontWeight:600,color:"#1976d2"},children:"Diagnosis"}),Object(s.jsxs)("select",{style:{width:"100%",marginBottom:8,padding:"10px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:16},value:i.diagnosis,onChange:e=>U("diagnosis",e.target.value),children:[Object(s.jsx)("option",{value:"",children:"Select Diagnosis"}),h.map((e=>Object(s.jsx)("option",{value:e.condition,children:e.condition},e.id)))]})]}),Object(s.jsxs)("div",{style:{marginBottom:16},children:[Object(s.jsx)("label",{style:{fontWeight:600,color:"#1976d2"},children:"Treatment Summary"}),Object(s.jsx)("textarea",{style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1.5px solid #90caf9",background:"#f8fafd",fontSize:15,minHeight:40,marginTop:4,marginBottom:8,resize:"vertical"},value:i.treatmentSummary||"",onChange:e=>U("treatmentSummary",e.target.value),placeholder:"Add treatment summary..."})]}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:Object(s.jsx)("button",{style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 32px",fontWeight:"bold",fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.08)"},onClick:_,children:"Save"})})]}):Object(s.jsx)("div",{style:{color:"#888",marginTop:40,fontSize:18,textAlign:"center"},children:"Select a tooth to see details"})})]}),Object(s.jsxs)("div",{style:{width:"100%",margin:"32px 0 0 0",padding:"24px",background:"#fff",borderRadius:"16px",border:"1.5px solid #90caf9",textAlign:"left",boxSizing:"border-box",boxShadow:"0 4px 24px rgba(25, 118, 210, 0.07)"},children:[Object(s.jsx)("div",{style:{fontWeight:"bold",color:"#1976d2",marginBottom:12,fontSize:20},children:"Tooth Treatment History"}),i?Object(s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fafdff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.03)"},children:[Object(s.jsx)("thead",{style:{background:"#e3f2fd"},children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Created At"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Status"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Notes"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Procedure"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Operation"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Diagnosis"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Treatment Summary"})]})}),Object(s.jsxs)("tbody",{children:[q.filter((e=>e.toothNumber===i.id)).map(((e,t)=>Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:G(e.createdAt)}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.status}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.notes}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.procedure}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.operation}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.diagnosis}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.treatmentSummary})]},"backend-"+t))),i.history.map(((e,t)=>Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:"-"}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.status}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.notes}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.procedure}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.operation}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.diagnosis}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.treatmentSummary})]},"local-"+t))),0===q.filter((e=>e.toothNumber===i.id)).length&&0===i.history.length&&Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colSpan:7,style:{color:"#888",textAlign:"center",padding:12},children:"No history yet."})})]})]}):Object(s.jsx)("div",{style:{color:"#888",marginTop:24,fontSize:16},children:"Select a tooth to see history"})]}),S&&0!==q.length?Object(s.jsxs)("div",{style:{width:"100%",margin:"32px 0 0 0",padding:"24px",background:"#fff",borderRadius:"16px",border:"1.5px solid #90caf9",textAlign:"left",boxSizing:"border-box",boxShadow:"0 4px 24px rgba(25, 118, 210, 0.07)"},children:[Object(s.jsx)("div",{style:{fontWeight:"bold",color:"#1976d2",marginBottom:12,fontSize:20},children:"All Teeth Treatment History for Patient"}),Object(s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fafdff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.03)"},children:[Object(s.jsx)("thead",{style:{background:"#e3f2fd"},children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Tooth Number"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Date"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Status"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Notes"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Procedure"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Operation"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Diagnosis"}),Object(s.jsx)("th",{style:{padding:10,border:"1px solid #cce3f6"},children:"Treatment Summary"})]})}),Object(s.jsxs)("tbody",{children:[q.map(((e,t)=>Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.toothNumber}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:G(e.date||e.createdAt)}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.status}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.notes}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.procedure}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.operation}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.diagnosis}),Object(s.jsx)("td",{style:{padding:10,border:"1px solid #cce3f6"},children:e.treatmentSummary})]},t))),0===q.length&&Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colSpan:8,style:{color:"#888",textAlign:"center",padding:12},children:"No history yet."})})]})]})]}):null]})},ec=a(779),tc=a(244),ac=a.n(tc),sc=a(379),nc=a.n(sc),ic=a(378),lc=a.n(ic),cc=a(295),rc=a(377),oc=a.n(rc);a(627);const dc=Object(cc.b)(oc.a),jc=[{id:1,patientName:"John Doe",patientAvatar:"",date:"2025-07-29T15:00:00.000Z",type:"video",duration:"12:34",status:"Completed"},{id:2,patientName:"Jane Smith",patientAvatar:"",date:"2025-07-28T10:30:00.000Z",type:"audio",duration:"08:21",status:"Completed"},{id:3,patientName:"John Doe",patientAvatar:"",date:"2025-07-27T09:15:00.000Z",type:"video",duration:"15:02",status:"Missed"}];function bc(e){return new Promise((t=>{const a=document.createElement("script");a.src=e,a.onload=t,document.body.appendChild(a)}))}var mc=()=>{var e,t;const[a,l]=Object(n.useState)(!1),[c,r]=Object(n.useState)(!0),[o,d]=Object(n.useState)(!0),[j,m]=Object(n.useState)(!1),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)(""),[O,f]=Object(n.useState)(!1),[g,y]=Object(n.useState)(""),[C,S]=Object(n.useState)(!1),[N,D]=Object(n.useState)([]),[k,W]=Object(n.useState)(!1),[I,P]=Object(n.useState)([]),[T,A]=Object(n.useState)([]),[M,R]=Object(n.useState)([]),[E,z]=Object(n.useState)(!1),[L,B]=Object(n.useState)({patientId:"",doctorId:"",sessionDuration:30,start:null,end:null,meetingLink:"",status:"Scheduled",recordedSessionUrl:""}),[$,J]=Object(n.useState)(null),[Q,Z]=Object(n.useState)(!1),X=Object(n.useRef)(null),K=Object(n.useRef)(null);Object(n.useEffect)((()=>{bc("https://accounts.google.com/gsi/client"),bc("https://apis.google.com/js/api.js"),ee(),te(),se(),ae()}),[]);const ee=async()=>{W(!0);try{const e=await b.a.get("/telemedicines");D(e.data)}catch{D([])}W(!1)},te=async()=>{try{const e=await b.a.get("/patients");P(e.data)}catch{P([])}},ae=async()=>{try{const e=await b.a.get("/clinics");A(e.data)}catch{A([])}},se=async()=>{try{const e=await b.a.get("/doctors");R(e.data)}catch{R([])}},ne=()=>{x.trim()&&(u([...h,{sender:"doctor",text:x}]),p(""))},ie=async(e,t)=>{const a=await(async()=>new Promise(((e,t)=>{window.google.accounts.oauth2.initTokenClient({client_id:"373581238151-l5fft2cc1mlm0o5nrvins188im9uj4m7.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.events",callback:a=>{a&&a.access_token?e(a.access_token):t("No access token")}}).requestAccessToken()})))();return new Promise((s=>{window.gapi.load("client",(async()=>{await window.gapi.client.init({apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),window.gapi.client.setToken({access_token:a});const n={summary:"Telemedicine Appointment",start:{dateTime:e.toISOString()},end:{dateTime:t.toISOString()},conferenceData:{createRequest:{requestId:String(Date.now())}}},i=await window.gapi.client.calendar.events.insert({calendarId:"primary",resource:n,conferenceDataVersion:1});s(i.result.hangoutLink)}))}))},le=N.map((e=>{var t,a;return{id:e.id,title:`Patient: ${(null===(t=I.find((t=>t.id===e.patientId)))||void 0===t?void 0:t.fullName)||e.patientId} | Doctor: ${(null===(a=M.find((t=>t.id===e.doctorId)))||void 0===a?void 0:a.fullName)||e.doctorId}`,start:new Date(e.createdAt),end:new Date(new Date(e.createdAt).getTime()+6e4*(e.sessionDuration||30)),meetingLink:e.meetingLink,status:e.status}}));return Object(s.jsxs)(F.a,{sx:{maxWidth:1100,mx:"auto",mt:4,p:3},children:[Object(s.jsxs)(Mt.a,{sx:{p:2,mb:3},children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)(ac.a,{sx:{mr:1}})," Telemedicine Consultation"]}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)(_e.a,{}),sx:{mb:2},onClick:()=>{B({patientId:"",doctorId:"",sessionDuration:30,start:null,end:null,meetingLink:"",status:"Scheduled",recordedSessionUrl:""}),z(!0)},children:"New Appointment"}),Object(s.jsx)(U.a,{variant:"h6",gutterBottom:!0,children:"Telemedicine Appointments Calendar"}),Object(s.jsx)("div",{style:{height:500},children:Object(s.jsx)(cc.a,{localizer:dc,events:le,startAccessor:"start",endAccessor:"end",titleAccessor:"title",style:{height:480},onSelectEvent:e=>{J(e),Z(!0)},tooltipAccessor:e=>e.meetingLink?`Click to join: ${e.meetingLink}`:"",eventPropGetter:e=>({style:{backgroundColor:"Scheduled"===e.status?"#1976d2":"#43a047",color:"#fff",borderRadius:6,border:"none"}})})})]}),Object(s.jsxs)(G.a,{open:E,onClose:()=>z(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"New Telemedicine Appointment"}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",value:L.patientId,onChange:e=>B((t=>({...t,patientId:e.target.value}))),fullWidth:!0,sx:{mb:2,mt:1},children:I.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",value:L.doctorId,onChange:e=>B((t=>({...t,doctorId:e.target.value}))),fullWidth:!0,sx:{mb:2},children:M.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{label:"Start Date & Time",type:"datetime-local",value:L.start||"",onChange:e=>B((t=>({...t,start:e.target.value}))),fullWidth:!0,sx:{mb:2},InputLabelProps:{shrink:!0}}),Object(s.jsx)(q.a,{label:"Session Duration (minutes)",type:"number",value:L.sessionDuration,onChange:e=>B((t=>({...t,sessionDuration:Number(e.target.value)}))),fullWidth:!0,sx:{mb:2},inputProps:{min:1}})]}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>z(!1),children:"Cancel"}),Object(s.jsx)(_.a,{variant:"contained",onClick:async()=>{if(!L.patientId||!L.doctorId||!L.start)return;const e=new Date(L.start),t=new Date(e.getTime()+6e4*(L.sessionDuration||30));let a="";try{a=await ie(e,t)}catch{a="https://meet.google.com/"+Math.random().toString(36).substring(2,12)}const s={patientId:Number(L.patientId),doctorId:Number(L.doctorId),meetingLink:a,sessionDuration:L.sessionDuration,status:L.status,createdAt:e.toISOString(),updatedAt:e.toISOString()};await b.a.post("/telemedicines",s),z(!1),ee()},disabled:!L.patientId||!L.doctorId||!L.start,children:"Create & Generate Meet Link"})]})]}),Object(s.jsxs)(G.a,{open:Q,onClose:()=>Z(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{sx:{bgcolor:"#1976d2",color:"#fff",fontWeight:700},children:"Telemedicine Appointment Details"}),Object(s.jsx)(H.a,{sx:{py:3},children:$&&Object(s.jsxs)(F.a,{children:[Object(s.jsxs)(U.a,{variant:"h6",sx:{mb:2,color:"#1976d2",fontWeight:600},children:[Object(s.jsx)(ac.a,{sx:{mr:1,verticalAlign:"middle"}}),"Video Consultation"]}),Object(s.jsxs)(F.a,{sx:{mb:2},children:[Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:500},children:[Object(s.jsx)("b",{children:"Patient:"})," ",(null===(e=I.find((e=>e.id===$.id||e.id===$.patientId)))||void 0===e?void 0:e.fullName)||$.patientId]}),Object(s.jsxs)(U.a,{variant:"subtitle1",sx:{fontWeight:500},children:[Object(s.jsx)("b",{children:"Doctor:"})," ",(null===(t=M.find((e=>e.id===$.id||e.id===$.doctorId)))||void 0===t?void 0:t.fullName)||$.doctorId]})]}),Object(s.jsxs)(F.a,{sx:{mb:2},children:[Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Start:"})," ",$.start?new Date($.start).toLocaleString():"-"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Duration:"})," ",$.sessionDuration||30," minutes"]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:.5},children:[Object(s.jsx)("b",{children:"Status:"})," ",Object(s.jsx)("span",{style:{color:"Scheduled"===$.status?"#1976d2":"#43a047",fontWeight:600},children:$.status})]})]}),Object(s.jsx)(F.a,{sx:{mb:2},children:Object(s.jsxs)(U.a,{variant:"body2",sx:{mb:1},children:[Object(s.jsx)("b",{children:"Meeting Link:"})," ",$.meetingLink?Object(s.jsx)("a",{href:$.meetingLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2",wordBreak:"break-all"},children:$.meetingLink}):Object(s.jsx)("span",{style:{color:"#888"},children:"-"})]})})]})}),Object(s.jsxs)(Y.a,{sx:{justifyContent:"center",pb:3},children:[Object(s.jsx)(_.a,{onClick:()=>Z(!1),variant:"outlined",color:"secondary",sx:{minWidth:120,fontWeight:600,mr:2},children:"Close"}),$&&$.meetingLink&&Object(s.jsx)(_.a,{variant:"contained",color:"primary",size:"large",sx:{minWidth:220,fontWeight:700,fontSize:20,py:2,bgcolor:"#1976d2",boxShadow:"0 4px 16px rgba(25,118,210,0.12)","&:hover":{bgcolor:"#115293"}},startIcon:Object(s.jsx)(ac.a,{sx:{fontSize:28}}),onClick:()=>window.open($.meetingLink,"_blank"),children:"Join Call"})]})]}),!a&&g&&Object(s.jsxs)(Mt.a,{sx:{p:2,mb:3,display:"flex",alignItems:"center",gap:2,bgcolor:"#e3f2fd"},children:[Object(s.jsxs)(U.a,{variant:"body1",sx:{flex:1},children:["Google Meet Link: ",Object(s.jsx)("a",{href:g,target:"_blank",rel:"noopener noreferrer",children:g})]}),Object(s.jsx)(_.a,{variant:"outlined",color:C?"success":"primary",startIcon:Object(s.jsx)(lc.a,{}),onClick:()=>{g&&(navigator.clipboard.writeText(g),S(!0),setTimeout((()=>S(!1)),1500))},children:C?"Copied!":"Copy Link"})]}),!a&&O&&Object(s.jsxs)(Mt.a,{sx:{mb:3,p:2},children:[Object(s.jsxs)(U.a,{variant:"h6",gutterBottom:!0,children:[Object(s.jsx)(nc.a,{sx:{mr:1}})," Last Video/Audio Calls"]}),Object(s.jsx)(ci.a,{children:jc.map((e=>Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsxs)(ri.a,{children:[Object(s.jsx)(ec.a,{children:Object(s.jsx)(w.a,{src:e.patientAvatar,children:e.patientName[0]})}),Object(s.jsx)(oi.a,{primary:`${e.patientName} (${"video"===e.type?"Video":"Audio"})`,secondary:Object(s.jsxs)(s.Fragment,{children:[new Date(e.date).toLocaleString()," \xa0|\xa0 Duration: ",e.duration," \xa0|\xa0 Status: ",e.status]})})]}),Object(s.jsx)(it.a,{})]},e.id)))})]}),a&&Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2},children:[Object(s.jsxs)(F.a,{sx:{flex:2,bgcolor:"#222",borderRadius:2,p:1,minHeight:320,position:"relative"},children:[Object(s.jsx)("video",{ref:K,autoPlay:!0,playsInline:!0,style:{width:"100%",height:300,background:"#111",borderRadius:8},poster:"https://dummyimage.com/640x360/222/fff&text=Remote+Video"}),Object(s.jsx)("video",{ref:X,autoPlay:!0,muted:!0,playsInline:!0,style:{width:120,height:90,position:"absolute",bottom:16,right:16,border:"2px solid #fff",borderRadius:8,background:"#333"},poster:"https://dummyimage.com/120x90/333/fff&text=You"})]}),j&&Object(s.jsxs)(F.a,{sx:{flex:1,bgcolor:"#fafafa",borderRadius:2,p:2,display:"flex",flexDirection:"column",height:320},children:[Object(s.jsx)(U.a,{variant:"subtitle1",gutterBottom:!0,children:"Chat"}),Object(s.jsx)(F.a,{sx:{flex:1,overflowY:"auto",mb:1},children:h.map(((e,t)=>Object(s.jsx)(F.a,{sx:{mb:1,textAlign:"doctor"===e.sender?"right":"left"},children:Object(s.jsx)(U.a,{variant:"body2",sx:{display:"inline-block",bgcolor:"doctor"===e.sender?"#1976d2":"#e0e0e0",color:"doctor"===e.sender?"#fff":"#222",px:1.5,py:.5,borderRadius:2},children:e.text})},t)))}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:1},children:[Object(s.jsx)(q.a,{size:"small",fullWidth:!0,placeholder:"Type a message...",value:x,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ne()}}),Object(s.jsx)(_.a,{variant:"contained",onClick:ne,children:"Send"})]})]})]}),!a&&!O&&Object(s.jsx)(F.a,{sx:{mt:4,textAlign:"center",color:"text.secondary"},children:Object(s.jsxs)(U.a,{variant:"body1",children:["Select a patient and start a video or audio call.",Object(s.jsx)("br",{}),Object(s.jsx)("span",{style:{fontSize:24},children:"\ud83d\udcde"})]})})]})},hc=a(780),uc=a(781),xc=a(782),pc=a(783),Oc=a(773),fc=a(784),gc=a(176),vc=a.n(gc),yc=a(380),Cc=a.n(yc);var Sc=()=>{var e,t;const[a,i]=Object(n.useState)(""),[l,c]=Object(n.useState)([]),[r,o]=Object(n.useState)(""),[d,j]=Object(n.useState)(1),[m,h]=Object(n.useState)(!1),[u,x]=Object(n.useState)([]),[p,O]=Object(n.useState)(!0),[g,y]=Object(n.useState)(null),[C,S]=Object(n.useState)(!1),[w,N]=Object(n.useState)(""),[D,k]=Object(n.useState)({amount:0,percentage:0,discountReason:""}),[W,I]=Object(n.useState)(0),[P,T]=Object(n.useState)("Cash"),[A,M]=Object(n.useState)(""),[R,z]=Object(n.useState)(""),[L,B]=Object(n.useState)([]),[$,J]=Object(n.useState)([]),Q=[{id:"s1",name:"Consultation",price:50},{id:"s2",name:"X-Ray",price:100},{id:"s3",name:"Cleaning",price:80},{id:"s4",name:"Filling",price:120},{id:"s5",name:"Root Canal",price:300},{id:"s6",name:"Crown",price:500},{id:"s7",name:"Bridge",price:700},{id:"s8",name:"Extraction",price:150},{id:"s9",name:"Whitening",price:200},{id:"s10",name:"Implant",price:1200},{id:"s11",name:"Braces",price:2500},{id:"s12",name:"Veneers",price:900},{id:"s13",name:"Fluoride Treatment",price:60},{id:"s14",name:"Sealant",price:75},{id:"s15",name:"Periodontal Therapy",price:350}];Object(n.useEffect)((()=>{Z(),X(),K()}),[]);const Z=async()=>{O(!0);try{const e=await b.a.get("/invoices");x(e.data)}catch{x([])}O(!1)},X=async()=>{try{const e=await b.a.get("/patients");B(e.data)}catch{B([])}},K=async()=>{try{const e=await b.a.get("/clinics");J(e.data)}catch{J([])}},ee=l.reduce(((e,t)=>e+t.total),0),te=()=>{h(!1)},ae=()=>{S(!1),y(null)},se=e=>{var t,a;const s=new ut.a;s.setFontSize(18),s.text("Invoice",14,20),s.setFontSize(12),s.text(`Invoice Number: ${e.invoiceNumber}`,14,35),s.text(`Patient ID: ${e.patientId}`,14,45),s.text(`Clinic ID: ${e.clinicId}`,14,55),s.text(`Invoice Date: ${new Date(e.invoiceDate).toLocaleDateString()}`,14,65),s.text(`Due Date: ${new Date(e.dueDate).toLocaleDateString()}`,14,75),s.text(`Payment Status: ${e.paymentStatus}`,14,85),s.text(`Payment Method: ${e.paymentMethod||"-"}`,14,95),Cc()(s,{startY:110,head:[["Item","Description","Qty","Unit Price","Total"]],body:e.items.map((e=>[e.itemType,e.itemDescription,e.quantity,e.unitPrice,e.totalPrice]))});let n=s.lastAutoTable?s.lastAutoTable.finalY+10:130;s.text(`Subtotal: $${e.subTotal}`,14,n),n+=8,s.text(`Discount: $${(null===(t=e.discount)||void 0===t?void 0:t.amount)||0} (${(null===(a=e.discount)||void 0===a?void 0:a.percentage)||0}%)`,14,n),n+=8,s.text(`Tax: $${e.taxAmount}`,14,n),n+=8,s.text(`Grand Total: $${e.grandTotal}`,14,n),n+=8,s.text(`Notes: ${e.notes||"-"}`,14,n),s.save(`invoice_${e.invoiceNumber}.pdf`)},ne=e=>{const t=L.find((t=>String(t.id)===String(e)));return t?t.fullName||t.name:e},ie=e=>{const t=$.find((t=>String(t.id)===String(e)));return t?t.name:e},le=[{field:"invoiceNumber",headerName:"Invoice #",width:140},{field:"patientId",headerName:"Patient",width:180,valueGetter:e=>ne(e.row.patientId)},{field:"clinicId",headerName:"Clinic",width:180,valueGetter:e=>ie(e.row.clinicId)},{field:"grandTotal",headerName:"Total",width:100,valueFormatter:e=>`$${e.value}`},{field:"paymentStatus",headerName:"Status",width:110,renderCell:e=>Object(s.jsx)("span",{style:{color:"Paid"===e.value?"#388e3c":"#d32f2f",fontWeight:"bold"},children:e.value})},{field:"invoiceDate",headerName:"Date",width:120,valueFormatter:e=>new Date(e.value).toLocaleDateString()},{field:"actions",headerName:"Actions",width:120,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(f.a,{color:"primary",onClick:()=>{return t=e.row,y(t),void S(!0);var t},children:Object(s.jsx)(Ka.a,{})}),Object(s.jsx)(f.a,{color:"secondary",onClick:()=>se(e.row),children:Object(s.jsx)(vc.a,{})})]})}];return Object(s.jsxs)(F.a,{sx:{maxWidth:1e3,mx:"auto",mt:4,p:{xs:1,sm:3}},children:[Object(s.jsxs)(Mt.a,{sx:{p:{xs:2,sm:3},mb:4,boxShadow:3,borderRadius:3},children:[Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",mb:3},children:[Object(s.jsx)(vc.a,{sx:{color:"#1976d2",fontSize:38,mr:1}}),Object(s.jsx)(U.a,{variant:"h4",sx:{color:"#1976d2",fontWeight:700},children:"Patient Billing & Invoices"})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,flexWrap:"wrap",mb:2},children:[Object(s.jsx)(q.a,{select:!0,label:"Select Patient",value:a,onChange:e=>i(e.target.value),sx:{minWidth:220,flex:1},children:L.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Select Clinic",value:w,onChange:e=>N(e.target.value),sx:{minWidth:180,flex:1},children:$.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Service",value:r,onChange:e=>o(e.target.value),sx:{minWidth:180,flex:1},children:Q.map((e=>Object(s.jsxs)(v.a,{value:e.id,children:[e.name," ($",e.price,")"]},e.id)))}),Object(s.jsx)(q.a,{label:"Quantity",type:"number",value:d,onChange:e=>j(Number(e.target.value)),sx:{width:110},inputProps:{min:1}}),Object(s.jsx)(_.a,{variant:"outlined",color:"primary",startIcon:Object(s.jsx)(_e.a,{}),onClick:()=>{if(!r)return;const e=Q.find((e=>e.id===r));c([...l,{id:Date.now(),name:e.name,price:e.price,quantity:d,total:e.price*d}]),o(""),j(1)},sx:{height:40,fontWeight:600,minWidth:120},disabled:!r,children:"Add"})]}),Object(s.jsxs)(F.a,{sx:{display:"flex",gap:2,flexWrap:"wrap",mb:2},children:[Object(s.jsx)(q.a,{label:"Discount Amount",type:"number",value:D.amount,onChange:e=>k({...D,amount:Number(e.target.value)}),sx:{width:140},inputProps:{min:0}}),Object(s.jsx)(q.a,{label:"Discount %",type:"number",value:D.percentage,onChange:e=>k({...D,percentage:Number(e.target.value)}),sx:{width:120},inputProps:{min:0,max:100}}),Object(s.jsx)(q.a,{label:"Discount Reason",value:D.discountReason,onChange:e=>k({...D,discountReason:e.target.value}),sx:{minWidth:180,flex:1}}),Object(s.jsx)(q.a,{label:"Tax Amount",type:"number",value:W,onChange:e=>I(Number(e.target.value)),sx:{width:120},inputProps:{min:0}}),Object(s.jsxs)(q.a,{select:!0,label:"Payment Method",value:P,onChange:e=>T(e.target.value),sx:{width:140},children:[Object(s.jsx)(v.a,{value:"Cash",children:"Cash"}),Object(s.jsx)(v.a,{value:"Card",children:"Card"}),Object(s.jsx)(v.a,{value:"Insurance",children:"Insurance"})]}),Object(s.jsx)(q.a,{label:"Due Date",type:"date",value:A,onChange:e=>M(e.target.value),sx:{width:150},InputLabelProps:{shrink:!0}})]}),Object(s.jsx)(q.a,{label:"Notes",value:R,onChange:e=>z(e.target.value),fullWidth:!0,multiline:!0,rows:2,sx:{mb:2}}),Object(s.jsx)(hc.a,{component:Mt.a,sx:{mb:2,boxShadow:0},children:Object(s.jsxs)(uc.a,{size:"small",children:[Object(s.jsx)(xc.a,{children:Object(s.jsxs)(pc.a,{children:[Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Service"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Price"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Quantity"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Total"}),Object(s.jsx)(Oc.a,{align:"right",sx:{fontWeight:700},children:"Remove"})]})}),Object(s.jsxs)(fc.a,{children:[l.map((e=>Object(s.jsxs)(pc.a,{children:[Object(s.jsx)(Oc.a,{children:e.name}),Object(s.jsxs)(Oc.a,{children:["$",e.price]}),Object(s.jsx)(Oc.a,{children:e.quantity}),Object(s.jsxs)(Oc.a,{children:["$",e.total]}),Object(s.jsx)(Oc.a,{align:"right",children:Object(s.jsx)(f.a,{color:"error",onClick:()=>{return t=e.id,void c(l.filter((e=>e.id!==t)));var t},children:Object(s.jsx)(ts.a,{})})})]},e.id))),0===l.length&&Object(s.jsx)(pc.a,{children:Object(s.jsx)(Oc.a,{colSpan:5,align:"center",children:"No services added"})})]})]})}),Object(s.jsxs)(U.a,{variant:"h6",align:"right",sx:{mb:2,color:"#1976d2",fontWeight:700},children:["Total: $",ee]}),Object(s.jsx)(_.a,{variant:"contained",color:"success",onClick:()=>{h(!0)},disabled:!a||!w||0===l.length,sx:{fontWeight:700,minWidth:180,fontSize:16},children:"Generate Bill"})]}),Object(s.jsxs)(Mt.a,{sx:{p:2,mb:4,boxShadow:2,borderRadius:2},children:[Object(s.jsx)(U.a,{variant:"h5",gutterBottom:!0,sx:{color:"#1976d2",fontWeight:700},children:"Invoices"}),Object(s.jsx)("div",{style:{height:420,width:"100%"},children:Object(s.jsx)(qe.a,{rows:u,columns:le,pageSize:8,rowsPerPageOptions:[8,16,32],loading:p,getRowId:e=>e.id,disableSelectionOnClick:!0,autoHeight:!1,sx:{fontSize:15,"& .MuiDataGrid-columnHeaders":{bgcolor:"#e3f2fd",fontWeight:700},"& .MuiDataGrid-row:hover":{bgcolor:"#f0f6ff"}}})})]}),Object(s.jsxs)(G.a,{open:C,onClose:ae,maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(s.jsx)(vc.a,{sx:{color:"#1976d2"}}),Object(s.jsx)("span",{children:"Invoice Details"})]})}),Object(s.jsx)(H.a,{dividers:!0,children:g&&Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,p:2,mb:2},children:[Object(s.jsxs)(U.a,{variant:"h6",gutterBottom:!0,sx:{color:"#1976d2",fontWeight:700},children:["Invoice #",g.invoiceNumber]}),Object(s.jsxs)(U.a,{variant:"subtitle1",gutterBottom:!0,children:["Patient: ",ne(g.patientId)," | Clinic: ",ie(g.clinicId)]}),Object(s.jsxs)(U.a,{variant:"body2",gutterBottom:!0,children:["Date: ",new Date(g.invoiceDate).toLocaleDateString(),Object(s.jsx)("br",{}),"Due: ",new Date(g.dueDate).toLocaleDateString(),Object(s.jsx)("br",{}),"Status: ",Object(s.jsx)("b",{children:g.paymentStatus}),Object(s.jsx)("br",{}),"Payment Method: ",g.paymentMethod||"-"]}),Object(s.jsx)(U.a,{variant:"subtitle2",sx:{mt:2,fontWeight:600},children:"Items:"}),Object(s.jsx)(hc.a,{component:Mt.a,sx:{mb:2,boxShadow:0},children:Object(s.jsxs)(uc.a,{size:"small",children:[Object(s.jsx)(xc.a,{children:Object(s.jsxs)(pc.a,{children:[Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Type"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Description"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Qty"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Unit Price"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Total"})]})}),Object(s.jsx)(fc.a,{children:g.items.map(((e,t)=>Object(s.jsxs)(pc.a,{children:[Object(s.jsx)(Oc.a,{children:e.itemType}),Object(s.jsx)(Oc.a,{children:e.itemDescription}),Object(s.jsx)(Oc.a,{children:e.quantity}),Object(s.jsxs)(Oc.a,{children:["$",e.unitPrice]}),Object(s.jsxs)(Oc.a,{children:["$",e.totalPrice]})]},t)))})]})}),Object(s.jsxs)(U.a,{variant:"body2",children:["Subtotal: ",Object(s.jsxs)("b",{children:["$",g.subTotal]}),Object(s.jsx)("br",{}),"Discount: ",Object(s.jsxs)("b",{children:["$",(null===(e=g.discount)||void 0===e?void 0:e.amount)||0," (",(null===(t=g.discount)||void 0===t?void 0:t.percentage)||0,"%)"]}),Object(s.jsx)("br",{}),"Tax: ",Object(s.jsxs)("b",{children:["$",g.taxAmount]}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{style:{fontSize:18,fontWeight:"bold"},children:["Grand Total: $",g.grandTotal]})]}),Object(s.jsxs)(U.a,{variant:"body2",sx:{mt:2},children:["Notes: ",g.notes||"-"]})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:ae,variant:"outlined",color:"secondary",children:"Close"}),Object(s.jsx)(_.a,{color:"primary",variant:"contained",startIcon:Object(s.jsx)(vc.a,{}),onClick:()=>se(g),children:"Download PDF"})]})]}),Object(s.jsxs)(G.a,{open:m,onClose:te,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:Object(s.jsxs)(E.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(s.jsx)(_e.a,{sx:{color:"#1976d2"}}),Object(s.jsx)("span",{children:"Bill Preview"})]})}),Object(s.jsx)(H.a,{children:Object(s.jsxs)(F.a,{sx:{bgcolor:"#fafdff",borderRadius:2,p:2},children:[Object(s.jsxs)(U.a,{variant:"subtitle1",gutterBottom:!0,children:["Patient: ",ne(a)]}),Object(s.jsxs)(uc.a,{size:"small",children:[Object(s.jsx)(xc.a,{children:Object(s.jsxs)(pc.a,{children:[Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Service"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Price"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Quantity"}),Object(s.jsx)(Oc.a,{sx:{fontWeight:700},children:"Total"})]})}),Object(s.jsx)(fc.a,{children:l.map((e=>Object(s.jsxs)(pc.a,{children:[Object(s.jsx)(Oc.a,{children:e.name}),Object(s.jsxs)(Oc.a,{children:["$",e.price]}),Object(s.jsx)(Oc.a,{children:e.quantity}),Object(s.jsxs)(Oc.a,{children:["$",e.total]})]},e.id)))})]}),Object(s.jsxs)(U.a,{variant:"h6",align:"right",sx:{mt:2,color:"#1976d2",fontWeight:700},children:["Total: $",ee]})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:te,variant:"outlined",color:"secondary",children:"Close"}),Object(s.jsx)(_.a,{variant:"contained",color:"primary",onClick:async()=>{const e=new Date,t={invoiceNumber:`INV-${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}${e.getTime()}`,patientId:Number(a),clinicId:Number(w),items:l.map(((e,t)=>({itemId:t+1,itemType:e.name,quantity:e.quantity,unitPrice:e.price,totalPrice:e.total,itemDescription:e.name}))),subTotal:ee,discount:D,taxAmount:W,grandTotal:ee-(D.amount||0)+Number(W),paymentStatus:"Pending",paymentMethod:P,transactionId:null,invoiceDate:e.toISOString(),dueDate:A?new Date(A).toISOString():null,notes:R,createdAt:e.toISOString(),updatedAt:e.toISOString()};try{await b.a.post("/invoices",t),h(!1),Z(),c([])}catch(s){alert("Failed to save invoice")}},disabled:!a||!w||0===l.length,sx:{fontWeight:700,minWidth:180,fontSize:16},children:"Confirm & Save"})]})]})]})},wc=a(245),Nc=a.n(wc);const Dc=[{value:"xray",label:"X-Ray"},{value:"panoramic",label:"Panoramic"},{value:"intraoral",label:"Intraoral Camera"},{value:"cbct",label:"CBCT"}],kc=["Pending","Reviewed","Flagged"];var Wc=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)([]),[l,c]=Object(n.useState)([]),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)(null),[u,x]=Object(n.useState)({patientId:"",doctorId:"",type:"",imageType:"",date:"",uploadDate:"",notes:"",diagnosisNotes:"",imageUrl:"",status:"Pending"}),[p,O]=Object(n.useState)(!1),[g,C]=Object(n.useState)(!0),[S,N]=Object(n.useState)(null);Object(n.useEffect)((()=>{D(),k(),W()}),[]);const D=async()=>{C(!0);try{const e=await b.a.get("/dental-imaging");t(e.data)}catch{t([])}C(!1)},k=async()=>{try{const e=await b.a.get("/patients");i(e.data)}catch{i([])}},W=async()=>{try{const e=await b.a.get("/doctors");c(e.data)}catch{c([])}},I=()=>{o(!1),N(null)},P=e=>{x({...u,[e.target.name]:e.target.value})},T=()=>j(!1),A=e=>{const t=a.find((t=>String(t.id)===String(e)));return t?t.fullName||t.name:e},M=e=>{const t=l.find((t=>String(t.id)===String(e)));return t?t.fullName||t.name:e},R=[{field:"imageUrl",headerName:"Preview",width:90,renderCell:e=>{let t=e.value;if(t&&t.startsWith("uploads\\")){const e=t.replace("uploads\\","").replace("uploads/","");t=`/dental-imaging/image/${e}`}return Object(s.jsx)(w.a,{src:t,variant:"rounded",sx:{width:56,height:40,bgcolor:"#e3f2fd"}})}},{field:"patientId",headerName:"Patient",width:150,valueGetter:e=>A(e.row.patientId)},{field:"doctorId",headerName:"Doctor",width:150,valueGetter:e=>M(e.row.doctorId)},{field:"imageType",headerName:"Type",width:120},{field:"status",headerName:"Status",width:110,renderCell:e=>Object(s.jsx)("span",{style:{color:"Reviewed"===e.value?"#388e3c":"Flagged"===e.value?"#d32f2f":"#1976d2",fontWeight:"bold"},children:e.value})},{field:"uploadDate",headerName:"Upload Date",width:130,valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString():"-"},{field:"diagnosisNotes",headerName:"Diagnosis Notes",width:220},{field:"actions",headerName:"Actions",width:120,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{title:"View",children:Object(s.jsx)(f.a,{color:"primary",onClick:()=>{return t=e.row,h(t),void j(!0);var t},children:Object(s.jsx)(Ka.a,{})})}),Object(s.jsx)(y.a,{title:"Delete",children:Object(s.jsx)(f.a,{color:"error",onClick:()=>(async e=>{await b.a.delete(`/dental-imaging/${e}`),D()})(e.row.id),children:Object(s.jsx)(ts.a,{})})})]})}];return Object(s.jsxs)(F.a,{sx:{maxWidth:1100,mx:"auto",mt:4,p:3},children:[Object(s.jsxs)(Mt.a,{sx:{p:3,mb:3,boxShadow:"0 4px 24px rgba(25,118,210,0.08)"},children:[Object(s.jsxs)(F.a,{sx:{display:"flex",alignItems:"center",mb:3},children:[Object(s.jsx)(Nc.a,{sx:{color:"#1976d2",fontSize:38,mr:1}}),Object(s.jsx)(U.a,{variant:"h4",sx:{color:"#1976d2",fontWeight:700},children:"Dental Imaging"})]}),Object(s.jsx)(_.a,{variant:"outlined",startIcon:Object(s.jsx)(Nc.a,{}),onClick:()=>{x({patientId:"",doctorId:"",type:"",imageType:"",date:"",uploadDate:"",notes:"",diagnosisNotes:"",imageUrl:"",status:"Pending"}),o(!0)},sx:{mb:2},children:"Add New Image"}),Object(s.jsx)("div",{style:{height:480,width:"100%",background:"#fff",borderRadius:8},children:Object(s.jsx)(qe.a,{rows:e,columns:R,pageSize:8,rowsPerPageOptions:[8,16,32],loading:g,getRowId:e=>e.id,disableSelectionOnClick:!0,autoHeight:!1,sx:{fontSize:15,"& .MuiDataGrid-columnHeaders":{bgcolor:"#e3f2fd",fontWeight:700},"& .MuiDataGrid-row:hover":{bgcolor:"#f0f6ff"}}})})]}),Object(s.jsxs)(G.a,{open:r,onClose:I,maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Dental Image"}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:u.patientId,onChange:P,fullWidth:!0,sx:{mb:2,mt:1},children:a.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:u.doctorId,onChange:P,fullWidth:!0,sx:{mb:2},children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName||e.name},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Imaging Type",name:"type",value:u.type,onChange:e=>{P(e),x((t=>{var a;return{...t,imageType:(null===(a=Dc.find((t=>t.value===e.target.value)))||void 0===a?void 0:a.label)||""}}))},fullWidth:!0,sx:{mb:2},children:Dc.map((e=>Object(s.jsx)(v.a,{value:e.value,children:e.label},e.value)))}),Object(s.jsx)(q.a,{label:"Status",name:"status",select:!0,value:u.status,onChange:P,fullWidth:!0,sx:{mb:2},children:kc.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Upload Date",name:"uploadDate",type:"datetime-local",value:u.uploadDate,onChange:P,fullWidth:!0,sx:{mb:2},InputLabelProps:{shrink:!0}}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:u.notes,onChange:P,fullWidth:!0,sx:{mb:2},multiline:!0,rows:2}),Object(s.jsx)(q.a,{label:"Diagnosis Notes",name:"diagnosisNotes",value:u.diagnosisNotes,onChange:P,fullWidth:!0,sx:{mb:2},multiline:!0,rows:2}),Object(s.jsxs)(F.a,{onDrop:e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files[0];if(!t)return;N(t);const a=new FileReader;a.onload=e=>{x((t=>({...t,imageUrl:e.target.result})))},a.readAsDataURL(t),O(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),O(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),O(!1)},sx:{mb:2,p:2,border:"2px dashed #1976d2",borderRadius:2,textAlign:"center",bgcolor:p?"#e3f2fd":"#fafafa",color:"#1976d2",cursor:"pointer",transition:"background 0.2s"},children:[Object(s.jsx)(U.a,{variant:"body2",sx:{mb:1},children:"Drag & drop image here, or click to select"}),Object(s.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"dental-image-upload",onChange:e=>{const t=e.target.files[0];if(!t)return;N(t);const a=new FileReader;a.onload=e=>{x((t=>({...t,imageUrl:e.target.result})))},a.readAsDataURL(t)}}),Object(s.jsx)("label",{htmlFor:"dental-image-upload",children:Object(s.jsx)(_.a,{variant:"outlined",component:"span",startIcon:Object(s.jsx)(Nc.a,{}),children:"Browse"})})]}),u.imageUrl&&Object(s.jsx)(F.a,{sx:{mb:2},children:Object(s.jsx)("img",{src:u.imageUrl,alt:"Preview",style:{maxWidth:"100%",borderRadius:8}})})]}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:I,children:"Cancel"}),Object(s.jsx)(_.a,{variant:"contained",onClick:async()=>{var e;if(!u.patientId||!u.type||!S)return;const t={patientId:u.patientId,doctorId:u.doctorId,imageType:(null===(e=Dc.find((e=>e.value===u.type)))||void 0===e?void 0:e.label)||u.type,type:u.type,uploadDate:u.uploadDate||(new Date).toISOString(),notes:u.notes,diagnosisNotes:u.diagnosisNotes,status:u.status,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},a=new FormData;Object.entries(t).forEach((e=>{let[t,s]=e;return a.append(t,s)})),a.append("image",S);const s=['curl -X POST "/dental-imaging"','-H "Content-Type: multipart/form-data"',...Object.entries(t).map((e=>{let[t,a]=e;return`-F "${t}=${a}"`})),S?`-F "image=@${S.name}"`:""];console.log("cURL:\n"+s.filter(Boolean).join(" \\\n")),await b.a.post("/dental-imaging",a,{headers:{"Content-Type":"multipart/form-data"}}),o(!1),N(null),D()},disabled:!u.patientId||!u.type||!S,children:"Add Image"})]})]}),Object(s.jsxs)(G.a,{open:d,onClose:T,maxWidth:"md",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Image Preview"}),Object(s.jsx)(H.a,{children:m&&Object(s.jsxs)(F.a,{children:[Object(s.jsxs)(U.a,{variant:"subtitle1",gutterBottom:!0,children:[A(m.patientId)," - ",m.imageType]}),Object(s.jsx)(F.a,{sx:{width:"100%",textAlign:"center",mb:2},children:Object(s.jsx)("img",{src:m.imageUrl&&m.imageUrl.startsWith("uploads\\")?`/dental-imaging/image/${m.imageUrl.replace("uploads\\","").replace("uploads/","")}`:m.imageUrl,alt:"Dental",style:{maxWidth:500,maxHeight:350,width:"100%",borderRadius:8,objectFit:"contain",background:"#fafafa"}})}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Doctor:"})," ",M(m.doctorId)]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Upload Date:"})," ",m.uploadDate?new Date(m.uploadDate).toLocaleString():"-"]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Status:"})," ",m.status||"Pending"]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Notes:"})," ",m.notes]}),Object(s.jsxs)(U.a,{variant:"body2",children:[Object(s.jsx)("strong",{children:"Diagnosis Notes:"})," ",m.diagnosisNotes]})]})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:T,children:"Close"})})]})]})},Ic=a(291),Pc=a.n(Ic),Tc=a(381),Ac=a.n(Tc);const Mc=["Dental Tools","Consumables","Medicines","Equipment","Other"],Rc=["In Stock","Low Stock","Out of Stock","Expired"],Ec=["pcs","box","pack","bottle","tube","ml","g","kg","L","other"];var qc=e=>{var t;let{closeModal:a,onSuccess:i}=e;const[l,c]=Object(n.useState)({name:"",category:"Dental Tools",quantity:0,unit:"pcs",clinicId:"",reorderLevel:0,expiryDate:"",status:"In Stock",notes:""}),[r,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)([]);Object(n.useEffect)((()=>{b.a.get("/clinics").then((e=>j(e.data))).catch((()=>j([])))}),[]);const m=e=>{const{name:t,value:a}=e.target;c((e=>({...e,[t]:a})))};return Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);(new Date).toISOString();const t=d.find((e=>e.id===l.clinicId)),s=t?t.name:"",n={...l,clinicId:Number(l.clinicId),clinicName:s};console.log("Submitting item:",n);try{await b.a.post("/inventory",n),i&&i(),a&&a()}finally{o(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{label:"Name",name:"name",value:l.name,onChange:m,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Category",name:"category",value:l.category,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:Mc.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Quantity",name:"quantity",type:"number",value:l.quantity,onChange:m,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Unit",name:"unit",value:l.unit,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:Ec.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:l.clinicId,onChange:m,fullWidth:!0,margin:"normal",children:d.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),l.clinicId&&Object(s.jsxs)("div",{style:{margin:"8px 0",color:"#007bff",fontWeight:"bold"},children:["Selected Clinic: ",(null===(t=d.find((e=>e.id===l.clinicId)))||void 0===t?void 0:t.name)||""]}),Object(s.jsx)(q.a,{label:"Reorder Level",name:"reorderLevel",type:"number",value:l.reorderLevel,onChange:m,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Expiry Date",name:"expiryDate",type:"date",value:l.expiryDate,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:l.status,onChange:m,fullWidth:!0,margin:"normal",children:Rc.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:l.notes,onChange:m,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:r,children:r?"Saving...":"Create Inventory Item"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:r,children:"Cancel"})]})]})};const zc=["Dental Tools","Consumables","Medicines","Equipment","Other"],Lc=["In Stock","Low Stock","Out of Stock","Expired"],Fc=["pcs","box","pack","bottle","tube","ml","g","kg","L","other"];var Bc=e=>{var t;let{closeModal:a,item:i={},clinics:l=[],onSuccess:c}=e;const[r,o]=Object(n.useState)({name:"",category:"Dental Tools",quantity:0,unit:"pcs",clinicId:"",reorderLevel:0,expiryDate:"",status:"In Stock",notes:""}),[d,j]=Object(n.useState)(!1);Object(n.useEffect)((()=>{i&&o({name:i.name||"",category:i.category||"Dental Tools",quantity:i.quantity||0,unit:i.unit||"pcs",clinicId:i.clinicId||"",reorderLevel:i.reorderLevel||0,expiryDate:i.expiryDate?i.expiryDate.slice(0,10):"",status:i.status||"In Stock",notes:i.notes||""})}),[i]);const m=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0);const t=(new Date).toISOString(),s=(l.find((e=>e.id===r.clinicId)),{...r,clinicId:Number(r.clinicId),updatedAt:t});try{await b.a.put(`/inventory/${i.id}`,s),c&&c(),a&&a()}finally{j(!1)}},autoComplete:"off",children:[Object(s.jsx)(q.a,{label:"Name",name:"name",value:r.name,onChange:m,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Category",name:"category",value:r.category,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:zc.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Quantity",name:"quantity",type:"number",value:r.quantity,onChange:m,fullWidth:!0,margin:"normal",required:!0}),Object(s.jsx)(q.a,{select:!0,label:"Unit",name:"unit",value:r.unit,onChange:m,fullWidth:!0,margin:"normal",required:!0,children:Fc.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic",name:"clinicId",value:r.clinicId,onChange:m,fullWidth:!0,margin:"normal",children:l.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))}),r.clinicId&&Object(s.jsxs)("div",{style:{margin:"8px 0",color:"#007bff",fontWeight:"bold"},children:["Selected Clinic: ",(null===(t=l.find((e=>e.id===r.clinicId)))||void 0===t?void 0:t.name)||""]}),Object(s.jsx)(q.a,{label:"Reorder Level",name:"reorderLevel",type:"number",value:r.reorderLevel,onChange:m,fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{label:"Expiry Date",name:"expiryDate",type:"date",value:r.expiryDate,onChange:m,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal"}),Object(s.jsx)(q.a,{select:!0,label:"Status",name:"status",value:r.status,onChange:m,fullWidth:!0,margin:"normal",children:Lc.map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:r.notes,onChange:m,fullWidth:!0,margin:"normal",multiline:!0,rows:2}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,sx:{mt:2},children:[Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:d,children:d?"Saving...":"Save Changes"}),Object(s.jsx)(_.a,{variant:"outlined",onClick:a,disabled:d,children:"Cancel"})]})]})})};const $c=[{id:1,name:"Demo Item",category:"Consumables",quantity:10,unit:"pcs",reorderLevel:5,expiryDate:"2025-12-31",status:"In Stock",clinicId:1,notes:"Demo notes"}],Uc=[{id:1,name:"Demo Clinic"}];var _c=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)([]),[l,c]=Object(n.useState)(!1),[r,o]=Object(n.useState)(null),[j,m]=Object(n.useState)(null),[h,u]=Object(n.useState)(!1),[x,p]=Object(n.useState)(!1),[O,g]=Object(n.useState)(null),[y,S]=Object(n.useState)(!1),[w,N]=Object(n.useState)(null);Object(n.useEffect)((()=>{c(!0),d.DEMO_MODE?(t($c),c(!1)):b.a.get("/inventory").then((e=>t(e.data))).finally((()=>c(!1)))}),[]),Object(n.useEffect)((()=>{d.DEMO_MODE?i(Uc):b.a.get("/clinics").then((e=>i(e.data))).catch((()=>i([])))}),[]);const D=()=>{o(null),m(null)},k=[{field:"name",headerName:"Name",width:180},{field:"category",headerName:"Category",width:140},{field:"quantity",headerName:"Quantity",width:100,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:0===e.value?"error":e.value<10?"warning":"success",size:"small"})},{field:"unit",headerName:"Unit",width:90},{field:"reorderLevel",headerName:"Reorder Level",width:120},{field:"expiryDate",headerName:"Expiry Date",width:130,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value?new Date(e.value).toLocaleDateString():"-",color:e.value&&new Date(e.value)<new Date?"error":"info",size:"small"})},{field:"status",headerName:"Status",width:110,renderCell:e=>Object(s.jsx)(nt.a,{label:e.value,color:"In Stock"===e.value?"success":"Low Stock"===e.value?"warning":"Out of Stock"===e.value?"error":"Expired"===e.value?"default":"primary",size:"small"})},{field:"clinicId",headerName:"Clinic",width:220,valueGetter:e=>{const t=a.find((t=>t.id===e.value));return t?t.name:e.value}},{field:"actions",headerName:"Actions",width:90,sortable:!1,filterable:!1,renderCell:e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{"aria-label":"more","aria-controls":"action-menu","aria-haspopup":"true",onClick:t=>((e,t)=>{o(e.currentTarget),m(t)})(t,e.row),size:"small",children:Object(s.jsx)(dt.a,{})})})}];return Object(s.jsx)(F.a,{sx:{maxWidth:1e3,mx:"auto",mt:4,p:3},children:Object(s.jsxs)(Mt.a,{sx:{p:2},children:[Object(s.jsxs)(U.a,{variant:"h5",sx:{mb:2,display:"flex",alignItems:"center",fontWeight:600},children:[Object(s.jsx)(Pc.a,{sx:{mr:1}}),"Inventory Items"]}),Object(s.jsxs)(_.a,{variant:"outlined",color:"primary",onClick:()=>u(!0),sx:{mb:2},children:[Object(s.jsx)("i",{className:"fas fa-plus"})," Create Inventory Item"]}),Object(s.jsx)(_.a,{variant:"outlined",sx:{color:"#1976d2",borderColor:"#1976d2",background:"#fff",mb:2,ml:2,"&:hover":{borderColor:"#1565c0",background:"#e3f2fd",color:"#1565c0"}},onClick:()=>{c(!0),d.DEMO_MODE?(t($c),c(!1)):b.a.get("/inventory").then((e=>t(e.data))).finally((()=>c(!1)))},children:"Refresh"}),l?Object(s.jsx)(Ee.a,{}):Object(s.jsxs)("div",{style:{height:430,width:"100%"},children:[Object(s.jsx)(qe.a,{rows:e,columns:k,pageSize:5,rowsPerPageOptions:[5],components:{Toolbar:ze.a},getRowId:e=>e.id}),Object(s.jsxs)(C.a,{id:"action-menu",anchorEl:r,open:Boolean(r),onClose:D,children:[Object(s.jsxs)(v.a,{onClick:()=>{N(j),S(!0),D()},children:[Object(s.jsx)(Ka.a,{fontSize:"small",sx:{mr:1}}),"View"]}),Object(s.jsxs)(v.a,{onClick:()=>{g(j),p(!0),D()},children:[Object(s.jsx)(Ac.a,{fontSize:"small",sx:{mr:1}}),"Edit"]}),Object(s.jsxs)(v.a,{onClick:async()=>{if(j){if(window.confirm(`Are you sure you want to delete "${j.name}"?`)){c(!0);try{await b.a.delete(`/inventory/${j.id}`),t((e=>e.filter((e=>e.id!==j.id))))}catch(e){alert("Failed to delete item.")}c(!1)}D()}},children:[Object(s.jsx)(ts.a,{fontSize:"small",sx:{mr:1,color:"error.main"}}),"Delete"]})]}),Object(s.jsxs)(G.a,{open:h,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Create Inventory Item"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(qc,{closeModal:()=>u(!1),onSuccess:async()=>{try{const e=await b.a.get("/inventory");t(e.data)}catch{}u(!1)}})})]}),Object(s.jsxs)(G.a,{open:x,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Edit Inventory Item"}),Object(s.jsx)(H.a,{children:Object(s.jsx)(Bc,{closeModal:()=>p(!1),item:O,clinics:a,onSuccess:e=>{e&&void 0!==e.id&&t((t=>t.map((t=>t.id===e.id?e:t)))),p(!1),g(null)}})})]}),Object(s.jsxs)(G.a,{open:y,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsxs)(V.a,{children:[Object(s.jsx)(Pc.a,{sx:{mr:1,color:"#1976d2"}}),Object(s.jsx)("span",{style:{color:"#1976d2",fontWeight:700},children:"Inventory Item Details"})]}),Object(s.jsx)(H.a,{children:w&&Object(s.jsxs)(F.a,{sx:{p:2,background:"#f5faff",borderRadius:2,boxShadow:2,border:"1px solid #90caf9",mb:2},children:[Object(s.jsx)(U.a,{variant:"h6",sx:{color:"#1976d2",fontWeight:600,mb:2},children:w.name}),Object(s.jsxs)(F.a,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[Object(s.jsx)(nt.a,{label:`ID: ${w.id}`,color:"primary"}),Object(s.jsx)(nt.a,{label:`Category: ${w.category}`,color:"info"}),Object(s.jsx)(nt.a,{label:`Unit: ${w.unit}`,color:"default"}),Object(s.jsx)(nt.a,{label:`Status: ${w.status}`,color:"In Stock"===w.status?"success":"Low Stock"===w.status?"warning":"Out of Stock"===w.status?"error":"Expired"===w.status?"default":"primary"})]}),Object(s.jsxs)(F.a,{sx:{mt:2},children:[Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Quantity:"})," ",w.quantity]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Reorder Level:"})," ",w.reorderLevel]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Expiry Date:"})," ",w.expiryDate?new Date(w.expiryDate).toLocaleDateString():"-"]}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("strong",{children:"Clinic:"})," ",(()=>{const e=a.find((e=>e.id===w.clinicId));return e?e.name:w.clinicId})()]}),Object(s.jsxs)(U.a,{sx:{mt:1},children:[Object(s.jsx)("strong",{children:"Notes:"})," ",w.notes||Object(s.jsx)("span",{style:{color:"#aaa"},children:"No notes"})]})]})]})})]})]})]})})},Gc=a(785),Vc=a(774),Hc=a(786);a(628);const Yc=[{label:"Home",href:"#hero"},{label:"About",href:"#about"},{label:"Services",href:"#services"},{label:"Doctors",href:"#doctors"},{label:"Staff",href:"#staff"},{label:"Memberships",href:"#memberships"},{label:"Contact",href:"#contact"},{label:"Login",href:"/login"}];var Jc=()=>{const[e,t]=i.a.useState(null),a=Object(r.useHistory)(),[l,c]=Object(n.useState)(["General & Family Dentistry","Cosmetic Dentistry (Whitening, Veneers)","Dental Implants & Restorations","Orthodontics (Braces & Aligners)","Pediatric Dentistry","Emergency Dental Care"]),[o,j]=Object(n.useState)(!0),[m,h]=Object(n.useState)({description:"",highlights:[]}),[u,x]=Object(n.useState)(!0),[p,O]=Object(n.useState)({system:{address:"",email:"",appName:"",showLogo:!1,phone:""},openHours:[{day:"Monday",hours:""},{day:"Tuesday",hours:""},{day:"Wednesday",hours:""},{day:"Thursday",hours:""},{day:"Friday",hours:""},{day:"Saturday",hours:""},{day:"Sunday",hours:""}]}),[y,S]=Object(n.useState)(!1),[N,D]=Object(n.useState)([]),[k,W]=Object(n.useState)(!1),[I,P]=Object(n.useState)([]),[T,A]=Object(n.useState)(!0),[M,R]=Object(n.useState)([]),[B,$]=Object(n.useState)([]),[J,Q]=Object(n.useState)(!0),[Z,X]=Object(n.useState)(!0),[K,ee]=Object(n.useState)(!1),[te,ae]=Object(n.useState)(!1),[se,ne]=Object(n.useState)({fullName:"",medicalRecordNumber:"",insuranceId:"",bloodType:"",allergies:[],medicalHistory:[],currentMedications:[],emergencyContact:{name:"",phone:"",relationship:""}}),[ie,le]=Object(n.useState)(null),[ce,re]=Object(n.useState)({doctorId:"",clinicLocationId:"",appointmentDate:"",startTime:"",endTime:"",status:"Scheduled",appointmentType:"In-Person",reasonForVisit:"",notes:""}),[oe,de]=Object(n.useState)([]),[je,be]=Object(n.useState)([]),[me,he]=Object(n.useState)({open:!1,message:"",severity:"success"});Object(n.useEffect)((()=>{(async()=>{j(!0);try{const e=await b.a.get("/services");e.data&&Array.isArray(e.data.services)&&c(e.data.services)}catch(e){}j(!1)})();(async()=>{x(!0);try{const e=await b.a.get("/aboutus");e.data&&e.data.aboutUs&&h(e.data.aboutUs)}catch(e){h({description:"",highlights:[]})}x(!1)})();(async()=>{try{if(d.DEMO_MODE){const e=await fetch("/demo/clinicssettings.json"),t=await e.json();t&&t.system&&(O(t),D(t.openHours||[]))}else{const e=await b.a.get("/clinicsettings");e.data&&e.data.system&&(O(e.data),D(e.data.openHours||[]))}}catch(e){}})();(async()=>{A(!0);try{const e=await b.a.get("/memberships");Array.isArray(e.data)?P(e.data.slice(0,4)):Array.isArray(e.data.memberships)&&P(e.data.memberships.slice(0,4))}catch(e){P([])}A(!1)})();(async()=>{Q(!0);try{const e=await b.a.get("/doctors");Array.isArray(e.data)?R(e.data.slice(0,4)):Array.isArray(e.data.doctors)&&R(e.data.doctors.slice(0,4))}catch(e){R([])}Q(!1)})();(async()=>{X(!0);try{const e=await b.a.get("/staff");Array.isArray(e.data)?$(e.data.slice(0,4)):Array.isArray(e.data.staffs)&&$(e.data.staffs.slice(0,4))}catch(e){$([])}X(!1)})()}),[]),Object(n.useEffect)((()=>{te&&(b.a.get("/doctors").then((e=>{de(Array.isArray(e.data)?e.data:e.data.doctors||[])})),b.a.get("/clinics").then((e=>{be(Array.isArray(e.data)?e.data:e.data.clinics||[])})))}),[te]);const ue=()=>t(null),xe=e=>{ue();const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth"})},pe=()=>{ee(!0)},Oe=()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})};return Object(s.jsxs)(F.a,{className:"home-page-root",sx:{bgcolor:"#fafdff",minHeight:"100vh",fontFamily:"Roboto, Arial, sans-serif"},children:[Object(s.jsx)(Gc.a,{position:"fixed",color:"primary",elevation:0,sx:{bgcolor:"#1976d2"},children:Object(s.jsxs)(Vc.a,{children:[Object(s.jsxs)(U.a,{variant:"h6",sx:{flexGrow:1,fontWeight:700,letterSpacing:1},children:[Object(s.jsx)("span",{style:{color:"#fff"},children:"Dentic"}),Object(s.jsx)("span",{style:{color:"#90caf9"},children:"Clinic"})]}),Object(s.jsx)(F.a,{sx:{display:{xs:"none",md:"flex"},gap:2},children:Yc.map((e=>"Login"===e.label?Object(s.jsx)(_.a,{variant:"contained",color:"secondary",sx:{fontWeight:600,fontSize:16,textTransform:"none",px:3},onClick:()=>{a.push(e.href)},children:e.label},e.label):"Contact"===e.label?Object(s.jsx)(_.a,{color:"inherit",sx:{fontWeight:500,fontSize:16,textTransform:"none"},onClick:Oe,children:e.label},e.label):"Memberships"===e.label?Object(s.jsx)(_.a,{color:"inherit",sx:{fontWeight:500,fontSize:16,textTransform:"none"},onClick:()=>xe("#memberships"),children:e.label},e.label):Object(s.jsx)(_.a,{color:"inherit",sx:{fontWeight:500,fontSize:16,textTransform:"none"},onClick:()=>{e.href.startsWith("#")?xe(e.href):window.location.href=e.href},children:e.label},e.label)))}),Object(s.jsxs)(F.a,{sx:{display:{xs:"flex",md:"none"}},children:[Object(s.jsx)(f.a,{color:"inherit",onClick:e=>t(e.currentTarget),children:Object(s.jsx)(ji.a,{})}),Object(s.jsxs)(C.a,{anchorEl:e,open:Boolean(e),onClose:ue,keepMounted:!0,children:[Yc.map((e=>"Login"===e.label?Object(s.jsx)(v.a,{onClick:()=>{ue(),a.push(e.href)},sx:{fontWeight:600,color:"secondary.main",bgcolor:"secondary.lighter",borderRadius:1,my:1},children:e.label},e.label):"Contact"===e.label?Object(s.jsx)(v.a,{onClick:()=>{ue(),Oe()},children:e.label},e.label):"Memberships"===e.label?Object(s.jsx)(v.a,{onClick:()=>{ue(),xe("#memberships")},children:e.label},e.label):Object(s.jsx)(v.a,{onClick:()=>{ue(),e.href.startsWith("#")?xe(e.href):window.location.href=e.href},children:e.label},e.label))),Object(s.jsx)(v.a,{onClick:()=>{ue(),pe()},sx:{fontWeight:600,color:"secondary.main",mt:1},children:"Book Visit"})]})]})]})}),Object(s.jsx)(F.a,{id:"hero",sx:{pt:{xs:10,md:14},pb:{xs:6,md:10},minHeight:{xs:400,md:520},background:"linear-gradient(90deg, rgba(25,118,210,0.85) 60%, rgba(66,165,245,0.85) 100%), url(images/1.jpg) center/cover no-repeat",color:"#fff",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:Object(s.jsxs)(Hc.a,{maxWidth:"md",children:[Object(s.jsx)(U.a,{variant:"h2",fontWeight:700,gutterBottom:!0,sx:{letterSpacing:1},children:"Dentic Dental Clinic"}),Object(s.jsx)(U.a,{variant:"h5",sx:{mb:4,fontWeight:400},children:"Modern, gentle, and affordable dental care for your whole family."}),Object(s.jsxs)(F.a,{display:"flex",justifyContent:"center",gap:2,sx:{mb:2},children:[Object(s.jsx)(_.a,{variant:"contained",color:"secondary",size:"large",sx:{px:4,fontWeight:600},onClick:pe,children:"Book Appointment"}),Object(s.jsx)(_.a,{variant:"outlined",color:"inherit",size:"large",sx:{px:4,fontWeight:600},onClick:Oe,children:"Contact Us"})]})]})}),Object(s.jsx)(Hc.a,{id:"about",maxWidth:"lg",sx:{mt:12},children:Object(s.jsxs)(Pt.a,{container:!0,spacing:6,alignItems:"center",children:[Object(s.jsx)(Pt.a,{item:!0,xs:12,md:6,children:Object(s.jsx)("img",{src:"images/2.jpg",alt:"Dentist at work",style:{width:"100%",borderRadius:16,boxShadow:"0 8px 32px rgba(25, 118, 210, 0.08)"}})}),Object(s.jsxs)(Pt.a,{item:!0,xs:12,md:6,children:[Object(s.jsx)(U.a,{variant:"h4",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2"},children:"About Us"}),Object(s.jsx)(it.a,{sx:{mb:2,width:60,borderColor:"#1976d2"}}),u?Object(s.jsx)(U.a,{children:"Loading..."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{variant:"body1",sx:{mb:2},children:m.description}),Object(s.jsx)("ul",{style:{paddingLeft:18,marginBottom:0},children:m.highlights&&m.highlights.map(((e,t)=>Object(s.jsx)("li",{children:e},t)))})]})]})]})}),Object(s.jsx)(Hc.a,{id:"services",maxWidth:"lg",sx:{mt:12},children:Object(s.jsxs)(Pt.a,{container:!0,spacing:6,alignItems:"center",children:[Object(s.jsxs)(Pt.a,{item:!0,xs:12,md:6,order:{xs:2,md:1},children:[Object(s.jsx)(U.a,{variant:"h4",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2"},children:"Our Services"}),Object(s.jsx)(it.a,{sx:{mb:2,width:60,borderColor:"#1976d2"}}),o?Object(s.jsx)(U.a,{children:"Loading services..."}):Object(s.jsx)("ul",{style:{paddingLeft:18,marginBottom:0,fontSize:18},children:l.map(((e,t)=>Object(s.jsx)("li",{children:e},t)))})]}),Object(s.jsx)(Pt.a,{item:!0,xs:12,md:6,order:{xs:1,md:2},children:Object(s.jsx)("img",{src:"images/3.jpg",alt:"Dental Services",style:{width:"100%",borderRadius:16,boxShadow:"0 8px 32px rgba(25, 118, 210, 0.08)"}})})]})}),Object(s.jsxs)(Hc.a,{id:"opening",maxWidth:"sm",sx:{mt:10},children:[Object(s.jsx)(U.a,{variant:"h4",align:"center",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2"},children:"Opening Hours"}),Object(s.jsx)(it.a,{sx:{mb:3,width:60,mx:"auto",borderColor:"#1976d2"}}),Object(s.jsx)(F.a,{sx:{textAlign:"center"},children:(p.openHours||[]).map(((e,t)=>Object(s.jsxs)(F.a,{sx:{mb:2,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,sx:{minWidth:140,textAlign:"right"},children:e.day}),Object(s.jsx)(nt.a,{label:e.hours,color:"Closed"===e.hours?"error":"primary",variant:"outlined",sx:{fontWeight:600,fontSize:16,px:2,bgcolor:"Closed"===e.hours?"#ffebee":"#e3f2fd",color:"Closed"===e.hours?"error.main":"primary.main",borderColor:"Closed"===e.hours?"#ffcdd2":"#90caf9"}})]},e.day)))})]}),Object(s.jsxs)(Hc.a,{id:"memberships",maxWidth:"lg",sx:{mt:10},children:[Object(s.jsx)(U.a,{variant:"h4",align:"center",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2",letterSpacing:1},children:"Memberships"}),Object(s.jsx)(it.a,{sx:{mb:3,width:60,mx:"auto",borderColor:"#1976d2"}}),T?Object(s.jsx)(U.a,{align:"center",children:"Loading memberships..."}):Object(s.jsxs)(Pt.a,{container:!0,spacing:4,justifyContent:"center",children:[I.map(((e,t)=>{var a,n,i;return Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:6,md:3,children:Object(s.jsxs)(Tt.a,{elevation:8,sx:{textAlign:"center",py:6,px:{xs:2,md:3},borderRadius:5,minHeight:420,width:"100%",background:"linear-gradient(135deg, #e3f2fd 60%, #fff 100%)",boxShadow:"0 12px 40px rgba(25, 118, 210, 0.13)",position:"relative",overflow:"visible",transition:"transform 0.2s",display:"flex",flexDirection:"column",alignItems:"center","&:hover":{transform:"translateY(-10px) scale(1.025)",boxShadow:"0 20px 60px rgba(25, 118, 210, 0.20)"}},children:[Object(s.jsx)(F.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",position:"absolute",top:24,right:24,zIndex:2},children:Object(s.jsx)(nt.a,{label:"Active"===e.paymentStatus?"Active":"Inactive",color:"Active"===e.paymentStatus?"success":"error",sx:{fontWeight:700,fontSize:16,px:2.5,letterSpacing:.5,py:1}})}),Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",width:90,height:90,mb:2,fontSize:40,fontWeight:700,boxShadow:3,zIndex:1,mt:6},children:(null===(a=e.membershipPlan)||void 0===a?void 0:a[0])||"M"}),Object(s.jsx)(U.a,{variant:"h5",fontWeight:700,sx:{color:"#1976d2",mb:1.5,letterSpacing:1,mt:1},children:e.membershipPlan}),Object(s.jsxs)(U.a,{variant:"body1",color:"text.secondary",sx:{mb:1},children:[Object(s.jsx)("b",{children:"Valid:"})," ",(null===(n=e.validityPeriod)||void 0===n?void 0:n.startDate)?new Date(e.validityPeriod.startDate).toLocaleDateString():"-"," ","to"," ",(null===(i=e.validityPeriod)||void 0===i?void 0:i.endDate)?new Date(e.validityPeriod.endDate).toLocaleDateString():"-"]}),Object(s.jsxs)(U.a,{variant:"body1",sx:{mb:1},children:[Object(s.jsx)("b",{children:"Renewal:"})," ",e.renewalDate?new Date(e.renewalDate).toLocaleDateString():"-"]}),Object(s.jsxs)(U.a,{variant:"body1",sx:{mb:1},children:[Object(s.jsx)("b",{children:"Last Payment:"})," ",e.lastPaymentAmount?Object(s.jsxs)("span",{style:{color:"#388e3c",fontWeight:600},children:["$",e.lastPaymentAmount]}):"-"]}),Object(s.jsx)(it.a,{sx:{my:2.5,borderColor:"#90caf9",width:"100%"}}),Object(s.jsx)(U.a,{variant:"body1",fontWeight:600,sx:{mb:1.5,color:"#1976d2"},children:"Benefits"}),Object(s.jsx)(F.a,{component:"ul",sx:{listStyle:"none",p:0,m:0,textAlign:"left",width:"100%",maxWidth:400,mx:"auto"},children:(e.benefits||[]).map(((e,t)=>Object(s.jsxs)(F.a,{component:"li",sx:{display:"flex",alignItems:"center",mb:1.2,fontSize:17,color:"#333"},children:[Object(s.jsx)(F.a,{component:"span",sx:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:"#1976d2",mr:2,flexShrink:0,mt:"2px"}}),e]},t)))})]})},e.id||t)})),0===I.length&&Object(s.jsx)(U.a,{align:"center",sx:{width:"100%",mt:2},children:"No memberships found."})]})]}),Object(s.jsxs)(Hc.a,{id:"doctors",maxWidth:"lg",sx:{mt:10},children:[Object(s.jsx)(U.a,{variant:"h4",align:"center",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2"},children:"Our Doctors"}),Object(s.jsx)(it.a,{sx:{mb:3,width:60,mx:"auto",borderColor:"#1976d2"}}),J?Object(s.jsx)(U.a,{align:"center",children:"Loading doctors..."}):Object(s.jsxs)(Pt.a,{container:!0,spacing:4,justifyContent:"center",children:[M.map(((e,t)=>{var a;return Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:6,md:3,children:Object(s.jsxs)(Tt.a,{elevation:2,sx:{textAlign:"center",py:4},children:[Object(s.jsx)(w.a,{src:e.img?e.img:`https://randomuser.me/api/portraits/med/men/${e.id%50}.jpg`,alt:e.fullName,sx:{width:80,height:80,mx:"auto",mb:2,fontSize:32,bgcolor:"#1976d2"},children:!e.img&&((null===(a=e.fullName)||void 0===a?void 0:a[0])||"D")}),Object(s.jsx)(U.a,{variant:"h6",fontWeight:600,children:e.fullName}),Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:e.specialization||e.specialty})]})},e.id||t)})),0===M.length&&Object(s.jsx)(U.a,{align:"center",sx:{width:"100%",mt:2},children:"No doctors found."})]})]}),Object(s.jsxs)(Hc.a,{id:"staff",maxWidth:"md",sx:{mt:10},children:[Object(s.jsx)(U.a,{variant:"h4",align:"center",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2"},children:"Our Staff"}),Object(s.jsx)(it.a,{sx:{mb:3,width:60,mx:"auto",borderColor:"#1976d2"}}),Z?Object(s.jsx)(U.a,{align:"center",children:"Loading staff..."}):Object(s.jsxs)(Pt.a,{container:!0,spacing:4,justifyContent:"center",children:[B.map(((e,t)=>{var a;return Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:6,md:3,children:Object(s.jsxs)(Tt.a,{elevation:1,sx:{textAlign:"center",py:4},children:[Object(s.jsx)(w.a,{src:e.img?e.img:`https://randomuser.me/api/portraits/med/women/${e.id%50}.jpg`,alt:e.fullName,sx:{width:70,height:70,mx:"auto",mb:2,fontSize:28,bgcolor:"#1976d2"},children:!e.img&&((null===(a=e.fullName)||void 0===a?void 0:a[0])||"S")}),Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,children:e.fullName}),Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:e.role})]})},e.id||t)})),0===B.length&&Object(s.jsx)(U.a,{align:"center",sx:{width:"100%",mt:2},children:"No staff found."})]})]}),Object(s.jsx)(F.a,{id:"contact",sx:{width:"100vw",position:"relative",left:"50%",right:"50%",ml:"-50vw",mr:"-50vw",background:"linear-gradient(rgba(25,118,210,0.85),rgba(25,118,210,0.85)), url(images/4.jpg) center/cover no-repeat",py:{xs:8,md:10},mt:10,mb:10},children:Object(s.jsx)(Hc.a,{maxWidth:"sm",children:Object(s.jsxs)(Tt.a,{elevation:4,sx:{p:{xs:3,md:5},bgcolor:"rgba(255,255,255,0.97)",borderRadius:4,boxShadow:"0 8px 32px rgba(25, 118, 210, 0.10)",textAlign:"center"},children:[Object(s.jsx)(U.a,{variant:"h4",fontWeight:700,gutterBottom:!0,sx:{color:"#1976d2"},children:"Contact Us"}),Object(s.jsx)(it.a,{sx:{mb:3,width:60,mx:"auto",borderColor:"#1976d2",opacity:.6}}),Object(s.jsx)(U.a,{variant:"body1",sx:{mb:3},children:"Have questions or want to book an appointment? Reach out to us!"}),Object(s.jsxs)(Pt.a,{container:!0,spacing:2,justifyContent:"center",sx:{mb:2},children:[Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:4,children:Object(s.jsxs)(F.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",mb:1},children:Object(s.jsx)("i",{className:"fas fa-envelope",style:{color:"#fff"}})}),Object(s.jsx)(U.a,{variant:"subtitle2",color:"text.secondary",children:"Email"}),Object(s.jsx)(U.a,{variant:"body2",sx:{wordBreak:"break-all"},children:p.system.email||"info@denticclinic.com"})]})}),Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:4,children:Object(s.jsxs)(F.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",mb:1},children:Object(s.jsx)("i",{className:"fas fa-phone",style:{color:"#fff"}})}),Object(s.jsx)(U.a,{variant:"subtitle2",color:"text.secondary",children:"Phone"}),Object(s.jsx)(U.a,{variant:"body2",children:p.system.phone||"+1 234 567 890"})]})}),Object(s.jsx)(Pt.a,{item:!0,xs:12,sm:4,children:Object(s.jsxs)(F.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",mb:1},children:Object(s.jsx)("i",{className:"fas fa-map-marker-alt",style:{color:"#fff"}})}),Object(s.jsx)(U.a,{variant:"subtitle2",color:"text.secondary",children:"Address"}),Object(s.jsx)(U.a,{variant:"body2",children:p.system.address||"123 Smile Street, Happy City, Country"})]})})]}),Object(s.jsx)(_.a,{variant:"contained",color:"primary",size:"large",sx:{mt:2,px:5,fontWeight:600,borderRadius:2},onClick:()=>window.location.href="/send-message",children:"Send Message"})]})})}),Object(s.jsx)(F.a,{sx:{bgcolor:"#1976d2",color:"#fff",py:6,mt:10},children:Object(s.jsxs)(Hc.a,{maxWidth:"sm",children:[Object(s.jsx)(U.a,{variant:"h5",align:"center",fontWeight:700,gutterBottom:!0,children:"Ready for a brighter, healthier smile?"}),Object(s.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(s.jsx)(_.a,{variant:"contained",color:"secondary",size:"large",sx:{px:5,fontWeight:600},onClick:pe,children:"Book Your Visit"})})]})}),Object(s.jsx)(F.a,{sx:{bgcolor:"#222",color:"#fff",py:3,mt:8},children:Object(s.jsx)(Hc.a,{maxWidth:"md",children:Object(s.jsxs)(U.a,{align:"center",variant:"body2",children:["\xa9 ",(new Date).getFullYear()," Dentic Clinic. All rights reserved."]})})}),Object(s.jsxs)(G.a,{open:K,onClose:()=>ee(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Add Patient"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)(E.a,{spacing:2,sx:{mt:1},children:[Object(s.jsx)(q.a,{label:"Full Name",value:se.fullName,onChange:e=>ne((t=>({...t,fullName:e.target.value}))),fullWidth:!0,required:!0}),Object(s.jsx)(q.a,{label:"Medical Record Number",value:se.medicalRecordNumber,onChange:e=>ne((t=>({...t,medicalRecordNumber:e.target.value}))),fullWidth:!0}),Object(s.jsx)(q.a,{label:"Insurance ID",value:se.insuranceId,onChange:e=>ne((t=>({...t,insuranceId:e.target.value}))),fullWidth:!0}),Object(s.jsxs)(z.a,{fullWidth:!0,children:[Object(s.jsx)(L.a,{children:"Blood Type"}),Object(s.jsx)(g.a,{label:"Blood Type",value:se.bloodType,onChange:e=>ne((t=>({...t,bloodType:e.target.value}))),children:["A+","A-","B+","B-","O+","O-","AB+","AB-"].map((e=>Object(s.jsx)(v.a,{value:e,children:e},e)))})]}),Object(s.jsx)(q.a,{label:"Allergies (comma separated)",value:se.allergies.join(", "),onChange:e=>ne((t=>({...t,allergies:e.target.value.split(",").map((e=>e.trim())).filter(Boolean)}))),fullWidth:!0}),Object(s.jsx)(q.a,{label:"Emergency Contact Name",value:se.emergencyContact.name,onChange:e=>ne((t=>({...t,emergencyContact:{...t.emergencyContact,name:e.target.value}}))),fullWidth:!0}),Object(s.jsx)(q.a,{label:"Emergency Contact Phone",value:se.emergencyContact.phone,onChange:e=>ne((t=>({...t,emergencyContact:{...t.emergencyContact,phone:e.target.value}}))),fullWidth:!0}),Object(s.jsx)(q.a,{label:"Emergency Contact Relationship",value:se.emergencyContact.relationship,onChange:e=>ne((t=>({...t,emergencyContact:{...t.emergencyContact,relationship:e.target.value}}))),fullWidth:!0})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>ee(!1),color:"primary",variant:"outlined",children:"Cancel"}),Object(s.jsx)(_.a,{onClick:async()=>{try{const e=await b.a.post("/patients",se);le(e.data),ee(!1),ae(!0)}catch(e){he({open:!0,message:"Failed to save patient",severity:"error"})}},color:"primary",variant:"contained",children:"Next"})]})]}),Object(s.jsxs)(G.a,{open:te,onClose:()=>ae(!1),maxWidth:"sm",fullWidth:!0,children:[Object(s.jsx)(V.a,{children:"Book Appointment"}),Object(s.jsx)(H.a,{children:Object(s.jsxs)(E.a,{spacing:2,sx:{mt:1},children:[Object(s.jsxs)(z.a,{fullWidth:!0,children:[Object(s.jsx)(L.a,{children:"Doctor"}),Object(s.jsx)(g.a,{label:"Doctor",value:ce.doctorId,onChange:e=>re((t=>({...t,doctorId:e.target.value}))),children:oe.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.fullName},e.id)))})]}),Object(s.jsxs)(z.a,{fullWidth:!0,children:[Object(s.jsx)(L.a,{children:"Clinic Location"}),Object(s.jsx)(g.a,{label:"Clinic Location",value:ce.clinicLocationId,onChange:e=>re((t=>({...t,clinicLocationId:e.target.value}))),children:je.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name},e.id)))})]}),Object(s.jsx)(q.a,{label:"Appointment Date",type:"date",value:ce.appointmentDate,onChange:e=>re((t=>({...t,appointmentDate:e.target.value}))),InputLabelProps:{shrink:!0},fullWidth:!0}),Object(s.jsx)(q.a,{label:"Start Time",type:"time",value:ce.startTime,onChange:e=>re((t=>({...t,startTime:e.target.value}))),InputLabelProps:{shrink:!0},fullWidth:!0}),Object(s.jsx)(q.a,{label:"End Time",type:"time",value:ce.endTime,onChange:e=>re((t=>({...t,endTime:e.target.value}))),InputLabelProps:{shrink:!0},fullWidth:!0}),Object(s.jsxs)(z.a,{fullWidth:!0,children:[Object(s.jsx)(L.a,{children:"Type"}),Object(s.jsxs)(g.a,{label:"Type",value:ce.appointmentType,onChange:e=>re((t=>({...t,appointmentType:e.target.value}))),children:[Object(s.jsx)(v.a,{value:"In-Person",children:"In-Person"}),Object(s.jsx)(v.a,{value:"Telemedicine",children:"Telemedicine"})]})]}),Object(s.jsx)(q.a,{label:"Reason for Visit",value:ce.reasonForVisit,onChange:e=>re((t=>({...t,reasonForVisit:e.target.value}))),fullWidth:!0}),Object(s.jsx)(q.a,{label:"Notes",value:ce.notes,onChange:e=>re((t=>({...t,notes:e.target.value}))),fullWidth:!0,multiline:!0,rows:2})]})}),Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(_.a,{onClick:()=>ae(!1),color:"primary",variant:"outlined",children:"Cancel"}),Object(s.jsx)(_.a,{onClick:async()=>{try{const e={...ce,patientId:ie.id};await b.a.post("/appointments",e),ae(!1),he({open:!0,message:"Appointment created successfully!",severity:"success"}),setTimeout((()=>{window.location.href="/"}),1200)}catch(e){he({open:!0,message:"Failed to create appointment",severity:"error"})}},color:"primary",variant:"contained",children:"Book"})]})]}),Object(s.jsx)(rt.a,{open:me.open,autoHideDuration:3e3,onClose:()=>he({...me,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(s.jsx)(lt.a,{onClose:()=>he({...me,open:!1}),severity:me.severity,sx:{width:"100%"},children:me.message})})]})},Qc=a(731),Zc=a(388),Xc=a.n(Zc),Kc=a(383),er=a.n(Kc),tr=a(384),ar=a.n(tr),sr=a(292),nr=a.n(sr),ir=a(293),lr=a.n(ir),cr=a(385),rr=a.n(cr),or=a(386),dr=a.n(or),jr=a(387),br=a.n(jr),mr=a(279),hr=a.n(mr),ur=a(382);const xr=[{icon:Object(s.jsx)(er.a,{color:"primary"}),primary:"Widgets",secondary:"Quick stats for patients, appointments, staff, and more. Hover for highlight."},{icon:Object(s.jsx)(ar.a,{color:"secondary"}),primary:"Charts",secondary:"Visualize clinic data (patients, medicaments, appointments, etc.)"},{icon:Object(s.jsx)(nr.a,{sx:{color:"#fbc02d"}}),primary:"Recent Activities",secondary:"Track latest actions and updates in your clinic."},{icon:Object(s.jsx)(lr.a,{sx:{color:"#43a047"}}),primary:"Quick Actions",secondary:"Use buttons to add patients, schedule appointments, and manage records."},{icon:Object(s.jsx)(lr.a,{sx:{color:"#0288d1"}}),primary:"Top 5 Lists",secondary:"See top doctors, patients, and medicaments at a glance."},{icon:Object(s.jsx)(rr.a,{sx:{color:"#d32f2f"}}),primary:"Financial Summary",secondary:"Overview of income, expenses, and profit."},{icon:Object(s.jsx)(dr.a,{sx:{color:"#8e24aa"}}),primary:"Search & Filter",secondary:"Quickly find patients, appointments, or medicaments."},{icon:Object(s.jsx)(br.a,{sx:{color:"#1976d2"}}),primary:"Settings",secondary:"Edit your profile or customize your dashboard widgets."},{icon:Object(s.jsx)(hr.a,{sx:{color:"#009688"}}),primary:"Help",secondary:"For support, use the Live Chat or contact your admin."}],pr=[{label:"Dashboard",desc:"Overview, widgets, charts, and quick stats."},{label:"Patient Management",desc:"Add, edit, view, and search patients. Medical history, allergies, blood type, emergency contact."},{label:"Doctor Management",desc:"Manage doctor profiles and schedules."},{label:"Staff Management",desc:"Manage staff profiles and roles."},{label:"Clinic Management",desc:"Clinic info, locations, and working hours."},{label:"Appointment Management",desc:"Book, edit, and view appointments. Telemedicine support."},{label:"Billing & Invoices",desc:"Create and manage bills, invoices, and payments."},{label:"Payments",desc:"Track and manage patient payments."},{label:"Expenses",desc:"Record and monitor clinic expenses."},{label:"Memberships",desc:"Manage patient memberships and plans."},{label:"Prescription Management",desc:"Create, edit, and view prescriptions."},{label:"Medicament Management",desc:"Manage medicaments, manufacturers, and stock."},{label:"Certificates",desc:"Issue and manage certificates."},{label:"Reports & Analytics",desc:"View statistics, summaries, and trends."},{label:"Contact & Communication",desc:"Contact section, book visit, and communication tools."},{label:"Settings",desc:"Profile and dashboard customization."},{label:"Help & Documentation",desc:"Access help center and user guides."}];var Or=()=>{const[e,t]=Object(n.useState)(null),[a,i]=Object(n.useState)("");return Object(n.useEffect)((()=>{e&&i(ur[e]||"Documentation coming soon.")}),[e]),Object(s.jsxs)(F.a,{sx:{maxWidth:700,width:"100%",mx:"auto",mt:4,mb:4,px:{xs:1,sm:2}},children:[Object(s.jsxs)(Mt.a,{elevation:3,sx:{borderRadius:4,p:{xs:2,sm:4},bgcolor:"#fafdff",boxShadow:"0 4px 24px rgba(25,118,210,0.08)",width:"100%",minWidth:320},children:[Object(s.jsxs)(F.a,{display:"flex",alignItems:"center",mb:2,children:[Object(s.jsx)(Xc.a,{sx:{fontSize:36,color:"#1976d2",mr:1}}),Object(s.jsx)(U.a,{variant:"h4",fontWeight:700,color:"primary",children:"Dashboard Documentation & Help"})]}),Object(s.jsx)(U.a,{variant:"subtitle1",color:"text.secondary",mb:3,children:"Welcome to your Dentic Clinic dashboard! Here\u2019s a quick guide to help you get the most out of your admin panel."}),Object(s.jsx)(U.a,{variant:"h6",color:"primary",sx:{mb:1,mt:2},children:"Main Modules"}),Object(s.jsx)(ci.a,{sx:{mb:2},children:pr.map(((e,a)=>Object(s.jsxs)(ri.a,{button:!0,onClick:()=>t(e.label),sx:{pl:0,mb:.5,borderRadius:2,"&:hover":{bgcolor:"#e3f2fd",cursor:"pointer"}},children:[Object(s.jsx)(Qc.a,{sx:{minWidth:32},children:Object(s.jsx)(nr.a,{color:"primary",fontSize:"small"})}),Object(s.jsx)(oi.a,{primary:Object(s.jsx)(U.a,{variant:"subtitle2",fontWeight:600,children:e.label}),secondary:Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:e.desc})})]},a)))}),Object(s.jsx)(it.a,{sx:{mb:2}}),Object(s.jsx)(ci.a,{children:xr.map(((e,t)=>Object(s.jsxs)(ri.a,{alignItems:"flex-start",sx:{mb:1},children:[Object(s.jsx)(Qc.a,{sx:{minWidth:40},children:e.icon}),Object(s.jsx)(oi.a,{primary:Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,children:e.primary}),secondary:Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:e.secondary})})]},t)))}),Object(s.jsx)(it.a,{sx:{my:2}}),Object(s.jsxs)(F.a,{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,children:[Object(s.jsx)(U.a,{variant:"body2",color:"text.secondary",children:"For more detailed documentation, please refer to the user manual or contact support."}),Object(s.jsx)(_.a,{variant:"contained",color:"primary",href:"/help",sx:{textTransform:"none",fontWeight:600},children:"Go to Help Center"})]})]}),Object(s.jsxs)(G.a,{open:!!e,onClose:()=>t(null),maxWidth:"md",fullWidth:!0,children:[Object(s.jsxs)(V.a,{children:[e," Documentation"]}),Object(s.jsx)(H.a,{dividers:!0,children:Object(s.jsx)(U.a,{variant:"body1",sx:{whiteSpace:"pre-line"},children:a})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(_.a,{onClick:()=>t(null),color:"primary",variant:"outlined",children:"Close"})})]})]})},fr=a(294),gr=a.n(fr);var vr=()=>{const e=Object(r.useHistory)(),{register:t,handleSubmit:a,errors:i}=Object(Ne.a)(),[l,c]=Object(n.useState)({username:"",password:""}),[o,d]=Object(n.useState)(!1),j=e=>{const{name:t,value:a}=e.target;c({...l,[t]:a})};return Object(s.jsx)(F.a,{sx:{minHeight:"100vh",bgcolor:"#fafdff",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:'url("images/login.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:Object(s.jsxs)(Mt.a,{elevation:6,sx:{p:4,maxWidth:380,width:"100%",borderRadius:3,backdropFilter:"blur(2px)",background:"rgba(255,255,255,0.92)"},children:[Object(s.jsxs)(E.a,{alignItems:"center",spacing:2,children:[Object(s.jsx)(w.a,{sx:{bgcolor:"#1976d2",width:64,height:64},children:Object(s.jsx)(gr.a,{fontSize:"large"})}),Object(s.jsx)(U.a,{variant:"h5",fontWeight:700,color:"primary",children:"Register Account"})]}),Object(s.jsxs)("form",{onSubmit:a((async t=>{d(!0);try{(await fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l.username,password:l.password})})).ok?(alert("Registration successful! You can now log in."),e.replace("/login")):alert("Registration failed. Please try a different username.")}catch(a){alert("An error occurred. Please try again.")}d(!1)})),style:{marginTop:24},children:[Object(s.jsx)(q.a,{label:"Username",name:"username",fullWidth:!0,margin:"normal",variant:"outlined",value:l.username,onChange:j,inputRef:t({required:!0}),error:!!(null===i||void 0===i?void 0:i.username),helperText:(null===i||void 0===i?void 0:i.username)&&"Username is required",autoFocus:!0}),Object(s.jsx)(q.a,{label:"Password",name:"password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",value:l.password,onChange:j,inputRef:t({required:!0}),error:!!(null===i||void 0===i?void 0:i.password),helperText:(null===i||void 0===i?void 0:i.password)&&"Password is required"}),Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2,mb:1,fontWeight:600},startIcon:Object(s.jsx)(gr.a,{}),disabled:o,children:o?"Registering...":"Register"}),Object(s.jsx)(_.a,{type:"button",onClick:()=>{e.replace("/login")},variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:1,fontWeight:600},children:"Back to Login"})]}),Object(s.jsxs)(U.a,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:["\xa9 ",(new Date).getFullYear()," Dentic Clinic"]})]})})};var yr=()=>{const[e,t]=Object(n.useState)(""),[a,i]=Object(n.useState)([]),[l,c]=Object(n.useState)(""),[r,o]=Object(n.useState)(!0),[d,j]=Object(n.useState)(!1),[m,h]=Object(n.useState)(""),[u,x]=Object(n.useState)("");Object(n.useEffect)((()=>{p()}),[]);const p=async()=>{o(!0),x("");try{const e=(await b.a.get("/aboutus")).data.aboutUs||{};t(e.description||""),i(e.highlights||[]),c((e.highlights||[]).join("\n"))}catch(e){x("Failed to load About Us.")}o(!1)};return Object(s.jsxs)(Mt.a,{sx:{maxWidth:700,mx:"auto",mt:6,p:4},children:[Object(s.jsxs)(U.a,{variant:"h4",gutterBottom:!0,children:[Object(s.jsx)("i",{className:"menu-icon fa fa-info-circle"})," About Us"]}),u&&Object(s.jsx)(lt.a,{severity:"error",sx:{mb:2},children:u}),m&&Object(s.jsx)(lt.a,{severity:"success",sx:{mb:2},children:m}),Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Description",multiline:!0,minRows:3,value:e,onChange:e=>{t(e.target.value)},fullWidth:!0,disabled:!d||r}),Object(s.jsx)(q.a,{label:"Highlights",multiline:!0,minRows:5,value:l,onChange:e=>{c(e.target.value)},fullWidth:!0,disabled:!d||r,helperText:"One highlight per line"}),d?Object(s.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(s.jsx)(_.a,{variant:"contained",color:"success",onClick:async()=>{o(!0),x(""),h("");try{const t=l.split("\n").map((e=>e.trim())).filter(Boolean);await b.a.post("/aboutus",{aboutUs:{description:e,highlights:t}}),i(t),j(!1),h("About Us updated successfully.")}catch(t){x("Failed to update About Us.")}o(!1)},disabled:r,children:"Save"}),Object(s.jsx)(_.a,{variant:"outlined",color:"secondary",onClick:()=>{j(!1),c(a.join("\n")),h(""),x("")},disabled:r,children:"Cancel"})]}):Object(s.jsx)(_.a,{variant:"contained",color:"primary",onClick:()=>{j(!0),h(""),x("")},disabled:r,sx:{width:120},children:"Edit"})]}),!d&&Object(s.jsxs)("div",{style:{marginTop:24},children:[Object(s.jsx)(U.a,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Highlights:"}),Object(s.jsx)("ul",{className:"list-group list-group-flush",children:a.map(((e,t)=>Object(s.jsx)("li",{className:"list-group-item",children:e},t)))})]})]})};const Cr=e=>{let{connected:t}=e;return Object(s.jsx)("div",{className:"col-md-12",style:{display:t?"block":"none"},children:Object(s.jsxs)("div",{children:[Object(s.jsx)(r.Route,{exact:!0,path:"/dashboard",component:Ce}),Object(s.jsx)(r.Route,{exact:!0,path:"/rendezvous",component:yi}),Object(s.jsx)(r.Route,{exact:!0,path:"/prescription",component:Ot}),Object(s.jsx)(r.Route,{exact:!0,path:"/addprescription",component:He}),Object(s.jsx)(r.Route,{exact:!0,path:"/patient",component:la}),Object(s.jsx)(r.Route,{exact:!0,path:"/medicaments",component:pa}),Object(s.jsx)(r.Route,{exact:!0,path:"/configuration",component:ie}),Object(s.jsx)(r.Route,{exact:!0,path:"/add-prescription",component:He}),Object(s.jsx)(r.Route,{exact:!0,path:"/add-medicament",component:ka}),Object(s.jsx)(r.Route,{exact:!0,path:"/add-patient",component:Yt}),Object(s.jsx)(r.Route,{exact:!0,path:"/add-appointement",component:$e}),Object(s.jsx)(r.Route,{exact:!0,path:"/payment",component:It}),Object(s.jsx)(r.Route,{exact:!0,path:"/income",component:$a}),Object(s.jsx)(r.Route,{exact:!0,path:"/expense",component:Ea}),Object(s.jsx)(r.Route,{exact:!0,path:"/note",component:Va}),Object(s.jsx)(r.Route,{exact:!0,path:"/todo",component:Qa}),Object(s.jsx)(r.Route,{exact:!0,path:"/message",component:os}),Object(s.jsx)(r.Route,{exact:!0,path:"/telemedicine",component:mc}),Object(s.jsx)(r.Route,{exact:!0,path:"/billing",component:Sc}),Object(s.jsx)(r.Route,{exact:!0,path:"/dental-imaging",component:Wc}),Object(s.jsx)(r.Route,{exact:!0,path:"/inventory-item",component:_c}),Object(s.jsx)(r.Route,{exact:!0,path:"/aboutus",component:yr}),Object(s.jsx)(r.Route,{exact:!0,path:"/medicament-manufacture",component:hs}),Object(s.jsx)(r.Route,{exact:!0,path:"/medicament-category",component:fs}),Object(s.jsx)(r.Route,{exact:!0,path:"/lab-test",component:Rs}),Object(s.jsx)(r.Route,{exact:!0,path:"/invoice",component:Bs}),Object(s.jsx)(r.Route,{exact:!0,path:"/certificate",component:en}),Object(s.jsx)(r.Route,{exact:!0,path:"/consultation",component:tn}),Object(s.jsx)(r.Route,{exact:!0,path:"/certificate-template",component:bn}),Object(s.jsx)(r.Route,{exact:!0,path:"/quick-test",component:Rs}),Object(s.jsx)(r.Route,{exact:!0,path:"/medicament-analytics",component:mn}),Object(s.jsx)(r.Route,{exact:!0,path:"/patient-analytics",component:hn}),Object(s.jsx)(r.Route,{exact:!0,path:"/sale-analytics",component:On}),Object(s.jsx)(r.Route,{exact:!0,path:"/service",component:Dn}),Object(s.jsx)(r.Route,{exact:!0,path:"/homepage",component:Jc}),Object(s.jsx)(r.Route,{exact:!0,path:"/openinghourpage",component:qn}),Object(s.jsx)(r.Route,{exact:!0,path:"/servicepage",component:$n}),Object(s.jsx)(r.Route,{exact:!0,path:"/blogpage",component:Vn}),Object(s.jsx)(r.Route,{exact:!0,path:"/contactpage",component:Bn}),Object(s.jsx)(r.Route,{exact:!0,path:"/testimonials",component:Kn}),Object(s.jsx)(r.Route,{exact:!0,path:"/schedule",component:ti}),Object(s.jsx)(r.Route,{exact:!0,path:"/messages",component:os}),Object(s.jsx)(r.Route,{exact:!0,path:"/newsletters",component:si}),Object(s.jsx)(r.Route,{path:"/result/:input",component:ii}),Object(s.jsx)(r.Route,{exact:!0,path:"/profile",component:li}),Object(s.jsx)(r.Route,{exact:!0,path:"/case-study",component:Si}),Object(s.jsx)(r.Route,{exact:!0,path:"/dental-membership",component:Mi}),Object(s.jsx)(r.Route,{exact:!0,path:"/operation",component:Gi}),Object(s.jsx)(r.Route,{exact:!0,path:"/treatment-plan",component:ql}),Object(s.jsx)(r.Route,{exact:!0,path:"/procedure",component:Ml}),Object(s.jsx)(r.Route,{exact:!0,path:"/staff",component:Nl}),Object(s.jsx)(r.Route,{exact:!0,path:"/marketing",component:ml}),Object(s.jsx)(r.Route,{exact:!0,path:"/loyalty",component:bl}),Object(s.jsx)(r.Route,{exact:!0,path:"/legal",component:jl}),Object(s.jsx)(r.Route,{exact:!0,path:"/insurance",component:dl}),Object(s.jsx)(r.Route,{exact:!0,path:"/income",component:$a}),Object(s.jsx)(r.Route,{exact:!0,path:"/equipment-maintenance",component:cl}),Object(s.jsx)(r.Route,{exact:!0,path:"/diagnosis",component:Qi}),Object(s.jsx)(r.Route,{exact:!0,path:"/clinic",component:Hi}),Object(s.jsx)(r.Route,{exact:!0,path:"/doctor",component:Gl}),Object(s.jsx)(r.Route,{exact:!0,path:"/help",component:Or}),Object(s.jsx)(r.Route,{exact:!0,path:"/odontogram",component:Kl}),Object(s.jsx)(r.Route,{exact:!0,path:"/appointments/add",component:xi}),Object(s.jsx)(r.Route,{exact:!0,path:"/patients/add",component:Yt}),Object(s.jsx)(r.Route,{exact:!0,path:"/inventory/add",component:qc})]})})};Cr.defaultProps={};var Sr=Cr;a(629);const wr=e=>{let{connected:t}=e;return Object(s.jsx)("footer",{className:"site-footer",style:{display:t?"block":"none"},children:Object(s.jsx)("div",{className:"footer-inner bg-white",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-6"}),Object(s.jsx)("div",{className:"col-sm-6 text-right"})]})})})};wr.defaultProps={};var Nr=wr;var Dr=()=>{const[e,t]=Object(n.useState)({name:"",subject:"",message:""}),[a,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!1),[o,d]=Object(n.useState)(""),j=Object(r.useHistory)(),m=a=>{t({...e,[a.target.name]:a.target.value}),d("")};return Object(s.jsx)(F.a,{sx:{maxWidth:480,mx:"auto",mt:8},children:Object(s.jsxs)(Mt.a,{elevation:3,sx:{p:4},children:[Object(s.jsx)(U.a,{variant:"h5",fontWeight:700,gutterBottom:!0,color:"primary",children:"Send a Message"}),Object(s.jsx)("form",{onSubmit:async a=>{a.preventDefault(),i(!0),d(""),c(!1);try{await b.a.post("/messages",e),c(!0),t({name:"",subject:"",message:""}),setTimeout((()=>{j.push("/")}),1500)}catch(s){d("Failed to send message. Please try again.")}i(!1)},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{label:"Your Name",name:"name",value:e.name,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Subject",name:"subject",value:e.subject,onChange:m,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Message",name:"message",value:e.message,onChange:m,required:!0,fullWidth:!0,multiline:!0,minRows:4}),o&&Object(s.jsx)(lt.a,{severity:"error",children:o}),l&&Object(s.jsx)(lt.a,{severity:"success",children:"Message sent successfully! Redirecting..."}),Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:a,sx:{fontWeight:600},children:a?"Sending...":"Send Message"})]})})]})})};const kr={patientId:"",doctorId:"",clinicLocationId:"",appointmentDate:"",startTime:"",endTime:"",status:"Scheduled",appointmentType:"In-Person",reasonForVisit:"",notes:""};var Wr=()=>{const[e,t]=Object(n.useState)(kr),[a,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!1),[o,d]=Object(n.useState)(""),[j,m]=Object(n.useState)([]),[h,u]=Object(n.useState)([]),[x,p]=Object(n.useState)([]),[O,f]=Object(n.useState)(!0),g=Object(r.useHistory)();Object(n.useEffect)((()=>{(async()=>{f(!0);try{const[e,t,a]=await Promise.all([b.a.get("/patients"),b.a.get("/doctors"),b.a.get("/clinics")]);m(e.data||[]),u(t.data||[]),p(a.data||[])}catch(e){d("Failed to load select options.")}f(!1)})()}),[]);const y=a=>{t({...e,[a.target.name]:a.target.value}),d("")};return Object(s.jsx)(F.a,{sx:{maxWidth:500,mx:"auto",mt:8},children:Object(s.jsxs)(Mt.a,{elevation:3,sx:{p:4},children:[Object(s.jsx)(U.a,{variant:"h5",fontWeight:700,gutterBottom:!0,color:"primary",children:"Book Appointment"}),Object(s.jsx)("form",{onSubmit:async a=>{a.preventDefault(),i(!0),d(""),c(!1);try{await b.a.post("/appointments",{...e,id:void 0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),c(!0),t(kr),setTimeout((()=>g.push("/")),1500)}catch(s){d("Failed to book appointment. Please try again.")}i(!1)},children:Object(s.jsxs)(E.a,{spacing:2,children:[Object(s.jsx)(q.a,{select:!0,label:"Patient",name:"patientId",value:e.patientId,onChange:y,required:!0,fullWidth:!0,disabled:O,children:O?Object(s.jsx)(v.a,{value:"",children:Object(s.jsx)(Za.a,{size:20})}):j.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name||e.fullName||`Patient #${e.id}`},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Doctor",name:"doctorId",value:e.doctorId,onChange:y,required:!0,fullWidth:!0,disabled:O,children:O?Object(s.jsx)(v.a,{value:"",children:Object(s.jsx)(Za.a,{size:20})}):h.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name||e.fullName||`Doctor #${e.id}`},e.id)))}),Object(s.jsx)(q.a,{select:!0,label:"Clinic Location",name:"clinicLocationId",value:e.clinicLocationId,onChange:y,required:!0,fullWidth:!0,disabled:O,children:O?Object(s.jsx)(v.a,{value:"",children:Object(s.jsx)(Za.a,{size:20})}):x.map((e=>Object(s.jsx)(v.a,{value:e.id,children:e.name||e.location||`Clinic #${e.id}`},e.id)))}),Object(s.jsx)(q.a,{label:"Appointment Date",name:"appointmentDate",type:"date",value:e.appointmentDate,onChange:y,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}}),Object(s.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(s.jsx)(q.a,{label:"Start Time",name:"startTime",type:"time",value:e.startTime,onChange:y,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}}),Object(s.jsx)(q.a,{label:"End Time",name:"endTime",type:"time",value:e.endTime,onChange:y,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})]}),Object(s.jsxs)(q.a,{label:"Status",name:"status",select:!0,value:e.status,onChange:y,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"Scheduled",children:"Scheduled"}),Object(s.jsx)(v.a,{value:"Completed",children:"Completed"}),Object(s.jsx)(v.a,{value:"Cancelled",children:"Cancelled"})]}),Object(s.jsxs)(q.a,{label:"Appointment Type",name:"appointmentType",select:!0,value:e.appointmentType,onChange:y,fullWidth:!0,children:[Object(s.jsx)(v.a,{value:"In-Person",children:"In-Person"}),Object(s.jsx)(v.a,{value:"Online",children:"Online"})]}),Object(s.jsx)(q.a,{label:"Reason For Visit",name:"reasonForVisit",value:e.reasonForVisit,onChange:y,required:!0,fullWidth:!0}),Object(s.jsx)(q.a,{label:"Notes",name:"notes",value:e.notes,onChange:y,fullWidth:!0,multiline:!0,minRows:2}),o&&Object(s.jsx)(lt.a,{severity:"error",children:o}),l&&Object(s.jsx)(lt.a,{severity:"success",children:"Appointment booked! Redirecting..."}),Object(s.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",disabled:a||O,sx:{fontWeight:600},children:a?"Booking...":"Book Appointment"})]})})]})})},Ir=a(389);var Pr=()=>{const[e,t]=Object(n.useState)(!1),a=e=>{t(e)};return Object(s.jsx)("div",{children:Object(s.jsx)(Ir.BrowserRouter,{children:Object(s.jsxs)(r.Switch,{children:[Object(s.jsx)(r.Route,{exact:!0,path:"/",children:Object(s.jsx)(Jc,{})}),Object(s.jsx)(r.Route,{exact:!0,path:"/register",children:Object(s.jsx)(vr,{})}),Object(s.jsx)(r.Route,{exact:!0,path:"/send-message",children:Object(s.jsx)(Dr,{})}),Object(s.jsx)(r.Route,{path:"/book-appointment",children:Object(s.jsx)(Wr,{})}),Object(s.jsx)(r.Route,{path:"*",children:!0===e?Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{connected:e}),Object(s.jsx)(P,{connected:e,handleClick:a}),Object(s.jsxs)("div",{id:"right-panel",className:"right-panel",children:[Object(s.jsx)("div",{className:"content",children:Object(s.jsx)("div",{className:"animated fadeIn",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(Sr,{connected:e})})})}),Object(s.jsx)("div",{className:"clearfix"}),Object(s.jsx)(Nr,{connected:e})]})]}):Object(s.jsx)(va,{handleClick:a})})]})})})};const Tr=d.DEMO_MODE,Ar={"/aboutus":"/demo/aboutus.json","/appointments":"/demo/appointments.json","/certificates":"/demo/certificates.json","/clinics":"/demo/clinics.json","/clinicssettings":"/demo/clinicssettings.json","/dental-imaging":"/demo/dental-imaging.json","/diagnoses":"/demo/diagnoses.json","/doctors":"/demo/doctors.json","/equipements":"/demo/equipement.json","/expenses":"/demo/expenses.json","/insurances":"/demo/insurances.json","/inventory":"/demo/inventory.json","/invoices":"/demo/invoices.json","/labtests":"/demo/labtests.json","/medicament-manufactures":"/demo/medicament-manufactures.json","/medicaments-categories":"/demo/medicaments-categories.json","/medicaments":"/demo/medicaments.json","/memberships":"/demo/memberships.json","/operations":"/demo/operations.json","/patients":"/demo/patients.json","/prescriptions":"/demo/prescriptions.json","/procedures":"/demo/procedures.json","/services":"/demo/services.json","/staff":"/demo/staff.json","/telemedicines":"/demo/telemedicines.json","/treatmentplans":"/demo/treatmentplans.json"};Tr&&(b.a.defaults.baseURL="",b.a.interceptors.request.use((async e=>{if(console.log(`Request Method: ${e.method}`),e.method||(e.method="get"),"get"===e.method.toLowerCase()&&"string"===typeof e.url){let t;try{t=new URL(e.url,window.location.origin).pathname.split("?")[0],console.log(`Request URL Path: ${t}`)}catch{t=e.url.split("?")[0]}const a=Object.keys(Ar).find((e=>t===e||t.startsWith(e+"/")||t.startsWith(e+"?")));a&&(e.adapter=async()=>{const t=await fetch(Ar[a]);if(!t.ok)return{data:{error:"Demo data not found"},status:404,statusText:"Not Found",headers:{},config:e,request:{}};return{data:await t.json(),status:200,statusText:"OK",headers:{},config:e,request:{}}})}return e})));var Mr=function(){return Object(s.jsx)(Pr,{})};var Rr=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,796)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:i,getTTFB:l}=t;a(e),s(e),n(e),i(e),l(e)}))},Er=a(391),qr=a(736);const zr=Object(Er.a)({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}});c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(qr.a,{theme:zr,children:Object(s.jsx)(Mr,{})})}),document.getElementById("root")),Rr()}},[[630,2,3]]]);
//# sourceMappingURL=main.1c3e2450.chunk.js.map